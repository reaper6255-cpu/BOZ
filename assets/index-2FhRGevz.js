(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var vB=Object.defineProperty,bB=(e,t,n)=>t in e?vB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rj=(e,t,n)=>bB(e,typeof t!="symbol"?t+"":t,n);function xB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Io(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sT={exports:{}},U0={},lT={exports:{}},gn={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Up=Symbol.for("react.element"),wB=Symbol.for("react.portal"),kB=Symbol.for("react.fragment"),SB=Symbol.for("react.strict_mode"),NB=Symbol.for("react.profiler"),jB=Symbol.for("react.provider"),CB=Symbol.for("react.context"),MB=Symbol.for("react.forward_ref"),AB=Symbol.for("react.suspense"),EB=Symbol.for("react.memo"),DB=Symbol.for("react.lazy"),Bj=Symbol.iterator;function TB(e){return e===null||typeof e!="object"?null:(e=Bj&&e[Bj]||e["@@iterator"],typeof e=="function"?e:null)}var cT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uT=Object.assign,dT={};function Od(e,t,n){this.props=e,this.context=t,this.refs=dT,this.updater=n||cT}Od.prototype.isReactComponent={};Od.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Od.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fT(){}fT.prototype=Od.prototype;function M1(e,t,n){this.props=e,this.context=t,this.refs=dT,this.updater=n||cT}var A1=M1.prototype=new fT;A1.constructor=M1;uT(A1,Od.prototype);A1.isPureReactComponent=!0;var Uj=Array.isArray,pT=Object.prototype.hasOwnProperty,E1={current:null},mT={key:!0,ref:!0,__self:!0,__source:!0};function hT(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)pT.call(t,r)&&!mT.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Up,type:e,key:i,ref:o,props:a,_owner:E1.current}}function PB(e,t){return{$$typeof:Up,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function D1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Up}function OB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zj=/\/+/g;function Dv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OB(""+e.key):t.toString(36)}function _h(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Up:case wB:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Dv(o,0):r,Uj(a)?(n="",e!=null&&(n=e.replace(zj,"$&/")+"/"),_h(a,t,n,"",function(u){return u})):a!=null&&(D1(a)&&(a=PB(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(zj,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",Uj(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Dv(i,s);o+=_h(i,t,n,l,a)}else if(l=TB(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Dv(i,s++),o+=_h(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Wm(e,t,n){if(e==null)return e;var r=[],a=0;return _h(e,r,"","",function(i){return t.call(n,i,a++)}),r}function IB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xa={current:null},Lh={transition:null},_B={ReactCurrentDispatcher:Xa,ReactCurrentBatchConfig:Lh,ReactCurrentOwner:E1};function gT(){throw Error("act(...) is not supported in production builds of React.")}gn.Children={map:Wm,forEach:function(e,t,n){Wm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wm(e,function(){t++}),t},toArray:function(e){return Wm(e,function(t){return t})||[]},only:function(e){if(!D1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gn.Component=Od;gn.Fragment=kB;gn.Profiler=NB;gn.PureComponent=M1;gn.StrictMode=SB;gn.Suspense=AB;gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_B;gn.act=gT;gn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uT({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=E1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)pT.call(t,l)&&!mT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Up,type:e.type,key:a,ref:i,props:r,_owner:o}};gn.createContext=function(e){return e={$$typeof:CB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jB,_context:e},e.Consumer=e};gn.createElement=hT;gn.createFactory=function(e){var t=hT.bind(null,e);return t.type=e,t};gn.createRef=function(){return{current:null}};gn.forwardRef=function(e){return{$$typeof:MB,render:e}};gn.isValidElement=D1;gn.lazy=function(e){return{$$typeof:DB,_payload:{_status:-1,_result:e},_init:IB}};gn.memo=function(e,t){return{$$typeof:EB,type:e,compare:t===void 0?null:t}};gn.startTransition=function(e){var t=Lh.transition;Lh.transition={};try{e()}finally{Lh.transition=t}};gn.unstable_act=gT;gn.useCallback=function(e,t){return Xa.current.useCallback(e,t)};gn.useContext=function(e){return Xa.current.useContext(e)};gn.useDebugValue=function(){};gn.useDeferredValue=function(e){return Xa.current.useDeferredValue(e)};gn.useEffect=function(e,t){return Xa.current.useEffect(e,t)};gn.useId=function(){return Xa.current.useId()};gn.useImperativeHandle=function(e,t,n){return Xa.current.useImperativeHandle(e,t,n)};gn.useInsertionEffect=function(e,t){return Xa.current.useInsertionEffect(e,t)};gn.useLayoutEffect=function(e,t){return Xa.current.useLayoutEffect(e,t)};gn.useMemo=function(e,t){return Xa.current.useMemo(e,t)};gn.useReducer=function(e,t,n){return Xa.current.useReducer(e,t,n)};gn.useRef=function(e){return Xa.current.useRef(e)};gn.useState=function(e){return Xa.current.useState(e)};gn.useSyncExternalStore=function(e,t,n){return Xa.current.useSyncExternalStore(e,t,n)};gn.useTransition=function(){return Xa.current.useTransition()};gn.version="18.3.1";lT.exports=gn;var g=lT.exports;const z0=Io(g),LB=xB({__proto__:null,default:z0},[g]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var FB=g,$B=Symbol.for("react.element"),RB=Symbol.for("react.fragment"),BB=Object.prototype.hasOwnProperty,UB=FB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zB={key:!0,ref:!0,__self:!0,__source:!0};function yT(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)BB.call(t,r)&&!zB.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:$B,type:e,key:i,ref:o,props:a,_owner:UB.current}}U0.Fragment=RB;U0.jsx=yT;U0.jsxs=yT;sT.exports=U0;var c=sT.exports,rx={},vT={exports:{}},_i={},bT={exports:{}},xT={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(H,W){var k=H.length;H.push(W);e:for(;0<k;){var V=k-1>>>1,P=H[V];if(0<a(P,W))H[V]=W,H[k]=P,k=V;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],k=H.pop();if(k!==W){H[0]=k;e:for(var V=0,P=H.length,N=P>>>1;V<N;){var F=2*(V+1)-1,z=H[F],Z=F+1,se=H[Z];if(0>a(z,k))Z<P&&0>a(se,z)?(H[V]=se,H[Z]=k,V=Z):(H[V]=z,H[F]=k,V=F);else if(Z<P&&0>a(se,k))H[V]=se,H[Z]=k,V=Z;else break e}}return W}function a(H,W){var k=H.sortIndex-W.sortIndex;return k!==0?k:H.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,p=3,m=!1,h=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=H)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function S(H){if(v=!1,w(H),!h)if(n(l)!==null)h=!0,ke(C);else{var W=n(u);W!==null&&te(S,W.startTime-H)}}function C(H,W){h=!1,v&&(v=!1,y(T),T=-1),m=!0;var k=p;try{for(w(W),f=n(l);f!==null&&(!(f.expirationTime>W)||H&&!I());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var P=V(f.expirationTime<=W);W=e.unstable_now(),typeof P=="function"?f.callback=P:f===n(l)&&r(l),w(W)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var F=n(u);F!==null&&te(S,F.startTime-W),N=!1}return N}finally{f=null,p=k,m=!1}}var j=!1,A=null,T=-1,R=5,D=-1;function I(){return!(e.unstable_now()-D<R)}function O(){if(A!==null){var H=e.unstable_now();D=H;var W=!0;try{W=A(!0,H)}finally{W?q():(j=!1,A=null)}}else j=!1}var q;if(typeof x=="function")q=function(){x(O)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ie=Y.port2;Y.port1.onmessage=O,q=function(){ie.postMessage(null)}}else q=function(){b(O,0)};function ke(H){A=H,j||(j=!0,q())}function te(H,W){T=b(function(){H(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,ke(C))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var k=p;p=W;try{return H()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var k=p;p=H;try{return W()}finally{p=k}},e.unstable_scheduleCallback=function(H,W,k){var V=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?V+k:V):k=V,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=k+P,H={id:d++,callback:W,priorityLevel:H,startTime:k,expirationTime:P,sortIndex:-1},k>V?(H.sortIndex=k,t(u,H),n(l)===null&&H===n(u)&&(v?(y(T),T=-1):v=!0,te(S,k-V))):(H.sortIndex=P,t(l,H),h||m||(h=!0,ke(C))),H},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(H){var W=p;return function(){var k=p;p=W;try{return H.apply(this,arguments)}finally{p=k}}}})(xT);bT.exports=xT;var VB=bT.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var WB=g,Pi=VB;function ft(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wT=new Set,ep={};function cu(e,t){dd(e,t),dd(e+"Capture",t)}function dd(e,t){for(ep[e]=t,e=0;e<t.length;e++)wT.add(t[e])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ax=Object.prototype.hasOwnProperty,qB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vj={},Wj={};function HB(e){return ax.call(Wj,e)?!0:ax.call(Vj,e)?!1:qB.test(e)?Wj[e]=!0:(Vj[e]=!0,!1)}function KB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GB(e,t,n,r){if(t===null||typeof t>"u"||KB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Za(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ca={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ca[e]=new Za(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ca[t]=new Za(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ca[e]=new Za(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ca[e]=new Za(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ca[e]=new Za(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ca[e]=new Za(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ca[e]=new Za(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ca[e]=new Za(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ca[e]=new Za(e,5,!1,e.toLowerCase(),null,!1,!1)});var T1=/[\-:]([a-z])/g;function P1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T1,P1);Ca[t]=new Za(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T1,P1);Ca[t]=new Za(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T1,P1);Ca[t]=new Za(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ca[e]=new Za(e,1,!1,e.toLowerCase(),null,!1,!1)});Ca.xlinkHref=new Za("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ca[e]=new Za(e,1,!1,e.toLowerCase(),null,!0,!0)});function O1(e,t,n,r){var a=Ca.hasOwnProperty(t)?Ca[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GB(t,n,a,r)&&(n=null),r||a===null?HB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nl=WB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qm=Symbol.for("react.element"),Lu=Symbol.for("react.portal"),Fu=Symbol.for("react.fragment"),I1=Symbol.for("react.strict_mode"),ix=Symbol.for("react.profiler"),kT=Symbol.for("react.provider"),ST=Symbol.for("react.context"),_1=Symbol.for("react.forward_ref"),ox=Symbol.for("react.suspense"),sx=Symbol.for("react.suspense_list"),L1=Symbol.for("react.memo"),Sl=Symbol.for("react.lazy"),NT=Symbol.for("react.offscreen"),qj=Symbol.iterator;function rf(e){return e===null||typeof e!="object"?null:(e=qj&&e[qj]||e["@@iterator"],typeof e=="function"?e:null)}var wr=Object.assign,Tv;function jf(e){if(Tv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tv=t&&t[1]||""}return`
`+Tv+e}var Pv=!1;function Ov(e,t){if(!e||Pv)return"";Pv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Pv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jf(e):""}function YB(e){switch(e.tag){case 5:return jf(e.type);case 16:return jf("Lazy");case 13:return jf("Suspense");case 19:return jf("SuspenseList");case 0:case 2:case 15:return e=Ov(e.type,!1),e;case 11:return e=Ov(e.type.render,!1),e;case 1:return e=Ov(e.type,!0),e;default:return""}}function lx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fu:return"Fragment";case Lu:return"Portal";case ix:return"Profiler";case I1:return"StrictMode";case ox:return"Suspense";case sx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ST:return(e.displayName||"Context")+".Consumer";case kT:return(e._context.displayName||"Context")+".Provider";case _1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L1:return t=e.displayName||null,t!==null?t:lx(e.type)||"Memo";case Sl:t=e._payload,e=e._init;try{return lx(e(t))}catch{}}return null}function XB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lx(t);case 8:return t===I1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZB(e){var t=jT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hm(e){e._valueTracker||(e._valueTracker=ZB(e))}function CT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function og(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cx(e,t){var n=t.checked;return wr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hj(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function MT(e,t){t=t.checked,t!=null&&O1(e,"checked",t,!1)}function ux(e,t){MT(e,t);var n=Hl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dx(e,t.type,n):t.hasOwnProperty("defaultValue")&&dx(e,t.type,Hl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kj(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dx(e,t,n){(t!=="number"||og(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Cf=Array.isArray;function ed(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function fx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ft(91));return wr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gj(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ft(92));if(Cf(n)){if(1<n.length)throw Error(ft(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hl(n)}}function AT(e,t){var n=Hl(t.value),r=Hl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ET(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function px(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ET(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Km,DT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Km=Km||document.createElement("div"),Km.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Km.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var If={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QB=["Webkit","ms","Moz","O"];Object.keys(If).forEach(function(e){QB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),If[t]=If[e]})});function TT(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||If.hasOwnProperty(e)&&If[e]?(""+t).trim():t+"px"}function PT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=TT(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var JB=wr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mx(e,t){if(t){if(JB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ft(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ft(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ft(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ft(62))}}function hx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gx=null;function F1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yx=null,td=null,nd=null;function Xj(e){if(e=Wp(e)){if(typeof yx!="function")throw Error(ft(280));var t=e.stateNode;t&&(t=K0(t),yx(e.stateNode,e.type,t))}}function OT(e){td?nd?nd.push(e):nd=[e]:td=e}function IT(){if(td){var e=td,t=nd;if(nd=td=null,Xj(e),t)for(e=0;e<t.length;e++)Xj(t[e])}}function _T(e,t){return e(t)}function LT(){}var Iv=!1;function FT(e,t,n){if(Iv)return e(t,n);Iv=!0;try{return _T(e,t,n)}finally{Iv=!1,(td!==null||nd!==null)&&(LT(),IT())}}function np(e,t){var n=e.stateNode;if(n===null)return null;var r=K0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ft(231,t,typeof n));return n}var vx=!1;if(zs)try{var af={};Object.defineProperty(af,"passive",{get:function(){vx=!0}}),window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{vx=!1}function eU(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var _f=!1,sg=null,lg=!1,bx=null,tU={onError:function(e){_f=!0,sg=e}};function nU(e,t,n,r,a,i,o,s,l){_f=!1,sg=null,eU.apply(tU,arguments)}function rU(e,t,n,r,a,i,o,s,l){if(nU.apply(this,arguments),_f){if(_f){var u=sg;_f=!1,sg=null}else throw Error(ft(198));lg||(lg=!0,bx=u)}}function uu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $T(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zj(e){if(uu(e)!==e)throw Error(ft(188))}function aU(e){var t=e.alternate;if(!t){if(t=uu(e),t===null)throw Error(ft(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Zj(a),e;if(i===r)return Zj(a),t;i=i.sibling}throw Error(ft(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(ft(189))}}if(n.alternate!==r)throw Error(ft(190))}if(n.tag!==3)throw Error(ft(188));return n.stateNode.current===n?e:t}function RT(e){return e=aU(e),e!==null?BT(e):null}function BT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=BT(e);if(t!==null)return t;e=e.sibling}return null}var UT=Pi.unstable_scheduleCallback,Qj=Pi.unstable_cancelCallback,iU=Pi.unstable_shouldYield,oU=Pi.unstable_requestPaint,Ir=Pi.unstable_now,sU=Pi.unstable_getCurrentPriorityLevel,$1=Pi.unstable_ImmediatePriority,zT=Pi.unstable_UserBlockingPriority,cg=Pi.unstable_NormalPriority,lU=Pi.unstable_LowPriority,VT=Pi.unstable_IdlePriority,V0=null,ts=null;function cU(e){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(V0,e,void 0,(e.current.flags&128)===128)}catch{}}var ko=Math.clz32?Math.clz32:fU,uU=Math.log,dU=Math.LN2;function fU(e){return e>>>=0,e===0?32:31-(uU(e)/dU|0)|0}var Gm=64,Ym=4194304;function Mf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ug(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=Mf(s):(i&=o,i!==0&&(r=Mf(i)))}else o=n&~a,o!==0?r=Mf(o):i!==0&&(r=Mf(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ko(t),a=1<<n,r|=e[n],t&=~a;return r}function pU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mU(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ko(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=pU(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function xx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function WT(){var e=Gm;return Gm<<=1,!(Gm&4194240)&&(Gm=64),e}function _v(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ko(t),e[t]=n}function hU(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ko(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function R1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ko(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var $n=0;function qT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var HT,B1,KT,GT,YT,wx=!1,Xm=[],_l=null,Ll=null,Fl=null,rp=new Map,ap=new Map,Al=[],gU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jj(e,t){switch(e){case"focusin":case"focusout":_l=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":rp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(t.pointerId)}}function of(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Wp(t),t!==null&&B1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function yU(e,t,n,r,a){switch(t){case"focusin":return _l=of(_l,e,t,n,r,a),!0;case"dragenter":return Ll=of(Ll,e,t,n,r,a),!0;case"mouseover":return Fl=of(Fl,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return rp.set(i,of(rp.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ap.set(i,of(ap.get(i)||null,e,t,n,r,a)),!0}return!1}function XT(e){var t=Tc(e.target);if(t!==null){var n=uu(t);if(n!==null){if(t=n.tag,t===13){if(t=$T(n),t!==null){e.blockedOn=t,YT(e.priority,function(){KT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gx=r,n.target.dispatchEvent(r),gx=null}else return t=Wp(n),t!==null&&B1(t),e.blockedOn=n,!1;t.shift()}return!0}function e2(e,t,n){Fh(e)&&n.delete(t)}function vU(){wx=!1,_l!==null&&Fh(_l)&&(_l=null),Ll!==null&&Fh(Ll)&&(Ll=null),Fl!==null&&Fh(Fl)&&(Fl=null),rp.forEach(e2),ap.forEach(e2)}function sf(e,t){e.blockedOn===t&&(e.blockedOn=null,wx||(wx=!0,Pi.unstable_scheduleCallback(Pi.unstable_NormalPriority,vU)))}function ip(e){function t(a){return sf(a,e)}if(0<Xm.length){sf(Xm[0],e);for(var n=1;n<Xm.length;n++){var r=Xm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_l!==null&&sf(_l,e),Ll!==null&&sf(Ll,e),Fl!==null&&sf(Fl,e),rp.forEach(t),ap.forEach(t),n=0;n<Al.length;n++)r=Al[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Al.length&&(n=Al[0],n.blockedOn===null);)XT(n),n.blockedOn===null&&Al.shift()}var rd=nl.ReactCurrentBatchConfig,dg=!0;function bU(e,t,n,r){var a=$n,i=rd.transition;rd.transition=null;try{$n=1,U1(e,t,n,r)}finally{$n=a,rd.transition=i}}function xU(e,t,n,r){var a=$n,i=rd.transition;rd.transition=null;try{$n=4,U1(e,t,n,r)}finally{$n=a,rd.transition=i}}function U1(e,t,n,r){if(dg){var a=kx(e,t,n,r);if(a===null)qv(e,t,r,fg,n),Jj(e,r);else if(yU(a,e,t,n,r))r.stopPropagation();else if(Jj(e,r),t&4&&-1<gU.indexOf(e)){for(;a!==null;){var i=Wp(a);if(i!==null&&HT(i),i=kx(e,t,n,r),i===null&&qv(e,t,r,fg,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else qv(e,t,r,null,n)}}var fg=null;function kx(e,t,n,r){if(fg=null,e=F1(r),e=Tc(e),e!==null)if(t=uu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$T(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fg=e,null}function ZT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sU()){case $1:return 1;case zT:return 4;case cg:case lU:return 16;case VT:return 536870912;default:return 16}default:return 16}}var Tl=null,z1=null,$h=null;function QT(){if($h)return $h;var e,t=z1,n=t.length,r,a="value"in Tl?Tl.value:Tl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return $h=a.slice(e,1<r?1-r:void 0)}function Rh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zm(){return!0}function t2(){return!1}function Li(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zm:t2,this.isPropagationStopped=t2,this}return wr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zm)},persist:function(){},isPersistent:Zm}),t}var Id={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V1=Li(Id),Vp=wr({},Id,{view:0,detail:0}),wU=Li(Vp),Lv,Fv,lf,W0=wr({},Vp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lf&&(lf&&e.type==="mousemove"?(Lv=e.screenX-lf.screenX,Fv=e.screenY-lf.screenY):Fv=Lv=0,lf=e),Lv)},movementY:function(e){return"movementY"in e?e.movementY:Fv}}),n2=Li(W0),kU=wr({},W0,{dataTransfer:0}),SU=Li(kU),NU=wr({},Vp,{relatedTarget:0}),$v=Li(NU),jU=wr({},Id,{animationName:0,elapsedTime:0,pseudoElement:0}),CU=Li(jU),MU=wr({},Id,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AU=Li(MU),EU=wr({},Id,{data:0}),r2=Li(EU),DU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PU[e])?!!t[e]:!1}function W1(){return OU}var IU=wr({},Vp,{key:function(e){if(e.key){var t=DU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W1,charCode:function(e){return e.type==="keypress"?Rh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_U=Li(IU),LU=wr({},W0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a2=Li(LU),FU=wr({},Vp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W1}),$U=Li(FU),RU=wr({},Id,{propertyName:0,elapsedTime:0,pseudoElement:0}),BU=Li(RU),UU=wr({},W0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zU=Li(UU),VU=[9,13,27,32],q1=zs&&"CompositionEvent"in window,Lf=null;zs&&"documentMode"in document&&(Lf=document.documentMode);var WU=zs&&"TextEvent"in window&&!Lf,JT=zs&&(!q1||Lf&&8<Lf&&11>=Lf),i2=" ",o2=!1;function eP(e,t){switch(e){case"keyup":return VU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $u=!1;function qU(e,t){switch(e){case"compositionend":return tP(t);case"keypress":return t.which!==32?null:(o2=!0,i2);case"textInput":return e=t.data,e===i2&&o2?null:e;default:return null}}function HU(e,t){if($u)return e==="compositionend"||!q1&&eP(e,t)?(e=QT(),$h=z1=Tl=null,$u=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return JT&&t.locale!=="ko"?null:t.data;default:return null}}var KU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KU[e.type]:t==="textarea"}function nP(e,t,n,r){OT(r),t=pg(t,"onChange"),0<t.length&&(n=new V1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ff=null,op=null;function GU(e){pP(e,0)}function q0(e){var t=Uu(e);if(CT(t))return e}function YU(e,t){if(e==="change")return t}var rP=!1;if(zs){var Rv;if(zs){var Bv="oninput"in document;if(!Bv){var l2=document.createElement("div");l2.setAttribute("oninput","return;"),Bv=typeof l2.oninput=="function"}Rv=Bv}else Rv=!1;rP=Rv&&(!document.documentMode||9<document.documentMode)}function c2(){Ff&&(Ff.detachEvent("onpropertychange",aP),op=Ff=null)}function aP(e){if(e.propertyName==="value"&&q0(op)){var t=[];nP(t,op,e,F1(e)),FT(GU,t)}}function XU(e,t,n){e==="focusin"?(c2(),Ff=t,op=n,Ff.attachEvent("onpropertychange",aP)):e==="focusout"&&c2()}function ZU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return q0(op)}function QU(e,t){if(e==="click")return q0(t)}function JU(e,t){if(e==="input"||e==="change")return q0(t)}function ez(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Co=typeof Object.is=="function"?Object.is:ez;function sp(e,t){if(Co(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!ax.call(t,a)||!Co(e[a],t[a]))return!1}return!0}function u2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d2(e,t){var n=u2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u2(n)}}function iP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oP(){for(var e=window,t=og();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=og(e.document)}return t}function H1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tz(e){var t=oP(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iP(n.ownerDocument.documentElement,n)){if(r!==null&&H1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=d2(n,i);var o=d2(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nz=zs&&"documentMode"in document&&11>=document.documentMode,Ru=null,Sx=null,$f=null,Nx=!1;function f2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nx||Ru==null||Ru!==og(r)||(r=Ru,"selectionStart"in r&&H1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$f&&sp($f,r)||($f=r,r=pg(Sx,"onSelect"),0<r.length&&(t=new V1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ru)))}function Qm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bu={animationend:Qm("Animation","AnimationEnd"),animationiteration:Qm("Animation","AnimationIteration"),animationstart:Qm("Animation","AnimationStart"),transitionend:Qm("Transition","TransitionEnd")},Uv={},sP={};zs&&(sP=document.createElement("div").style,"AnimationEvent"in window||(delete Bu.animationend.animation,delete Bu.animationiteration.animation,delete Bu.animationstart.animation),"TransitionEvent"in window||delete Bu.transitionend.transition);function H0(e){if(Uv[e])return Uv[e];if(!Bu[e])return e;var t=Bu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sP)return Uv[e]=t[n];return e}var lP=H0("animationend"),cP=H0("animationiteration"),uP=H0("animationstart"),dP=H0("transitionend"),fP=new Map,p2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jl(e,t){fP.set(e,t),cu(t,[e])}for(var zv=0;zv<p2.length;zv++){var Vv=p2[zv],rz=Vv.toLowerCase(),az=Vv[0].toUpperCase()+Vv.slice(1);Jl(rz,"on"+az)}Jl(lP,"onAnimationEnd");Jl(cP,"onAnimationIteration");Jl(uP,"onAnimationStart");Jl("dblclick","onDoubleClick");Jl("focusin","onFocus");Jl("focusout","onBlur");Jl(dP,"onTransitionEnd");dd("onMouseEnter",["mouseout","mouseover"]);dd("onMouseLeave",["mouseout","mouseover"]);dd("onPointerEnter",["pointerout","pointerover"]);dd("onPointerLeave",["pointerout","pointerover"]);cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Af));function m2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rU(r,t,void 0,e),e.currentTarget=null}function pP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;m2(a,s,u),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;m2(a,s,u),i=l}}}if(lg)throw e=bx,lg=!1,bx=null,e}function nr(e,t){var n=t[Ex];n===void 0&&(n=t[Ex]=new Set);var r=e+"__bubble";n.has(r)||(mP(t,e,2,!1),n.add(r))}function Wv(e,t,n){var r=0;t&&(r|=4),mP(n,e,r,t)}var Jm="_reactListening"+Math.random().toString(36).slice(2);function lp(e){if(!e[Jm]){e[Jm]=!0,wT.forEach(function(n){n!=="selectionchange"&&(iz.has(n)||Wv(n,!1,e),Wv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jm]||(t[Jm]=!0,Wv("selectionchange",!1,t))}}function mP(e,t,n,r){switch(ZT(t)){case 1:var a=bU;break;case 4:a=xU;break;default:a=U1}n=a.bind(null,t,n,e),a=void 0,!vx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qv(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=Tc(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}FT(function(){var u=i,d=F1(n),f=[];e:{var p=fP.get(e);if(p!==void 0){var m=V1,h=e;switch(e){case"keypress":if(Rh(n)===0)break e;case"keydown":case"keyup":m=_U;break;case"focusin":h="focus",m=$v;break;case"focusout":h="blur",m=$v;break;case"beforeblur":case"afterblur":m=$v;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=n2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=SU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$U;break;case lP:case cP:case uP:m=CU;break;case dP:m=BU;break;case"scroll":m=wU;break;case"wheel":m=zU;break;case"copy":case"cut":case"paste":m=AU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=a2}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var x=u,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=np(x,y),S!=null&&v.push(cp(x,S,w)))),b)break;x=x.return}0<v.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==gx&&(h=n.relatedTarget||n.fromElement)&&(Tc(h)||h[Vs]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=u,h=h?Tc(h):null,h!==null&&(b=uu(h),h!==b||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=u),m!==h)){if(v=n2,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=a2,S="onPointerLeave",y="onPointerEnter",x="pointer"),b=m==null?p:Uu(m),w=h==null?p:Uu(h),p=new v(S,x+"leave",m,n,d),p.target=b,p.relatedTarget=w,S=null,Tc(d)===u&&(v=new v(y,x+"enter",h,n,d),v.target=w,v.relatedTarget=b,S=v),b=S,m&&h)t:{for(v=m,y=h,x=0,w=v;w;w=Mu(w))x++;for(w=0,S=y;S;S=Mu(S))w++;for(;0<x-w;)v=Mu(v),x--;for(;0<w-x;)y=Mu(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Mu(v),y=Mu(y)}v=null}else v=null;m!==null&&h2(f,p,m,v,!1),h!==null&&b!==null&&h2(f,b,h,v,!0)}}e:{if(p=u?Uu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=YU;else if(s2(p))if(rP)C=JU;else{C=ZU;var j=XU}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=QU);if(C&&(C=C(e,u))){nP(f,C,n,d);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&dx(p,"number",p.value)}switch(j=u?Uu(u):window,e){case"focusin":(s2(j)||j.contentEditable==="true")&&(Ru=j,Sx=u,$f=null);break;case"focusout":$f=Sx=Ru=null;break;case"mousedown":Nx=!0;break;case"contextmenu":case"mouseup":case"dragend":Nx=!1,f2(f,n,d);break;case"selectionchange":if(nz)break;case"keydown":case"keyup":f2(f,n,d)}var A;if(q1)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else $u?eP(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(JT&&n.locale!=="ko"&&($u||T!=="onCompositionStart"?T==="onCompositionEnd"&&$u&&(A=QT()):(Tl=d,z1="value"in Tl?Tl.value:Tl.textContent,$u=!0)),j=pg(u,T),0<j.length&&(T=new r2(T,e,null,n,d),f.push({event:T,listeners:j}),A?T.data=A:(A=tP(n),A!==null&&(T.data=A)))),(A=WU?qU(e,n):HU(e,n))&&(u=pg(u,"onBeforeInput"),0<u.length&&(d=new r2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}pP(f,t)})}function cp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pg(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=np(e,n),i!=null&&r.unshift(cp(e,i,a)),i=np(e,t),i!=null&&r.push(cp(e,i,a))),e=e.return}return r}function Mu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function h2(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,a?(l=np(n,i),l!=null&&o.unshift(cp(n,l,s))):a||(l=np(n,i),l!=null&&o.push(cp(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var oz=/\r\n?/g,sz=/\u0000|\uFFFD/g;function g2(e){return(typeof e=="string"?e:""+e).replace(oz,`
`).replace(sz,"")}function eh(e,t,n){if(t=g2(t),g2(e)!==t&&n)throw Error(ft(425))}function mg(){}var jx=null,Cx=null;function Mx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ax=typeof setTimeout=="function"?setTimeout:void 0,lz=typeof clearTimeout=="function"?clearTimeout:void 0,y2=typeof Promise=="function"?Promise:void 0,cz=typeof queueMicrotask=="function"?queueMicrotask:typeof y2<"u"?function(e){return y2.resolve(null).then(e).catch(uz)}:Ax;function uz(e){setTimeout(function(){throw e})}function Hv(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),ip(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);ip(t)}function $l(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function v2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _d=Math.random().toString(36).slice(2),Jo="__reactFiber$"+_d,up="__reactProps$"+_d,Vs="__reactContainer$"+_d,Ex="__reactEvents$"+_d,dz="__reactListeners$"+_d,fz="__reactHandles$"+_d;function Tc(e){var t=e[Jo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vs]||n[Jo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=v2(e);e!==null;){if(n=e[Jo])return n;e=v2(e)}return t}e=n,n=e.parentNode}return null}function Wp(e){return e=e[Jo]||e[Vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ft(33))}function K0(e){return e[up]||null}var Dx=[],zu=-1;function ec(e){return{current:e}}function ir(e){0>zu||(e.current=Dx[zu],Dx[zu]=null,zu--)}function Jn(e,t){zu++,Dx[zu]=e.current,e.current=t}var Kl={},Ra=ec(Kl),li=ec(!1),Gc=Kl;function fd(e,t){var n=e.type.contextTypes;if(!n)return Kl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ci(e){return e=e.childContextTypes,e!=null}function hg(){ir(li),ir(Ra)}function b2(e,t,n){if(Ra.current!==Kl)throw Error(ft(168));Jn(Ra,t),Jn(li,n)}function hP(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ft(108,XB(e)||"Unknown",a));return wr({},n,r)}function gg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kl,Gc=Ra.current,Jn(Ra,e),Jn(li,li.current),!0}function x2(e,t,n){var r=e.stateNode;if(!r)throw Error(ft(169));n?(e=hP(e,t,Gc),r.__reactInternalMemoizedMergedChildContext=e,ir(li),ir(Ra),Jn(Ra,e)):ir(li),Jn(li,n)}var Ms=null,G0=!1,Kv=!1;function gP(e){Ms===null?Ms=[e]:Ms.push(e)}function pz(e){G0=!0,gP(e)}function tc(){if(!Kv&&Ms!==null){Kv=!0;var e=0,t=$n;try{var n=Ms;for($n=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ms=null,G0=!1}catch(a){throw Ms!==null&&(Ms=Ms.slice(e+1)),UT($1,tc),a}finally{$n=t,Kv=!1}}return null}var Vu=[],Wu=0,yg=null,vg=0,Gi=[],Yi=0,Yc=null,Ts=1,Ps="";function Sc(e,t){Vu[Wu++]=vg,Vu[Wu++]=yg,yg=e,vg=t}function yP(e,t,n){Gi[Yi++]=Ts,Gi[Yi++]=Ps,Gi[Yi++]=Yc,Yc=e;var r=Ts;e=Ps;var a=32-ko(r)-1;r&=~(1<<a),n+=1;var i=32-ko(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ts=1<<32-ko(t)+a|n<<a|r,Ps=i+e}else Ts=1<<i|n<<a|r,Ps=e}function K1(e){e.return!==null&&(Sc(e,1),yP(e,1,0))}function G1(e){for(;e===yg;)yg=Vu[--Wu],Vu[Wu]=null,vg=Vu[--Wu],Vu[Wu]=null;for(;e===Yc;)Yc=Gi[--Yi],Gi[Yi]=null,Ps=Gi[--Yi],Gi[Yi]=null,Ts=Gi[--Yi],Gi[Yi]=null}var Ei=null,Mi=null,cr=!1,vo=null;function vP(e,t){var n=Zi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function w2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ei=e,Mi=$l(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ei=e,Mi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yc!==null?{id:Ts,overflow:Ps}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ei=e,Mi=null,!0):!1;default:return!1}}function Tx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Px(e){if(cr){var t=Mi;if(t){var n=t;if(!w2(e,t)){if(Tx(e))throw Error(ft(418));t=$l(n.nextSibling);var r=Ei;t&&w2(e,t)?vP(r,n):(e.flags=e.flags&-4097|2,cr=!1,Ei=e)}}else{if(Tx(e))throw Error(ft(418));e.flags=e.flags&-4097|2,cr=!1,Ei=e}}}function k2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ei=e}function th(e){if(e!==Ei)return!1;if(!cr)return k2(e),cr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mx(e.type,e.memoizedProps)),t&&(t=Mi)){if(Tx(e))throw bP(),Error(ft(418));for(;t;)vP(e,t),t=$l(t.nextSibling)}if(k2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ft(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mi=$l(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mi=null}}else Mi=Ei?$l(e.stateNode.nextSibling):null;return!0}function bP(){for(var e=Mi;e;)e=$l(e.nextSibling)}function pd(){Mi=Ei=null,cr=!1}function Y1(e){vo===null?vo=[e]:vo.push(e)}var mz=nl.ReactCurrentBatchConfig;function cf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ft(309));var r=n.stateNode}if(!r)throw Error(ft(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ft(284));if(!n._owner)throw Error(ft(290,e))}return e}function nh(e,t){throw e=Object.prototype.toString.call(t),Error(ft(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function S2(e){var t=e._init;return t(e._payload)}function xP(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=zl(y,x),y.index=0,y.sibling=null,y}function i(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,x,w,S){return x===null||x.tag!==6?(x=eb(w,y.mode,S),x.return=y,x):(x=a(x,w),x.return=y,x)}function l(y,x,w,S){var C=w.type;return C===Fu?d(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sl&&S2(C)===x.type)?(S=a(x,w.props),S.ref=cf(y,x,w),S.return=y,S):(S=Hh(w.type,w.key,w.props,null,y.mode,S),S.ref=cf(y,x,w),S.return=y,S)}function u(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=tb(w,y.mode,S),x.return=y,x):(x=a(x,w.children||[]),x.return=y,x)}function d(y,x,w,S,C){return x===null||x.tag!==7?(x=Uc(w,y.mode,S,C),x.return=y,x):(x=a(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=eb(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qm:return w=Hh(x.type,x.key,x.props,null,y.mode,w),w.ref=cf(y,null,x),w.return=y,w;case Lu:return x=tb(x,y.mode,w),x.return=y,x;case Sl:var S=x._init;return f(y,S(x._payload),w)}if(Cf(x)||rf(x))return x=Uc(x,y.mode,w,null),x.return=y,x;nh(y,x)}return null}function p(y,x,w,S){var C=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:s(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qm:return w.key===C?l(y,x,w,S):null;case Lu:return w.key===C?u(y,x,w,S):null;case Sl:return C=w._init,p(y,x,C(w._payload),S)}if(Cf(w)||rf(w))return C!==null?null:d(y,x,w,S,null);nh(y,w)}return null}function m(y,x,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,s(x,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qm:return y=y.get(S.key===null?w:S.key)||null,l(x,y,S,C);case Lu:return y=y.get(S.key===null?w:S.key)||null,u(x,y,S,C);case Sl:var j=S._init;return m(y,x,w,j(S._payload),C)}if(Cf(S)||rf(S))return y=y.get(w)||null,d(x,y,S,C,null);nh(x,S)}return null}function h(y,x,w,S){for(var C=null,j=null,A=x,T=x=0,R=null;A!==null&&T<w.length;T++){A.index>T?(R=A,A=null):R=A.sibling;var D=p(y,A,w[T],S);if(D===null){A===null&&(A=R);break}e&&A&&D.alternate===null&&t(y,A),x=i(D,x,T),j===null?C=D:j.sibling=D,j=D,A=R}if(T===w.length)return n(y,A),cr&&Sc(y,T),C;if(A===null){for(;T<w.length;T++)A=f(y,w[T],S),A!==null&&(x=i(A,x,T),j===null?C=A:j.sibling=A,j=A);return cr&&Sc(y,T),C}for(A=r(y,A);T<w.length;T++)R=m(A,y,T,w[T],S),R!==null&&(e&&R.alternate!==null&&A.delete(R.key===null?T:R.key),x=i(R,x,T),j===null?C=R:j.sibling=R,j=R);return e&&A.forEach(function(I){return t(y,I)}),cr&&Sc(y,T),C}function v(y,x,w,S){var C=rf(w);if(typeof C!="function")throw Error(ft(150));if(w=C.call(w),w==null)throw Error(ft(151));for(var j=C=null,A=x,T=x=0,R=null,D=w.next();A!==null&&!D.done;T++,D=w.next()){A.index>T?(R=A,A=null):R=A.sibling;var I=p(y,A,D.value,S);if(I===null){A===null&&(A=R);break}e&&A&&I.alternate===null&&t(y,A),x=i(I,x,T),j===null?C=I:j.sibling=I,j=I,A=R}if(D.done)return n(y,A),cr&&Sc(y,T),C;if(A===null){for(;!D.done;T++,D=w.next())D=f(y,D.value,S),D!==null&&(x=i(D,x,T),j===null?C=D:j.sibling=D,j=D);return cr&&Sc(y,T),C}for(A=r(y,A);!D.done;T++,D=w.next())D=m(A,y,T,D.value,S),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?T:D.key),x=i(D,x,T),j===null?C=D:j.sibling=D,j=D);return e&&A.forEach(function(O){return t(y,O)}),cr&&Sc(y,T),C}function b(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Fu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qm:e:{for(var C=w.key,j=x;j!==null;){if(j.key===C){if(C=w.type,C===Fu){if(j.tag===7){n(y,j.sibling),x=a(j,w.props.children),x.return=y,y=x;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sl&&S2(C)===j.type){n(y,j.sibling),x=a(j,w.props),x.ref=cf(y,j,w),x.return=y,y=x;break e}n(y,j);break}else t(y,j);j=j.sibling}w.type===Fu?(x=Uc(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=Hh(w.type,w.key,w.props,null,y.mode,S),S.ref=cf(y,x,w),S.return=y,y=S)}return o(y);case Lu:e:{for(j=w.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=a(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=tb(w,y.mode,S),x.return=y,y=x}return o(y);case Sl:return j=w._init,b(y,x,j(w._payload),S)}if(Cf(w))return h(y,x,w,S);if(rf(w))return v(y,x,w,S);nh(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=a(x,w),x.return=y,y=x):(n(y,x),x=eb(w,y.mode,S),x.return=y,y=x),o(y)):n(y,x)}return b}var md=xP(!0),wP=xP(!1),bg=ec(null),xg=null,qu=null,X1=null;function Z1(){X1=qu=xg=null}function Q1(e){var t=bg.current;ir(bg),e._currentValue=t}function Ox(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ad(e,t){xg=e,X1=qu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(oi=!0),e.firstContext=null)}function to(e){var t=e._currentValue;if(X1!==e)if(e={context:e,memoizedValue:t,next:null},qu===null){if(xg===null)throw Error(ft(308));qu=e,xg.dependencies={lanes:0,firstContext:e}}else qu=qu.next=e;return t}var Pc=null;function J1(e){Pc===null?Pc=[e]:Pc.push(e)}function kP(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,J1(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ws(e,r)}function Ws(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nl=!1;function ek(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Cn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ws(e,n)}return a=r.interleaved,a===null?(t.next=t,J1(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ws(e,n)}function Bh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,R1(e,n)}}function N2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wg(e,t,n,r){var a=e.updateQueue;Nl=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=u=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(p=t,m=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=wr({},f,p);break e;case 2:Nl=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Zc|=o,e.lanes=o,e.memoizedState=f}}function j2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ft(191,a));a.call(r)}}}var qp={},ns=ec(qp),dp=ec(qp),fp=ec(qp);function Oc(e){if(e===qp)throw Error(ft(174));return e}function tk(e,t){switch(Jn(fp,t),Jn(dp,e),Jn(ns,qp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:px(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=px(t,e)}ir(ns),Jn(ns,t)}function hd(){ir(ns),ir(dp),ir(fp)}function NP(e){Oc(fp.current);var t=Oc(ns.current),n=px(t,e.type);t!==n&&(Jn(dp,e),Jn(ns,n))}function nk(e){dp.current===e&&(ir(ns),ir(dp))}var gr=ec(0);function kg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gv=[];function rk(){for(var e=0;e<Gv.length;e++)Gv[e]._workInProgressVersionPrimary=null;Gv.length=0}var Uh=nl.ReactCurrentDispatcher,Yv=nl.ReactCurrentBatchConfig,Xc=0,xr=null,Qr=null,ha=null,Sg=!1,Rf=!1,pp=0,hz=0;function Da(){throw Error(ft(321))}function ak(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Co(e[n],t[n]))return!1;return!0}function ik(e,t,n,r,a,i){if(Xc=i,xr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uh.current=e===null||e.memoizedState===null?bz:xz,e=n(r,a),Rf){i=0;do{if(Rf=!1,pp=0,25<=i)throw Error(ft(301));i+=1,ha=Qr=null,t.updateQueue=null,Uh.current=wz,e=n(r,a)}while(Rf)}if(Uh.current=Ng,t=Qr!==null&&Qr.next!==null,Xc=0,ha=Qr=xr=null,Sg=!1,t)throw Error(ft(300));return e}function ok(){var e=pp!==0;return pp=0,e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?xr.memoizedState=ha=e:ha=ha.next=e,ha}function no(){if(Qr===null){var e=xr.alternate;e=e!==null?e.memoizedState:null}else e=Qr.next;var t=ha===null?xr.memoizedState:ha.next;if(t!==null)ha=t,Qr=e;else{if(e===null)throw Error(ft(310));Qr=e,e={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},ha===null?xr.memoizedState=ha=e:ha=ha.next=e}return ha}function mp(e,t){return typeof t=="function"?t(e):t}function Xv(e){var t=no(),n=t.queue;if(n===null)throw Error(ft(311));n.lastRenderedReducer=e;var r=Qr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,u=i;do{var d=u.lane;if((Xc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,xr.lanes|=d,Zc|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=s,Co(r,t.memoizedState)||(oi=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,xr.lanes|=i,Zc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zv(e){var t=no(),n=t.queue;if(n===null)throw Error(ft(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Co(i,t.memoizedState)||(oi=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function jP(){}function CP(e,t){var n=xr,r=no(),a=t(),i=!Co(r.memoizedState,a);if(i&&(r.memoizedState=a,oi=!0),r=r.queue,sk(EP.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ha!==null&&ha.memoizedState.tag&1){if(n.flags|=2048,hp(9,AP.bind(null,n,r,a,t),void 0,null),ya===null)throw Error(ft(349));Xc&30||MP(n,t,a)}return a}function MP(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function AP(e,t,n,r){t.value=n,t.getSnapshot=r,DP(t)&&TP(e)}function EP(e,t,n){return n(function(){DP(t)&&TP(e)})}function DP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Co(e,n)}catch{return!0}}function TP(e){var t=Ws(e,1);t!==null&&So(t,e,1,-1)}function C2(e){var t=Xo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:e},t.queue=e,e=e.dispatch=vz.bind(null,xr,e),[t.memoizedState,e]}function hp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function PP(){return no().memoizedState}function zh(e,t,n,r){var a=Xo();xr.flags|=e,a.memoizedState=hp(1|t,n,void 0,r===void 0?null:r)}function Y0(e,t,n,r){var a=no();r=r===void 0?null:r;var i=void 0;if(Qr!==null){var o=Qr.memoizedState;if(i=o.destroy,r!==null&&ak(r,o.deps)){a.memoizedState=hp(t,n,i,r);return}}xr.flags|=e,a.memoizedState=hp(1|t,n,i,r)}function M2(e,t){return zh(8390656,8,e,t)}function sk(e,t){return Y0(2048,8,e,t)}function OP(e,t){return Y0(4,2,e,t)}function IP(e,t){return Y0(4,4,e,t)}function _P(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function LP(e,t,n){return n=n!=null?n.concat([e]):null,Y0(4,4,_P.bind(null,t,e),n)}function lk(){}function FP(e,t){var n=no();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ak(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $P(e,t){var n=no();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ak(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function RP(e,t,n){return Xc&21?(Co(n,t)||(n=WT(),xr.lanes|=n,Zc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,oi=!0),e.memoizedState=n)}function gz(e,t){var n=$n;$n=n!==0&&4>n?n:4,e(!0);var r=Yv.transition;Yv.transition={};try{e(!1),t()}finally{$n=n,Yv.transition=r}}function BP(){return no().memoizedState}function yz(e,t,n){var r=Ul(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UP(e))zP(t,n);else if(n=kP(e,t,n,r),n!==null){var a=Ka();So(n,e,r,a),VP(n,t,r)}}function vz(e,t,n){var r=Ul(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UP(e))zP(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,Co(s,o)){var l=t.interleaved;l===null?(a.next=a,J1(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=kP(e,t,a,r),n!==null&&(a=Ka(),So(n,e,r,a),VP(n,t,r))}}function UP(e){var t=e.alternate;return e===xr||t!==null&&t===xr}function zP(e,t){Rf=Sg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function VP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,R1(e,n)}}var Ng={readContext:to,useCallback:Da,useContext:Da,useEffect:Da,useImperativeHandle:Da,useInsertionEffect:Da,useLayoutEffect:Da,useMemo:Da,useReducer:Da,useRef:Da,useState:Da,useDebugValue:Da,useDeferredValue:Da,useTransition:Da,useMutableSource:Da,useSyncExternalStore:Da,useId:Da,unstable_isNewReconciler:!1},bz={readContext:to,useCallback:function(e,t){return Xo().memoizedState=[e,t===void 0?null:t],e},useContext:to,useEffect:M2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zh(4194308,4,_P.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zh(4194308,4,e,t)},useInsertionEffect:function(e,t){return zh(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yz.bind(null,xr,e),[r.memoizedState,e]},useRef:function(e){var t=Xo();return e={current:e},t.memoizedState=e},useState:C2,useDebugValue:lk,useDeferredValue:function(e){return Xo().memoizedState=e},useTransition:function(){var e=C2(!1),t=e[0];return e=gz.bind(null,e[1]),Xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xr,a=Xo();if(cr){if(n===void 0)throw Error(ft(407));n=n()}else{if(n=t(),ya===null)throw Error(ft(349));Xc&30||MP(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,M2(EP.bind(null,r,i,e),[e]),r.flags|=2048,hp(9,AP.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Xo(),t=ya.identifierPrefix;if(cr){var n=Ps,r=Ts;n=(r&~(1<<32-ko(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xz={readContext:to,useCallback:FP,useContext:to,useEffect:sk,useImperativeHandle:LP,useInsertionEffect:OP,useLayoutEffect:IP,useMemo:$P,useReducer:Xv,useRef:PP,useState:function(){return Xv(mp)},useDebugValue:lk,useDeferredValue:function(e){var t=no();return RP(t,Qr.memoizedState,e)},useTransition:function(){var e=Xv(mp)[0],t=no().memoizedState;return[e,t]},useMutableSource:jP,useSyncExternalStore:CP,useId:BP,unstable_isNewReconciler:!1},wz={readContext:to,useCallback:FP,useContext:to,useEffect:sk,useImperativeHandle:LP,useInsertionEffect:OP,useLayoutEffect:IP,useMemo:$P,useReducer:Zv,useRef:PP,useState:function(){return Zv(mp)},useDebugValue:lk,useDeferredValue:function(e){var t=no();return Qr===null?t.memoizedState=e:RP(t,Qr.memoizedState,e)},useTransition:function(){var e=Zv(mp)[0],t=no().memoizedState;return[e,t]},useMutableSource:jP,useSyncExternalStore:CP,useId:BP,unstable_isNewReconciler:!1};function go(e,t){if(e&&e.defaultProps){t=wr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ix(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:wr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var X0={isMounted:function(e){return(e=e._reactInternals)?uu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ka(),a=Ul(e),i=Ls(r,a);i.payload=t,n!=null&&(i.callback=n),t=Rl(e,i,a),t!==null&&(So(t,e,a,r),Bh(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ka(),a=Ul(e),i=Ls(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Rl(e,i,a),t!==null&&(So(t,e,a,r),Bh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ka(),r=Ul(e),a=Ls(n,r);a.tag=2,t!=null&&(a.callback=t),t=Rl(e,a,r),t!==null&&(So(t,e,r,n),Bh(t,e,r))}};function A2(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!sp(n,r)||!sp(a,i):!0}function WP(e,t,n){var r=!1,a=Kl,i=t.contextType;return typeof i=="object"&&i!==null?i=to(i):(a=ci(t)?Gc:Ra.current,r=t.contextTypes,i=(r=r!=null)?fd(e,a):Kl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=X0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function E2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&X0.enqueueReplaceState(t,t.state,null)}function _x(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},ek(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=to(i):(i=ci(t)?Gc:Ra.current,a.context=fd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ix(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&X0.enqueueReplaceState(a,a.state,null),wg(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function gd(e,t){try{var n="",r=t;do n+=YB(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Qv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Lx(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kz=typeof WeakMap=="function"?WeakMap:Map;function qP(e,t,n){n=Ls(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cg||(Cg=!0,qx=r),Lx(e,t)},n}function HP(e,t,n){n=Ls(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Lx(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lx(e,t),typeof r!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function D2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kz;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Lz.bind(null,e,t,n),t.then(e,e))}function T2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function P2(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ls(-1,1),t.tag=2,Rl(n,t,1))),n.lanes|=1),e)}var Sz=nl.ReactCurrentOwner,oi=!1;function Wa(e,t,n,r){t.child=e===null?wP(t,null,n,r):md(t,e.child,n,r)}function O2(e,t,n,r,a){n=n.render;var i=t.ref;return ad(t,a),r=ik(e,t,n,r,i,a),n=ok(),e!==null&&!oi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qs(e,t,a)):(cr&&n&&K1(t),t.flags|=1,Wa(e,t,r,a),t.child)}function I2(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!gk(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,KP(e,t,i,r,a)):(e=Hh(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:sp,n(o,r)&&e.ref===t.ref)return qs(e,t,a)}return t.flags|=1,e=zl(i,r),e.ref=t.ref,e.return=t,t.child=e}function KP(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(sp(i,r)&&e.ref===t.ref)if(oi=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(oi=!0);else return t.lanes=e.lanes,qs(e,t,a)}return Fx(e,t,n,r,a)}function GP(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Ku,Ni),Ni|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jn(Ku,Ni),Ni|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Jn(Ku,Ni),Ni|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Jn(Ku,Ni),Ni|=r;return Wa(e,t,a,n),t.child}function YP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fx(e,t,n,r,a){var i=ci(n)?Gc:Ra.current;return i=fd(t,i),ad(t,a),n=ik(e,t,n,r,i,a),r=ok(),e!==null&&!oi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qs(e,t,a)):(cr&&r&&K1(t),t.flags|=1,Wa(e,t,n,a),t.child)}function _2(e,t,n,r,a){if(ci(n)){var i=!0;gg(t)}else i=!1;if(ad(t,a),t.stateNode===null)Vh(e,t),WP(t,n,r),_x(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=to(u):(u=ci(n)?Gc:Ra.current,u=fd(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&E2(t,o,r,u),Nl=!1;var p=t.memoizedState;o.state=p,wg(t,r,o,a),l=t.memoizedState,s!==r||p!==l||li.current||Nl?(typeof d=="function"&&(Ix(t,n,d,r),l=t.memoizedState),(s=Nl||A2(t,n,s,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,SP(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:go(t.type,s),o.props=u,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=to(l):(l=ci(n)?Gc:Ra.current,l=fd(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&E2(t,o,r,l),Nl=!1,p=t.memoizedState,o.state=p,wg(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||li.current||Nl?(typeof m=="function"&&(Ix(t,n,m,r),h=t.memoizedState),(u=Nl||A2(t,n,u,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return $x(e,t,n,r,i,a)}function $x(e,t,n,r,a,i){YP(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&x2(t,n,!1),qs(e,t,i);r=t.stateNode,Sz.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=md(t,e.child,null,i),t.child=md(t,null,s,i)):Wa(e,t,s,i),t.memoizedState=r.state,a&&x2(t,n,!0),t.child}function XP(e){var t=e.stateNode;t.pendingContext?b2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b2(e,t.context,!1),tk(e,t.containerInfo)}function L2(e,t,n,r,a){return pd(),Y1(a),t.flags|=256,Wa(e,t,n,r),t.child}var Rx={dehydrated:null,treeContext:null,retryLane:0};function Bx(e){return{baseLanes:e,cachePool:null,transitions:null}}function ZP(e,t,n){var r=t.pendingProps,a=gr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Jn(gr,a&1),e===null)return Px(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=J0(o,r,0,null),e=Uc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bx(n),t.memoizedState=Rx,e):ck(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return Nz(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=zl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=zl(s,i):(i=Uc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Bx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Rx,r}return i=e.child,e=i.sibling,r=zl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ck(e,t){return t=J0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rh(e,t,n,r){return r!==null&&Y1(r),md(t,e.child,null,n),e=ck(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nz(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Qv(Error(ft(422))),rh(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=J0({mode:"visible",children:r.children},a,0,null),i=Uc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&md(t,e.child,null,o),t.child.memoizedState=Bx(o),t.memoizedState=Rx,i);if(!(t.mode&1))return rh(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(ft(419)),r=Qv(i,r,void 0),rh(e,t,o,r)}if(s=(o&e.childLanes)!==0,oi||s){if(r=ya,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ws(e,a),So(r,e,a,-1))}return hk(),r=Qv(Error(ft(421))),rh(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Fz.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Mi=$l(a.nextSibling),Ei=t,cr=!0,vo=null,e!==null&&(Gi[Yi++]=Ts,Gi[Yi++]=Ps,Gi[Yi++]=Yc,Ts=e.id,Ps=e.overflow,Yc=t),t=ck(t,r.children),t.flags|=4096,t)}function F2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ox(e.return,t,n)}function Jv(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function QP(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Wa(e,t,r.children,n),r=gr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&F2(e,n,t);else if(e.tag===19)F2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Jn(gr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&kg(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Jv(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&kg(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Jv(t,!0,n,null,i);break;case"together":Jv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ft(153));if(t.child!==null){for(e=t.child,n=zl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jz(e,t,n){switch(t.tag){case 3:XP(t),pd();break;case 5:NP(t);break;case 1:ci(t.type)&&gg(t);break;case 4:tk(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Jn(bg,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Jn(gr,gr.current&1),t.flags|=128,null):n&t.child.childLanes?ZP(e,t,n):(Jn(gr,gr.current&1),e=qs(e,t,n),e!==null?e.sibling:null);Jn(gr,gr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return QP(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Jn(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,GP(e,t,n)}return qs(e,t,n)}var JP,Ux,e3,t3;JP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ux=function(){};e3=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oc(ns.current);var i=null;switch(n){case"input":a=cx(e,a),r=cx(e,r),i=[];break;case"select":a=wr({},a,{value:void 0}),r=wr({},r,{value:void 0}),i=[];break;case"textarea":a=fx(e,a),r=fx(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=mg)}mx(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ep.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ep.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nr("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};t3=function(e,t,n,r){n!==r&&(t.flags|=4)};function uf(e,t){if(!cr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ta(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cz(e,t,n){var r=t.pendingProps;switch(G1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ta(t),null;case 1:return ci(t.type)&&hg(),Ta(t),null;case 3:return r=t.stateNode,hd(),ir(li),ir(Ra),rk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(th(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vo!==null&&(Gx(vo),vo=null))),Ux(e,t),Ta(t),null;case 5:nk(t);var a=Oc(fp.current);if(n=t.type,e!==null&&t.stateNode!=null)e3(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ft(166));return Ta(t),null}if(e=Oc(ns.current),th(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Jo]=t,r[up]=i,e=(t.mode&1)!==0,n){case"dialog":nr("cancel",r),nr("close",r);break;case"iframe":case"object":case"embed":nr("load",r);break;case"video":case"audio":for(a=0;a<Af.length;a++)nr(Af[a],r);break;case"source":nr("error",r);break;case"img":case"image":case"link":nr("error",r),nr("load",r);break;case"details":nr("toggle",r);break;case"input":Hj(r,i),nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nr("invalid",r);break;case"textarea":Gj(r,i),nr("invalid",r)}mx(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&eh(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&eh(r.textContent,s,e),a=["children",""+s]):ep.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&nr("scroll",r)}switch(n){case"input":Hm(r),Kj(r,i,!0);break;case"textarea":Hm(r),Yj(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=mg)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ET(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Jo]=t,e[up]=r,JP(e,t,!1,!1),t.stateNode=e;e:{switch(o=hx(n,r),n){case"dialog":nr("cancel",e),nr("close",e),a=r;break;case"iframe":case"object":case"embed":nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Af.length;a++)nr(Af[a],e);a=r;break;case"source":nr("error",e),a=r;break;case"img":case"image":case"link":nr("error",e),nr("load",e),a=r;break;case"details":nr("toggle",e),a=r;break;case"input":Hj(e,r),a=cx(e,r),nr("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=wr({},r,{value:void 0}),nr("invalid",e);break;case"textarea":Gj(e,r),a=fx(e,r),nr("invalid",e);break;default:a=r}mx(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?PT(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&DT(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&tp(e,l):typeof l=="number"&&tp(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ep.hasOwnProperty(i)?l!=null&&i==="onScroll"&&nr("scroll",e):l!=null&&O1(e,i,l,o))}switch(n){case"input":Hm(e),Kj(e,r,!1);break;case"textarea":Hm(e),Yj(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ed(e,!!r.multiple,i,!1):r.defaultValue!=null&&ed(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=mg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ta(t),null;case 6:if(e&&t.stateNode!=null)t3(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ft(166));if(n=Oc(fp.current),Oc(ns.current),th(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jo]=t,(i=r.nodeValue!==n)&&(e=Ei,e!==null))switch(e.tag){case 3:eh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&eh(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jo]=t,t.stateNode=r}return Ta(t),null;case 13:if(ir(gr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cr&&Mi!==null&&t.mode&1&&!(t.flags&128))bP(),pd(),t.flags|=98560,i=!1;else if(i=th(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ft(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ft(317));i[Jo]=t}else pd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ta(t),i=!1}else vo!==null&&(Gx(vo),vo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gr.current&1?ea===0&&(ea=3):hk())),t.updateQueue!==null&&(t.flags|=4),Ta(t),null);case 4:return hd(),Ux(e,t),e===null&&lp(t.stateNode.containerInfo),Ta(t),null;case 10:return Q1(t.type._context),Ta(t),null;case 17:return ci(t.type)&&hg(),Ta(t),null;case 19:if(ir(gr),i=t.memoizedState,i===null)return Ta(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)uf(i,!1);else{if(ea!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=kg(e),o!==null){for(t.flags|=128,uf(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jn(gr,gr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ir()>yd&&(t.flags|=128,r=!0,uf(i,!1),t.lanes=4194304)}else{if(!r)if(e=kg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),uf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!cr)return Ta(t),null}else 2*Ir()-i.renderingStartTime>yd&&n!==1073741824&&(t.flags|=128,r=!0,uf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ir(),t.sibling=null,n=gr.current,Jn(gr,r?n&1|2:n&1),t):(Ta(t),null);case 22:case 23:return mk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ni&1073741824&&(Ta(t),t.subtreeFlags&6&&(t.flags|=8192)):Ta(t),null;case 24:return null;case 25:return null}throw Error(ft(156,t.tag))}function Mz(e,t){switch(G1(t),t.tag){case 1:return ci(t.type)&&hg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hd(),ir(li),ir(Ra),rk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nk(t),null;case 13:if(ir(gr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ft(340));pd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(gr),null;case 4:return hd(),null;case 10:return Q1(t.type._context),null;case 22:case 23:return mk(),null;case 24:return null;default:return null}}var ah=!1,Ia=!1,Az=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Hu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mr(e,t,r)}else n.current=null}function n3(e,t,n){try{n()}catch(r){Mr(e,t,r)}}var $2=!1;function Ez(e,t){if(jx=dg,e=oP(),H1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cx={focusedElem:e,selectionRange:n},dg=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,b=h.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:go(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch(S){Mr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return h=$2,$2=!1,h}function Bf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&n3(t,n,i)}a=a.next}while(a!==r)}}function Z0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function r3(e){var t=e.alternate;t!==null&&(e.alternate=null,r3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jo],delete t[up],delete t[Ex],delete t[dz],delete t[fz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function a3(e){return e.tag===5||e.tag===3||e.tag===4}function R2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||a3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mg));else if(r!==4&&(e=e.child,e!==null))for(Vx(e,t,n),e=e.sibling;e!==null;)Vx(e,t,n),e=e.sibling}function Wx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wx(e,t,n),e=e.sibling;e!==null;)Wx(e,t,n),e=e.sibling}var Sa=null,yo=!1;function bl(e,t,n){for(n=n.child;n!==null;)i3(e,t,n),n=n.sibling}function i3(e,t,n){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(V0,n)}catch{}switch(n.tag){case 5:Ia||Hu(n,t);case 6:var r=Sa,a=yo;Sa=null,bl(e,t,n),Sa=r,yo=a,Sa!==null&&(yo?(e=Sa,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Sa.removeChild(n.stateNode));break;case 18:Sa!==null&&(yo?(e=Sa,n=n.stateNode,e.nodeType===8?Hv(e.parentNode,n):e.nodeType===1&&Hv(e,n),ip(e)):Hv(Sa,n.stateNode));break;case 4:r=Sa,a=yo,Sa=n.stateNode.containerInfo,yo=!0,bl(e,t,n),Sa=r,yo=a;break;case 0:case 11:case 14:case 15:if(!Ia&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&n3(n,t,o),a=a.next}while(a!==r)}bl(e,t,n);break;case 1:if(!Ia&&(Hu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Mr(n,t,s)}bl(e,t,n);break;case 21:bl(e,t,n);break;case 22:n.mode&1?(Ia=(r=Ia)||n.memoizedState!==null,bl(e,t,n),Ia=r):bl(e,t,n);break;default:bl(e,t,n)}}function B2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Az),t.forEach(function(r){var a=$z.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function ho(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Sa=s.stateNode,yo=!1;break e;case 3:Sa=s.stateNode.containerInfo,yo=!0;break e;case 4:Sa=s.stateNode.containerInfo,yo=!0;break e}s=s.return}if(Sa===null)throw Error(ft(160));i3(i,o,a),Sa=null,yo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Mr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)o3(t,e),t=t.sibling}function o3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ho(t,e),Ho(e),r&4){try{Bf(3,e,e.return),Z0(3,e)}catch(v){Mr(e,e.return,v)}try{Bf(5,e,e.return)}catch(v){Mr(e,e.return,v)}}break;case 1:ho(t,e),Ho(e),r&512&&n!==null&&Hu(n,n.return);break;case 5:if(ho(t,e),Ho(e),r&512&&n!==null&&Hu(n,n.return),e.flags&32){var a=e.stateNode;try{tp(a,"")}catch(v){Mr(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&MT(a,i),hx(s,o);var u=hx(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?PT(a,f):d==="dangerouslySetInnerHTML"?DT(a,f):d==="children"?tp(a,f):O1(a,d,f,u)}switch(s){case"input":ux(a,i);break;case"textarea":AT(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ed(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?ed(a,!!i.multiple,i.defaultValue,!0):ed(a,!!i.multiple,i.multiple?[]:"",!1))}a[up]=i}catch(v){Mr(e,e.return,v)}}break;case 6:if(ho(t,e),Ho(e),r&4){if(e.stateNode===null)throw Error(ft(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Mr(e,e.return,v)}}break;case 3:if(ho(t,e),Ho(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ip(t.containerInfo)}catch(v){Mr(e,e.return,v)}break;case 4:ho(t,e),Ho(e);break;case 13:ho(t,e),Ho(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(fk=Ir())),r&4&&B2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ia=(u=Ia)||d,ho(t,e),Ia=u):ho(t,e),Ho(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Mt=e,d=e.child;d!==null;){for(f=Mt=d;Mt!==null;){switch(p=Mt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Bf(4,p,p.return);break;case 1:Hu(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){Mr(r,n,v)}}break;case 5:Hu(p,p.return);break;case 22:if(p.memoizedState!==null){z2(f);continue}}m!==null?(m.return=p,Mt=m):z2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=TT("display",o))}catch(v){Mr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Mr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ho(t,e),Ho(e),r&4&&B2(e);break;case 21:break;default:ho(t,e),Ho(e)}}function Ho(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(a3(n)){var r=n;break e}n=n.return}throw Error(ft(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(tp(a,""),r.flags&=-33);var i=R2(e);Wx(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=R2(e);Vx(e,s,o);break;default:throw Error(ft(161))}}catch(l){Mr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dz(e,t,n){Mt=e,s3(e)}function s3(e,t,n){for(var r=(e.mode&1)!==0;Mt!==null;){var a=Mt,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||ah;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Ia;s=ah;var u=Ia;if(ah=o,(Ia=l)&&!u)for(Mt=a;Mt!==null;)o=Mt,l=o.child,o.tag===22&&o.memoizedState!==null?V2(a):l!==null?(l.return=o,Mt=l):V2(a);for(;i!==null;)Mt=i,s3(i),i=i.sibling;Mt=a,ah=s,Ia=u}U2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Mt=i):U2(e)}}function U2(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ia||Z0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ia)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&j2(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}j2(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ip(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}Ia||t.flags&512&&zx(t)}catch(p){Mr(t,t.return,p)}}if(t===e){Mt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Mt=n;break}Mt=t.return}}function z2(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Mt=n;break}Mt=t.return}}function V2(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Z0(4,t)}catch(l){Mr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){Mr(t,a,l)}}var i=t.return;try{zx(t)}catch(l){Mr(t,i,l)}break;case 5:var o=t.return;try{zx(t)}catch(l){Mr(t,o,l)}}}catch(l){Mr(t,t.return,l)}if(t===e){Mt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Mt=s;break}Mt=t.return}}var Tz=Math.ceil,jg=nl.ReactCurrentDispatcher,uk=nl.ReactCurrentOwner,Ji=nl.ReactCurrentBatchConfig,Cn=0,ya=null,Wr=null,ja=0,Ni=0,Ku=ec(0),ea=0,gp=null,Zc=0,Q0=0,dk=0,Uf=null,ai=null,fk=0,yd=1/0,Cs=null,Cg=!1,qx=null,Bl=null,ih=!1,Pl=null,Mg=0,zf=0,Hx=null,Wh=-1,qh=0;function Ka(){return Cn&6?Ir():Wh!==-1?Wh:Wh=Ir()}function Ul(e){return e.mode&1?Cn&2&&ja!==0?ja&-ja:mz.transition!==null?(qh===0&&(qh=WT()),qh):(e=$n,e!==0||(e=window.event,e=e===void 0?16:ZT(e.type)),e):1}function So(e,t,n,r){if(50<zf)throw zf=0,Hx=null,Error(ft(185));zp(e,n,r),(!(Cn&2)||e!==ya)&&(e===ya&&(!(Cn&2)&&(Q0|=n),ea===4&&El(e,ja)),ui(e,r),n===1&&Cn===0&&!(t.mode&1)&&(yd=Ir()+500,G0&&tc()))}function ui(e,t){var n=e.callbackNode;mU(e,t);var r=ug(e,e===ya?ja:0);if(r===0)n!==null&&Qj(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qj(n),t===1)e.tag===0?pz(W2.bind(null,e)):gP(W2.bind(null,e)),cz(function(){!(Cn&6)&&tc()}),n=null;else{switch(qT(r)){case 1:n=$1;break;case 4:n=zT;break;case 16:n=cg;break;case 536870912:n=VT;break;default:n=cg}n=h3(n,l3.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function l3(e,t){if(Wh=-1,qh=0,Cn&6)throw Error(ft(327));var n=e.callbackNode;if(id()&&e.callbackNode!==n)return null;var r=ug(e,e===ya?ja:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ag(e,r);else{t=r;var a=Cn;Cn|=2;var i=u3();(ya!==e||ja!==t)&&(Cs=null,yd=Ir()+500,Bc(e,t));do try{Iz();break}catch(s){c3(e,s)}while(!0);Z1(),jg.current=i,Cn=a,Wr!==null?t=0:(ya=null,ja=0,t=ea)}if(t!==0){if(t===2&&(a=xx(e),a!==0&&(r=a,t=Kx(e,a))),t===1)throw n=gp,Bc(e,0),El(e,r),ui(e,Ir()),n;if(t===6)El(e,r);else{if(a=e.current.alternate,!(r&30)&&!Pz(a)&&(t=Ag(e,r),t===2&&(i=xx(e),i!==0&&(r=i,t=Kx(e,i))),t===1))throw n=gp,Bc(e,0),El(e,r),ui(e,Ir()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ft(345));case 2:Nc(e,ai,Cs);break;case 3:if(El(e,r),(r&130023424)===r&&(t=fk+500-Ir(),10<t)){if(ug(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ka(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ax(Nc.bind(null,e,ai,Cs),t);break}Nc(e,ai,Cs);break;case 4:if(El(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-ko(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tz(r/1960))-r,10<r){e.timeoutHandle=Ax(Nc.bind(null,e,ai,Cs),r);break}Nc(e,ai,Cs);break;case 5:Nc(e,ai,Cs);break;default:throw Error(ft(329))}}}return ui(e,Ir()),e.callbackNode===n?l3.bind(null,e):null}function Kx(e,t){var n=Uf;return e.current.memoizedState.isDehydrated&&(Bc(e,t).flags|=256),e=Ag(e,t),e!==2&&(t=ai,ai=n,t!==null&&Gx(t)),e}function Gx(e){ai===null?ai=e:ai.push.apply(ai,e)}function Pz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Co(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function El(e,t){for(t&=~dk,t&=~Q0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ko(t),r=1<<n;e[n]=-1,t&=~r}}function W2(e){if(Cn&6)throw Error(ft(327));id();var t=ug(e,0);if(!(t&1))return ui(e,Ir()),null;var n=Ag(e,t);if(e.tag!==0&&n===2){var r=xx(e);r!==0&&(t=r,n=Kx(e,r))}if(n===1)throw n=gp,Bc(e,0),El(e,t),ui(e,Ir()),n;if(n===6)throw Error(ft(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,ai,Cs),ui(e,Ir()),null}function pk(e,t){var n=Cn;Cn|=1;try{return e(t)}finally{Cn=n,Cn===0&&(yd=Ir()+500,G0&&tc())}}function Qc(e){Pl!==null&&Pl.tag===0&&!(Cn&6)&&id();var t=Cn;Cn|=1;var n=Ji.transition,r=$n;try{if(Ji.transition=null,$n=1,e)return e()}finally{$n=r,Ji.transition=n,Cn=t,!(Cn&6)&&tc()}}function mk(){Ni=Ku.current,ir(Ku)}function Bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lz(n)),Wr!==null)for(n=Wr.return;n!==null;){var r=n;switch(G1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hg();break;case 3:hd(),ir(li),ir(Ra),rk();break;case 5:nk(r);break;case 4:hd();break;case 13:ir(gr);break;case 19:ir(gr);break;case 10:Q1(r.type._context);break;case 22:case 23:mk()}n=n.return}if(ya=e,Wr=e=zl(e.current,null),ja=Ni=t,ea=0,gp=null,dk=Q0=Zc=0,ai=Uf=null,Pc!==null){for(t=0;t<Pc.length;t++)if(n=Pc[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Pc=null}return e}function c3(e,t){do{var n=Wr;try{if(Z1(),Uh.current=Ng,Sg){for(var r=xr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Sg=!1}if(Xc=0,ha=Qr=xr=null,Rf=!1,pp=0,uk.current=null,n===null||n.return===null){ea=1,gp=t,Wr=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=ja,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=T2(o);if(m!==null){m.flags&=-257,P2(m,o,s,i,t),m.mode&1&&D2(i,u,t),t=m,l=u;var h=t.updateQueue;if(h===null){var v=new Set;v.add(l),t.updateQueue=v}else h.add(l);break e}else{if(!(t&1)){D2(i,u,t),hk();break e}l=Error(ft(426))}}else if(cr&&s.mode&1){var b=T2(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),P2(b,o,s,i,t),Y1(gd(l,s));break e}}i=l=gd(l,s),ea!==4&&(ea=2),Uf===null?Uf=[i]:Uf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=qP(i,l,t);N2(i,y);break e;case 1:s=l;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Bl===null||!Bl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=HP(i,s,t);N2(i,S);break e}}i=i.return}while(i!==null)}f3(n)}catch(C){t=C,Wr===n&&n!==null&&(Wr=n=n.return);continue}break}while(!0)}function u3(){var e=jg.current;return jg.current=Ng,e===null?Ng:e}function hk(){(ea===0||ea===3||ea===2)&&(ea=4),ya===null||!(Zc&268435455)&&!(Q0&268435455)||El(ya,ja)}function Ag(e,t){var n=Cn;Cn|=2;var r=u3();(ya!==e||ja!==t)&&(Cs=null,Bc(e,t));do try{Oz();break}catch(a){c3(e,a)}while(!0);if(Z1(),Cn=n,jg.current=r,Wr!==null)throw Error(ft(261));return ya=null,ja=0,ea}function Oz(){for(;Wr!==null;)d3(Wr)}function Iz(){for(;Wr!==null&&!iU();)d3(Wr)}function d3(e){var t=m3(e.alternate,e,Ni);e.memoizedProps=e.pendingProps,t===null?f3(e):Wr=t,uk.current=null}function f3(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Mz(n,t),n!==null){n.flags&=32767,Wr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ea=6,Wr=null;return}}else if(n=Cz(n,t,Ni),n!==null){Wr=n;return}if(t=t.sibling,t!==null){Wr=t;return}Wr=t=e}while(t!==null);ea===0&&(ea=5)}function Nc(e,t,n){var r=$n,a=Ji.transition;try{Ji.transition=null,$n=1,_z(e,t,n,r)}finally{Ji.transition=a,$n=r}return null}function _z(e,t,n,r){do id();while(Pl!==null);if(Cn&6)throw Error(ft(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ft(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(hU(e,i),e===ya&&(Wr=ya=null,ja=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ih||(ih=!0,h3(cg,function(){return id(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ji.transition,Ji.transition=null;var o=$n;$n=1;var s=Cn;Cn|=4,uk.current=null,Ez(e,n),o3(n,e),tz(Cx),dg=!!jx,Cx=jx=null,e.current=n,Dz(n),oU(),Cn=s,$n=o,Ji.transition=i}else e.current=n;if(ih&&(ih=!1,Pl=e,Mg=a),i=e.pendingLanes,i===0&&(Bl=null),cU(n.stateNode),ui(e,Ir()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Cg)throw Cg=!1,e=qx,qx=null,e;return Mg&1&&e.tag!==0&&id(),i=e.pendingLanes,i&1?e===Hx?zf++:(zf=0,Hx=e):zf=0,tc(),null}function id(){if(Pl!==null){var e=qT(Mg),t=Ji.transition,n=$n;try{if(Ji.transition=null,$n=16>e?16:e,Pl===null)var r=!1;else{if(e=Pl,Pl=null,Mg=0,Cn&6)throw Error(ft(331));var a=Cn;for(Cn|=4,Mt=e.current;Mt!==null;){var i=Mt,o=i.child;if(Mt.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Mt=u;Mt!==null;){var d=Mt;switch(d.tag){case 0:case 11:case 15:Bf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Mt=f;else for(;Mt!==null;){d=Mt;var p=d.sibling,m=d.return;if(r3(d),d===u){Mt=null;break}if(p!==null){p.return=m,Mt=p;break}Mt=m}}}var h=i.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Mt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Mt=o;else e:for(;Mt!==null;){if(i=Mt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Mt=y;break e}Mt=i.return}}var x=e.current;for(Mt=x;Mt!==null;){o=Mt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Mt=w;else e:for(o=x;Mt!==null;){if(s=Mt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Z0(9,s)}}catch(C){Mr(s,s.return,C)}if(s===o){Mt=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Mt=S;break e}Mt=s.return}}if(Cn=a,tc(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(V0,e)}catch{}r=!0}return r}finally{$n=n,Ji.transition=t}}return!1}function q2(e,t,n){t=gd(n,t),t=qP(e,t,1),e=Rl(e,t,1),t=Ka(),e!==null&&(zp(e,1,t),ui(e,t))}function Mr(e,t,n){if(e.tag===3)q2(e,e,n);else for(;t!==null;){if(t.tag===3){q2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bl===null||!Bl.has(r))){e=gd(n,e),e=HP(t,e,1),t=Rl(t,e,1),e=Ka(),t!==null&&(zp(t,1,e),ui(t,e));break}}t=t.return}}function Lz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ka(),e.pingedLanes|=e.suspendedLanes&n,ya===e&&(ja&n)===n&&(ea===4||ea===3&&(ja&130023424)===ja&&500>Ir()-fk?Bc(e,0):dk|=n),ui(e,t)}function p3(e,t){t===0&&(e.mode&1?(t=Ym,Ym<<=1,!(Ym&130023424)&&(Ym=4194304)):t=1);var n=Ka();e=Ws(e,t),e!==null&&(zp(e,t,n),ui(e,n))}function Fz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),p3(e,n)}function $z(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ft(314))}r!==null&&r.delete(t),p3(e,n)}var m3;m3=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||li.current)oi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return oi=!1,jz(e,t,n);oi=!!(e.flags&131072)}else oi=!1,cr&&t.flags&1048576&&yP(t,vg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vh(e,t),e=t.pendingProps;var a=fd(t,Ra.current);ad(t,n),a=ik(null,t,r,e,a,n);var i=ok();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ci(r)?(i=!0,gg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ek(t),a.updater=X0,t.stateNode=a,a._reactInternals=t,_x(t,r,e,n),t=$x(null,t,r,!0,i,n)):(t.tag=0,cr&&i&&K1(t),Wa(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vh(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Bz(r),e=go(r,e),a){case 0:t=Fx(null,t,r,e,n);break e;case 1:t=_2(null,t,r,e,n);break e;case 11:t=O2(null,t,r,e,n);break e;case 14:t=I2(null,t,r,go(r.type,e),n);break e}throw Error(ft(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:go(r,a),Fx(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:go(r,a),_2(e,t,r,a,n);case 3:e:{if(XP(t),e===null)throw Error(ft(387));r=t.pendingProps,i=t.memoizedState,a=i.element,SP(e,t),wg(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=gd(Error(ft(423)),t),t=L2(e,t,r,n,a);break e}else if(r!==a){a=gd(Error(ft(424)),t),t=L2(e,t,r,n,a);break e}else for(Mi=$l(t.stateNode.containerInfo.firstChild),Ei=t,cr=!0,vo=null,n=wP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pd(),r===a){t=qs(e,t,n);break e}Wa(e,t,r,n)}t=t.child}return t;case 5:return NP(t),e===null&&Px(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Mx(r,a)?o=null:i!==null&&Mx(r,i)&&(t.flags|=32),YP(e,t),Wa(e,t,o,n),t.child;case 6:return e===null&&Px(t),null;case 13:return ZP(e,t,n);case 4:return tk(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=md(t,null,r,n):Wa(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:go(r,a),O2(e,t,r,a,n);case 7:return Wa(e,t,t.pendingProps,n),t.child;case 8:return Wa(e,t,t.pendingProps.children,n),t.child;case 12:return Wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Jn(bg,r._currentValue),r._currentValue=o,i!==null)if(Co(i.value,o)){if(i.children===a.children&&!li.current){t=qs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ls(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ox(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ft(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Ox(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Wa(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ad(t,n),a=to(a),r=r(a),t.flags|=1,Wa(e,t,r,n),t.child;case 14:return r=t.type,a=go(r,t.pendingProps),a=go(r.type,a),I2(e,t,r,a,n);case 15:return KP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:go(r,a),Vh(e,t),t.tag=1,ci(r)?(e=!0,gg(t)):e=!1,ad(t,n),WP(t,r,a),_x(t,r,a,n),$x(null,t,r,!0,e,n);case 19:return QP(e,t,n);case 22:return GP(e,t,n)}throw Error(ft(156,t.tag))};function h3(e,t){return UT(e,t)}function Rz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(e,t,n,r){return new Rz(e,t,n,r)}function gk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bz(e){if(typeof e=="function")return gk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_1)return 11;if(e===L1)return 14}return 2}function zl(e,t){var n=e.alternate;return n===null?(n=Zi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hh(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")gk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fu:return Uc(n.children,a,i,t);case I1:o=8,a|=8;break;case ix:return e=Zi(12,n,t,a|2),e.elementType=ix,e.lanes=i,e;case ox:return e=Zi(13,n,t,a),e.elementType=ox,e.lanes=i,e;case sx:return e=Zi(19,n,t,a),e.elementType=sx,e.lanes=i,e;case NT:return J0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kT:o=10;break e;case ST:o=9;break e;case _1:o=11;break e;case L1:o=14;break e;case Sl:o=16,r=null;break e}throw Error(ft(130,e==null?e:typeof e,""))}return t=Zi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Uc(e,t,n,r){return e=Zi(7,e,r,t),e.lanes=n,e}function J0(e,t,n,r){return e=Zi(22,e,r,t),e.elementType=NT,e.lanes=n,e.stateNode={isHidden:!1},e}function eb(e,t,n){return e=Zi(6,e,null,t),e.lanes=n,e}function tb(e,t,n){return t=Zi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uz(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_v(0),this.expirationTimes=_v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_v(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function yk(e,t,n,r,a,i,o,s,l){return e=new Uz(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Zi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ek(i),e}function zz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function g3(e){if(!e)return Kl;e=e._reactInternals;e:{if(uu(e)!==e||e.tag!==1)throw Error(ft(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ft(171))}if(e.tag===1){var n=e.type;if(ci(n))return hP(e,n,t)}return t}function y3(e,t,n,r,a,i,o,s,l){return e=yk(n,r,!0,e,a,i,o,s,l),e.context=g3(null),n=e.current,r=Ka(),a=Ul(n),i=Ls(r,a),i.callback=t??null,Rl(n,i,a),e.current.lanes=a,zp(e,a,r),ui(e,r),e}function ey(e,t,n,r){var a=t.current,i=Ka(),o=Ul(a);return n=g3(n),t.context===null?t.context=n:t.pendingContext=n,t=Ls(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rl(a,t,o),e!==null&&(So(e,a,o,i),Bh(e,a,o)),o}function Eg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function H2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vk(e,t){H2(e,t),(e=e.alternate)&&H2(e,t)}function Vz(){return null}var v3=typeof reportError=="function"?reportError:function(e){console.error(e)};function bk(e){this._internalRoot=e}ty.prototype.render=bk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ft(409));ey(e,t,null,null)};ty.prototype.unmount=bk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qc(function(){ey(null,e,null,null)}),t[Vs]=null}};function ty(e){this._internalRoot=e}ty.prototype.unstable_scheduleHydration=function(e){if(e){var t=GT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Al.length&&t!==0&&t<Al[n].priority;n++);Al.splice(n,0,e),n===0&&XT(e)}};function xk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ny(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K2(){}function Wz(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=Eg(o);i.call(u)}}var o=y3(t,r,e,0,null,!1,!1,"",K2);return e._reactRootContainer=o,e[Vs]=o.current,lp(e.nodeType===8?e.parentNode:e),Qc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var u=Eg(l);s.call(u)}}var l=yk(e,0,!1,null,null,!1,!1,"",K2);return e._reactRootContainer=l,e[Vs]=l.current,lp(e.nodeType===8?e.parentNode:e),Qc(function(){ey(t,l,n,r)}),l}function ry(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Eg(o);s.call(l)}}ey(t,o,e,a)}else o=Wz(n,t,e,a,r);return Eg(o)}HT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mf(t.pendingLanes);n!==0&&(R1(t,n|1),ui(t,Ir()),!(Cn&6)&&(yd=Ir()+500,tc()))}break;case 13:Qc(function(){var r=Ws(e,1);if(r!==null){var a=Ka();So(r,e,1,a)}}),vk(e,1)}};B1=function(e){if(e.tag===13){var t=Ws(e,134217728);if(t!==null){var n=Ka();So(t,e,134217728,n)}vk(e,134217728)}};KT=function(e){if(e.tag===13){var t=Ul(e),n=Ws(e,t);if(n!==null){var r=Ka();So(n,e,t,r)}vk(e,t)}};GT=function(){return $n};YT=function(e,t){var n=$n;try{return $n=e,t()}finally{$n=n}};yx=function(e,t,n){switch(t){case"input":if(ux(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=K0(r);if(!a)throw Error(ft(90));CT(r),ux(r,a)}}}break;case"textarea":AT(e,n);break;case"select":t=n.value,t!=null&&ed(e,!!n.multiple,t,!1)}};_T=pk;LT=Qc;var qz={usingClientEntryPoint:!1,Events:[Wp,Uu,K0,OT,IT,pk]},df={findFiberByHostInstance:Tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hz={bundleType:df.bundleType,version:df.version,rendererPackageName:df.rendererPackageName,rendererConfig:df.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=RT(e),e===null?null:e.stateNode},findFiberByHostInstance:df.findFiberByHostInstance||Vz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{V0=oh.inject(Hz),ts=oh}catch{}}_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qz;_i.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xk(t))throw Error(ft(200));return zz(e,t,null,n)};_i.createRoot=function(e,t){if(!xk(e))throw Error(ft(299));var n=!1,r="",a=v3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=yk(e,1,!1,null,null,n,!1,r,a),e[Vs]=t.current,lp(e.nodeType===8?e.parentNode:e),new bk(t)};_i.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ft(188)):(e=Object.keys(e).join(","),Error(ft(268,e)));return e=RT(t),e=e===null?null:e.stateNode,e};_i.flushSync=function(e){return Qc(e)};_i.hydrate=function(e,t,n){if(!ny(t))throw Error(ft(200));return ry(null,e,t,!0,n)};_i.hydrateRoot=function(e,t,n){if(!xk(e))throw Error(ft(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=v3;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=y3(t,null,e,1,n??null,a,!1,i,o),e[Vs]=t.current,lp(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ty(t)};_i.render=function(e,t,n){if(!ny(t))throw Error(ft(200));return ry(null,e,t,!1,n)};_i.unmountComponentAtNode=function(e){if(!ny(e))throw Error(ft(40));return e._reactRootContainer?(Qc(function(){ry(null,null,e,!1,function(){e._reactRootContainer=null,e[Vs]=null})}),!0):!1};_i.unstable_batchedUpdates=pk;_i.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ny(n))throw Error(ft(200));if(e==null||e._reactInternals===void 0)throw Error(ft(38));return ry(e,t,n,!1,r)};_i.version="18.3.1-next-f1338f8080-20240426";function b3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b3)}catch(e){console.error(e)}}b3(),vT.exports=_i;var Ld=vT.exports,G2=Ld;rx.createRoot=G2.createRoot,rx.hydrateRoot=G2.hydrateRoot;const Kz=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),x3=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],w3=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],Gz=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],k3=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],Yz=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],Xz=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],Zz=new Set([10244]),Qz=(e,t)=>{var n;if(Zz.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return Xz.some(i=>a.includes(i))},Jz=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},sh=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},S3=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,N3=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},pa=(e,t=2)=>Number.isFinite(e)?S3()&&Math.abs(e)>=1e4?N3(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",wl=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return S3()&&t>=1e4?N3(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var e8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const t8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tn=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},u)=>g.createElement("svg",{ref:u,...e8,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${t8(e)}`,...l},[...t.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},j3=tn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),n8=tn("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),wk=tn("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),C3=tn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),r8=tn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),kk=tn("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),a8=tn("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),M3=tn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Yx=tn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),i8=tn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Mo=tn("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),o8=tn("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),s8=tn("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),l8=tn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),c8=tn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),yp=tn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),u8=tn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Sk=tn("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),d8=tn("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),A3=tn("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),f8=tn("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),Nk=tn("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),p8=tn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),jk=tn("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),m8=tn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ck=tn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Ma=tn("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Y2=tn("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),h8=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),g8=tn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),y8=tn("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),E3=tn("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),vd=tn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ay=tn("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),iy=tn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Dg=tn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),v8=tn("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Ol=tn("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),zc=tn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),b8=tn("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Er=tn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),x8=tn("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),D3=tn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),va=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vp=tn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Mk=({className:e})=>c.jsx(h8,{className:e,strokeWidth:3.2}),du=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},Ak=({className:e=""})=>{const t=du("svg/custom-icons/mouse.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Ek=({className:e=""})=>{const t=du("svg/custom-icons/gw2_aegis.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Vc=({className:e=""})=>{const t=du("svg/custom-icons/gw2_boon.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Dk=({className:e=""})=>{const t=du("svg/custom-icons/dam_mit.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Vf=({className:e=""})=>{const t=du("svg/custom-icons/gw2_fury.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Tk=({className:e=""})=>{const t=du("svg/custom-icons/gw2_sigil.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},w8=[{id:"overview",label:"Overview",icon:zc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:zc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Ol},{id:"top-players",label:"Top Players",icon:zc},{id:"top-skills-outgoing",label:"Top Skills",icon:wk},{id:"squad-composition",label:"Classes",icon:Er},{id:"timeline",label:"Squad vs Enemy",icon:Er},{id:"map-distribution",label:"Map Distribution",icon:Ck}]},{id:"roster",label:"Roster Intel",icon:yp,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:yp},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Er},{id:"fight-comp",label:"Fight Comp",icon:Ol}]},{id:"offense",label:"Offensive Stats",icon:Ol,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Ol},{id:"player-breakdown",label:"Player Breakdown",icon:jk},{id:"damage-breakdown",label:"Damage Breakdown",icon:kk},{id:"spike-damage",label:"Spike Damage",icon:vp},{id:"conditions-outgoing",label:"Conditions",icon:ay}]},{id:"defense",label:"Defensive Stats",icon:vd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:y8},{id:"defense-detailed",label:"Defense Detailed",icon:vd},{id:"defense-mitigation",label:"Damage Mitigation",icon:Dk},{id:"boon-output",label:"Boon Output",icon:Vc},{id:"boon-timeline",label:"Boon Timeline",icon:Ek},{id:"boon-uptime",label:"Boon Uptime",icon:Vf},{id:"support-detailed",label:"Support Detailed",icon:Mk},{id:"healing-stats",label:"Healing Stats",icon:A3}]},{id:"other",label:"Other Metrics",icon:Dg,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Sk},{id:"special-buffs",label:"Special Buffs",icon:Dg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Tk},{id:"skill-usage",label:"Skill Usage",icon:Nk},{id:"apm-stats",label:"APM Breakdown",icon:Ak}]}],k8=(e,t=!0,n=!1)=>{const[r,a]=g.useState(!1),[i,o]=g.useState("overview"),s=g.useRef(null),l=g.useRef(null),u=g.useRef(0),d=g.useMemo(()=>w8,[]),f=g.useMemo(()=>d.flatMap(h=>h.items),[d]),p=h=>{const v=h==="kdr"?"overview":h,b=s.current,y=document.getElementById(v);if(b&&y){const x=b.getBoundingClientRect(),w=y.getBoundingClientRect().top-x.top+b.scrollTop,S=Math.max(0,b.scrollHeight-b.clientHeight),C=Math.min(Math.max(w-16,0),S);b.scrollTo({top:C,behavior:"smooth"}),o(v)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),o(v));a(!1)};g.useEffect(()=>{if(e||n)return;const h=v=>{if(n)return;const b=s.current;if(!b)return;const y=v.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&b.contains(y))&&v.deltaY!==0&&!(b.scrollHeight<=b.clientHeight)){if(u.current+=v.deltaY,l.current===null){const x=()=>{const w=u.current;if(Math.abs(w)<.5){u.current=0,l.current=null;return}const S=w*.2;u.current=w-S,b.scrollBy({top:S,behavior:"auto"}),l.current=requestAnimationFrame(x)};l.current=requestAnimationFrame(x)}v.preventDefault()}};return window.addEventListener("wheel",h,{passive:!1}),()=>{window.removeEventListener("wheel",h),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),u.current=0}},[e,n]);const m=h=>{var v;const b=Math.max(0,f.findIndex(w=>w.id===i)),y=Math.min(Math.max(b+h,0),f.length-1),x=(v=f[y])==null?void 0:v.id;x&&p(x)};return g.useEffect(()=>{if(!t||n)return;const h=s.current;if(!h)return;let v=0;const b=()=>{var x;const w=h.getBoundingClientRect().top;let S=((x=f[0])==null?void 0:x.id)||"overview";f.forEach(C=>{const j=document.getElementById(C.id);j&&j.getBoundingClientRect().top-w<=24&&(S=C.id)}),o(C=>C===S?C:S)},y=()=>{v&&cancelAnimationFrame(v),v=requestAnimationFrame(b)};return b(),h.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{v&&cancelAnimationFrame(v),h.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:a,activeNavId:i,setActiveNavId:o,scrollContainerRef:s,tocGroups:d,tocItems:f,scrollToSection:p,stepSection:m}},X2=["selfBuffs","groupBuffs","squadBuffs"],js=(e,t,n=0)=>t?e/t:n,Z2=e=>e!=null&&e.classification?e.classification==="Boon":!0,T3=e=>`b${e}`,S8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},P3=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},N8=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,u=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=u.generationMs,f=u.wastedMs;let p=1;t==="groupBuffs"?p=js(i-a,a,1):t==="squadBuffs"?p=js(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?js(d,r):js(d,r)*100,h=n?js(f,r):js(f,r)*100;else{const v=js(d,r)/(p||1),b=js(f,r)/(p||1);m=n?v:v*100,h=n?b:b*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},O3=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=N8(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?js(a,o):i},j8=(e,t,n,r,a)=>{const i=O3(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,u=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${u}%`:u},C8=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,u=new Map;s.forEach(d=>{const f=d.group??0;u.set(f,(u.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=u.get(m)||1,v=S8(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const b=n.get(f);b.profession=p,p!=="Unknown"&&(b.professions.add(p),b.professionTimeMs[p]=(b.professionTimeMs[p]||0)+v),b.activeTimeMs+=v,b.numFights+=1,b.groupSupported+=h,b.squadSupported+=l,X2.forEach(y=>{(d[y]||[]).forEach(x=>{var w,S,C,j;if(typeof(x==null?void 0:x.id)!="number")return;const A=T3(x.id),T=o[A];if(!Z2(T))return;const R=(T==null?void 0:T.stacking)??!1,D=((S=(w=x.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,I=((j=(C=x.buffData)==null?void 0:C[0])==null?void 0:j.wasted)??0,{generationMs:O,wastedMs:q}=P3(y,R,D,I,i,h,l);!O&&!q||(t.has(A)||t.set(A,T||{}),b.boons[A]||(b.boons[A]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),b.boons[A][y].generationMs+=O,b.boons[A][y].wastedMs+=q)})})})}),{boonTables:Array.from(t.keys()).filter(r=>Z2(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!X2.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const u=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(u.length>0){d=u[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;u.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:u,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},Xx=(e,t,n,r,a,i,o={})=>{var s,l,u,d;const f=((e==null?void 0:e[t])||[]).find(b=>b.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[T3(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,v=((d=(u=f.buffData)==null?void 0:u[0])==null?void 0:d.wasted)??0;return P3(t,m,h,v,r,a,i)},M8={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},A8={methods:M8},E8=A8,Pk="count",D8=e=>(e||0)/1e3,T8=(e,t)=>{var n;if(!e)return 0;const r=(n=E8.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},I3=(e,t,n)=>n==="duration"?D8(t):n==="tiered"?T8(e,t):e;function P8(e,t=Pk){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return I3(a,i,t)}function O8(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,u=Xx(s,"selfBuffs",1122,n,l,i,r),d=Xx(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(u.generationMs+d.generationMs)/1e3})}function I8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function _8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function L8(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const Q2=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},J2=(e,t=Pk)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return I3(a,i,t)},eC=e=>I8(e),tC=e=>L8(e),nC=e=>_8(e),rC=(e,t=Pk)=>P8(e,t),F8=(e,t)=>O8(e,t),$8="count",_3={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Zx={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},R8={uploading:!1,message:null,url:null,buildStatus:"idle"},aC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),L3={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},lh=e=>{if(e)return L3[e]},od=(e,t)=>{if(!e||t===void 0||t===null)return;const n=Number(t);return Number.isFinite(n)?e[`b${n}`]||e[String(n)]:e[String(t)]},bp=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=aC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=aC.get(a);if(i)return i}return null},Ou=e=>bp(e),F3=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=bp(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(L3).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Kh=(e,t,n)=>{var r;if(t&&n){const a=(r=od(n,t))==null?void 0:r.name,i=bp(a);if(i)return i}return e?bp(e):null},B8=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},U8=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},z8=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},V8=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||B8,o=F3(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(v=>{v&&v.forEach(b=>{if(!b.id)return;let y=`Skill ${b.id}`,x;r&&(r[`s${b.id}`]?(y=r[`s${b.id}`].name||y,x=r[`s${b.id}`].icon||x):r[`${b.id}`]&&(y=r[`${b.id}`].name||y,x=r[`${b.id}`].icon||x));const w=od(a,b.id);y.startsWith("Skill ")&&w!=null&&w.name&&(y=w.name,x=w.icon||x);const S=Kh(y,b.id,a);if(!S)return;const C=w==null?void 0:w.name,j=o.get(S)||(w==null?void 0:w.icon),A=y.startsWith("Skill ")?C||S:y,T=x||(w==null?void 0:w.icon),R=Number(b.connectedHits??0),D=Number(b.hits??0),I=R>0?R:D,O=Number(b.totalDamage??0);if(!Number.isFinite(I)&&!Number.isFinite(O))return;const q=l[S]||{name:S,icon:j,applications:0,damage:0};q.applications+=Number.isFinite(I)?I:0,q.damage+=Number.isFinite(O)?O:0,!q.icon&&j&&(q.icon=j),l[S]=q;const Y=s[h][S]||{icon:j,applications:0,damage:0,skills:{}};Y.applications+=Number.isFinite(I)?I:0,Y.damage+=Number.isFinite(O)?O:0;const ie=Y.skills[A]||{name:A,hits:0,damage:0,icon:T};ie.hits+=Number.isFinite(I)?I:0,ie.damage+=Number.isFinite(O)?O:0,!ie.icon&&T&&(ie.icon=T),Y.skills[A]=ie,!Y.icon&&j&&(Y.icon=j),s[h][S]=Y})}))});const u=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&u.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const v=Number(h==null?void 0:h.id);if(!Number.isFinite(v))return;const b=od(a,v),y=bp(b==null?void 0:b.name);if(!y||b!=null&&b.classification&&b.classification!=="Condition")return;const x=y;if(!x)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,C])=>{var j;const A=u.get(S);if(!A)return;f+=1;const T=U8(C),R=z8(C);d+=T;const D=((j=s[A])==null?void 0:j[x])||{applications:0,damage:0,skills:{}};D.applicationsFromBuffs=(D.applicationsFromBuffs||0)+T,D.applicationsFromBuffsActive=(D.applicationsFromBuffsActive||0)+R,s[A]=s[A]||{},s[A][x]=D;const I=l[x]||{name:x,applications:0,damage:0};I.applicationsFromBuffs=(I.applicationsFromBuffs||0)+T,I.applicationsFromBuffsActive=(I.applicationsFromBuffsActive||0)+R,l[x]=I})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Jc={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},W8={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function Fs(e){return Jc[e]||Jc.Unknown}function q8(e){return e?W8[e]||e:"Unknown"}function Ic(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Jc[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=q8(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const H8=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},Zr=(e,t)=>H8((e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)??(e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)),Gh=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a,includePlayerSkillMap:i})=>{const o=m=>{var h;return(Array.isArray((h=m==null?void 0:m.details)==null?void 0:h.players)?m.details.players:[]).length>0},s=e.filter(m=>o(m)),l=r||Zx,u=n||_3,d=m=>{if(!m||typeof m!="object")return m;const h=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!h||h.length===0)return m;const v=C=>Array.isArray(C)&&C.some(j=>j&&Number(j.count)>0),b=new Map,y=new Map;e.forEach(C=>{var j;const A=(C==null?void 0:C.filePath)||(C==null?void 0:C.id);A&&b.set(String(A),C);const T=(C==null?void 0:C.permalink)||((j=C==null?void 0:C.details)==null?void 0:j.permalink);typeof T=="string"&&T.trim()&&y.set(T.trim(),C)});const x=h.map(C=>{var j;if(!C||typeof C!="object")return C;const A=C.id?String(C.id):"",T=typeof C.permalink=="string"?C.permalink.trim():"",R=(A?b.get(A):void 0)||(T?y.get(T):void 0);if(!R)return C;let D=C;if(Number(C.timestamp)<=0){const O=Zr(R==null?void 0:R.details,R);O&&(D={...D,timestamp:O})}const I=(j=R==null?void 0:R.details)==null?void 0:j.teamBreakdown;return v(I)&&(D={...D,teamBreakdown:I}),D}),w=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],S=w.some(C=>Array.isArray(C==null?void 0:C.targetFocus)&&C.targetFocus.some(j=>Number((j==null?void 0:j.damage)||0)>0||Number((j==null?void 0:j.hits)||0)>0))?w:x.map((C,j)=>{const A=C&&typeof C.enemyClassCounts=="object"&&C.enemyClassCounts?C.enemyClassCounts:{},T=Object.entries(A).map(([H,W])=>({label:String(H||"Unknown"),count:Number(W||0)})).filter(H=>H.count>0).sort((H,W)=>W.count-H.count||H.label.localeCompare(W.label)),R=T.reduce((H,W)=>H+W.count,0),D=T.map(H=>({label:H.label,damage:H.count,hits:0,share:R>0?H.count/R:0})),I=Number((C==null?void 0:C.enemyDowns)||0),O=Number((C==null?void 0:C.enemyDeaths)||0),q=Number((C==null?void 0:C.alliesDown)||0),Y=Number((C==null?void 0:C.alliesDead)||0),ie=Number((C==null?void 0:C.totalOutgoingDamage)||0),ke=Number((C==null?void 0:C.totalIncomingDamage)||0),te=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:C!=null&&C.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((C==null?void 0:C.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((C==null?void 0:C.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Y>0?O/Y:O},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:O},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:I},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Y},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:q},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:ie-ke},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:ie},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ke},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((C==null?void 0:C.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((C==null?void 0:C.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((C==null?void 0:C.alliesRevived)||0)}];return{id:String((C==null?void 0:C.id)||`fight-${j+1}`),shortLabel:`F${j+1}`,fullLabel:`${String((C==null?void 0:C.mapName)||(C==null?void 0:C.label)||"Unknown Map")}  ${String((C==null?void 0:C.duration)||"--:--")}`,mapName:String((C==null?void 0:C.mapName)||""),timestamp:Number((C==null?void 0:C.timestamp)||0),duration:String((C==null?void 0:C.duration)||"--:--"),isWin:!!(C!=null&&C.isWin),targetFocus:D,squadMetrics:te}});return{...m,fightBreakdown:x,fightDiffMode:S}},f=(()=>{if(t)return d(t);const m=a||$8,h=i!==!1,v=l.topSkillDamageSource||"target",b=l.topSkillsMetric||"damage",y=s.length;let x=0,w=0,S=0,C=0,j=0,A=0,T=0,R=0;const D=E=>{const U=((E==null?void 0:E.players)||[]).filter(Oe=>!Oe.notInSquad);let X=0,re=0,fe=0,Fe=0;return U.forEach(Oe=>{var xt;const Ct=(xt=Oe.defenses)==null?void 0:xt[0];if(!Ct)return;const Rt=Number(Ct.downCount||0),Ve=Number(Ct.deadCount||0);X+=Rt+Ve,fe+=Ve}),U.forEach(Oe=>{!Oe.statsTargets||Oe.statsTargets.length===0||Oe.statsTargets.forEach(xt=>{const Ct=xt==null?void 0:xt[0];if(!Ct)return;const Rt=Number(Ct.downed||0),Ve=Number(Ct.killed||0);re+=Rt+Ve,Fe+=Ve})}),{squadDownsDeaths:X,enemyDownsDeaths:re,squadDeaths:fe,enemyDeaths:Fe}},I=E=>{const{squadDownsDeaths:U,enemyDownsDeaths:X}=D(E);return U>0||X>0?X>U:typeof(E==null?void 0:E.success)=="boolean"?E.success:!1},O=new Map,q=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),Y={},ie={},ke=new Map,te={},H={},W={},k=new Map,V=new Map,P=new Set(Object.keys(Jc)),N=Object.keys(Jc).filter(E=>E&&E!=="Unknown").sort((E,U)=>U.length-E.length),F=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],z=E=>{if(!E)return"Unknown";const U=String(E).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(P.has(U))return U;const X=U.toLowerCase();for(const re of N)if(X.includes(re.toLowerCase()))return re;return F.find(re=>X.includes(re.toLowerCase()))||U||"Unknown"},Z=E=>E!=null&&E.classification?E.classification==="Boon":!0,se=new Map,K=new Map,L=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),B=E=>{const U=Number(E);return Number.isFinite(U)?U:0},ne=E=>{const U=String(E).split("|"),X=U[0]||"Unknown",re=z(U[1]||"Unknown"),fe=U[2]||X||"Unknown";return{name:X,profession:re,account:fe}},$=(E,U,X)=>{let re=E.get(U);return re?X.profession&&!re.professionList.includes(X.profession)&&re.professionList.push(X.profession):(re={account:X.account,name:X.name,profession:X.profession,professionList:X.profession?[X.profession]:[],activeMs:0,mitigationTotals:L()},E.set(U,re)),re},le=(E,U,X)=>{let re=E.get(U);return re?X.profession&&!re.professionList.includes(X.profession)&&re.professionList.push(X.profession):(re={account:X.account,name:X.name,profession:X.profession,professionList:X.profession?[X.profession]:[],activeMs:0,mitigationTotals:L(),minion:X.minion},E.set(U,re)),re},ye=(E,U)=>{E.totalHits+=B((U==null?void 0:U.skill_hits)??(U==null?void 0:U.skillHits)),E.blocked+=B(U==null?void 0:U.blocked),E.evaded+=B(U==null?void 0:U.evaded),E.glanced+=B(U==null?void 0:U.glanced),E.missed+=B(U==null?void 0:U.missed),E.invulned+=B(U==null?void 0:U.invulned),E.interrupted+=B(U==null?void 0:U.interrupted),E.totalMitigation+=B((U==null?void 0:U.avoided_damage)??(U==null?void 0:U.avoidedDamage)),E.minMitigation+=B((U==null?void 0:U.min_avoided_damage)??(U==null?void 0:U.minAvoidedDamage))},G=E=>Object.values(E).some(U=>U>0),me=new Map,Te=E=>{const U=me.get(E);if(!U)return{hasSkill:!1,avg:1,min:1,hits:0};const X=U.connectedHits||0,re=X>0?U.totalDamage/X:0,fe=U.minCount>0?U.minTotal/U.minCount:0;return{hasSkill:!0,avg:re,min:fe,hits:X}},mt=new Map,Pe=new Map,ae=(E,U,X)=>{const re=E.get(U)||L();return re.totalHits+=X.totalHits,re.blocked+=X.blocked,re.evaded+=X.evaded,re.glanced+=X.glanced,re.missed+=X.missed,re.invulned+=X.invulned,re.interrupted+=X.interrupted,E.set(U,re),re};s.forEach(E=>{const U=E.details;U&&(U.targets||[]).forEach(X=>{const re=(X==null?void 0:X.totalDamageDist)||[],fe=Array.isArray(re)?re[0]:null;fe==null||fe.forEach(Fe=>{if(!(Fe!=null&&Fe.id))return;const Oe=Number(Fe.id),xt=me.get(Oe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};xt.totalDamage+=Number(Fe.totalDamage||0),xt.connectedHits+=Number(Fe.connectedHits||0);const Ct=Number.isFinite(Number(Fe.min))?Number(Fe.min):0;xt.minTotal+=Ct,xt.minCount+=1,me.set(Oe,xt)})})}),s.forEach(E=>{var U,X;const re=E.details;if(!re)return;const fe=re.players,Fe=re.targets||[],Oe=re.combatReplayMetaData||{},xt=(Oe==null?void 0:Oe.inchToPixel)>0?Oe.inchToPixel:1,Ct=(Oe==null?void 0:Oe.pollingRate)>0?Oe.pollingRate:1,Rt=5e3,Ve=oe=>Array.isArray(oe)?oe.map(Ie=>Array.isArray(Ie)?[Number(Ie[0]),Number(Ie[1])]:null).filter(Ie=>!!Ie&&Number.isFinite(Ie[0])):[];let pe=[],ge=re.durationMS||0,Je=!1;const xe=fe.find(oe=>(oe==null?void 0:oe.hasCommanderTag)&&!(oe!=null&&oe.notInSquad));(U=xe==null?void 0:xe.combatReplayData)!=null&&U.positions&&(pe=xe.combatReplayData.positions,Ve(xe.combatReplayData.dead).forEach(([oe])=>{oe>0&&(Je=!0,ge=Math.min(ge,oe))}));const nt=oe=>{var Ie;const He=(Ie=oe.statsAll)==null?void 0:Ie[0];if((He==null?void 0:He.distToCom)!==void 0&&(He==null?void 0:He.distToCom)!=="Infinity")return Math.round(Number(He.distToCom));if((He==null?void 0:He.stackDist)!==void 0)return Math.round(Number(He.stackDist))||0;if(oe.hasCommanderTag)return 0;const vt=oe.combatReplayData;if(!(vt!=null&&vt.positions)||!pe.length)return 0;const bt=vt.positions,qe=Ve(vt.dead),lt=Ve(vt.down),Se=Math.floor((vt.start||0)/Ct);let Ge=0;if(qe.length&&lt.length)for(const[tt]of qe){if(tt<0)continue;const it=Math.max(0,Math.floor(tt/Ct))-Se;for(const[_e,dt]of lt){if(tt!==dt)continue;const St=Je&&_e>ge?Math.max(1,Math.floor(ge/Ct)):it,Nt=Math.max(0,Math.min(St,bt.length,pe.length));if(Nt<=0)continue;let mn=0;for(let nn=0;nn<Nt;nn++){const[sn,ct]=bt[nn],[Dr,Mn]=pe[nn];mn+=Math.hypot(sn-Dr,ct-Mn)}Ge=Math.round(mn/Nt/xt)}}return Ge},at=fe.filter(oe=>!oe.notInSquad);S+=at.length,C+=Fe.filter(oe=>!oe.isFake).length,F8(fe,{durationMS:re.durationMS,buffMap:re.buffMap});const{squadDeaths:wt,enemyDeaths:Ce}=D(re);j+=wt,A+=Ce,R+=wt,T+=Ce,I(re)?x++:w++;const Ae=re.skillMap?Number((X=Object.keys(re.skillMap).find(oe=>{var Ie,He;return((He=(Ie=re.skillMap)==null?void 0:Ie[oe])==null?void 0:He.name)==="Battle Standard"}))==null?void 0:X.replace(/^s/,"")):null;fe.forEach((oe,Ie)=>{var He,vt,bt,qe,lt,Se,Ge,tt,it,_e,dt,St,Nt;if(oe.notInSquad)return;const mn=oe.account||"Unknown",nn=mn!=="Unknown"?mn:oe.name||"Unknown",sn=oe.name||"Unknown";O.has(nn)||O.set(nn,{name:sn,account:nn,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:oe.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const ct=O.get(nn);if(oe.hasCommanderTag&&(ct.isCommander=!0),sn!=="Unknown"&&ct.characterNames.add(String(sn)),oe.profession&&oe.profession!=="Unknown"){ct.profession=oe.profession,ct.professions.add(oe.profession);const $e=Array.isArray(oe.activeTimes)&&typeof oe.activeTimes[0]=="number"?oe.activeTimes[0]:re.durationMS||0;ct.professionTimeMs[oe.profession]=(ct.professionTimeMs[oe.profession]||0)+$e}ct.logsJoined++,ct.downContrib+=eC(oe),ct.cleanses+=Q2(oe),ct.strips+=J2(oe,m),ct.healing+=tC(oe),ct.barrier+=nC(oe),ct.cc+=rC(oe,m),ct.stab+=oe.stabGeneration||0;const Dr=nt(oe);Dr<=Rt&&(ct.totalDist+=Dr,ct.distCount++),(He=oe.defenses)!=null&&He[0]&&(ct.dodges+=oe.defenses[0].dodgeCount||0,ct.downs+=oe.defenses[0].downCount||0,ct.deaths+=oe.defenses[0].deadCount||0),re.durationMS&&(ct.totalFightMs+=re.durationMS);const Mn=Array.isArray(oe.activeTimes)&&typeof oe.activeTimes[0]=="number"?oe.activeTimes[0]:re.durationMS||0;ct.squadActiveMs+=Mn;const qn=Zr(re,E),Fr=Number((re==null?void 0:re.durationMS)||0);if(qn>0&&((ct.firstSeenFightTs<=0||qn<ct.firstSeenFightTs)&&(ct.firstSeenFightTs=qn),ct.lastSeenFightTs<=0||qn>ct.lastSeenFightTs?(ct.lastSeenFightTs=qn,ct.lastSeenFightDurationMs=Fr):qn===ct.lastSeenFightTs&&Fr>ct.lastSeenFightDurationMs&&(ct.lastSeenFightDurationMs=Fr)),ct.defenseActiveMs+=Mn,ct.supportActiveMs+=Mn,ct.healingActiveMs+=Mn,Array.isArray(oe.buffUptimes)&&oe.buffUptimes.length>0&&oe.buffUptimes.forEach($e=>{var Ze,Le,rt,gt,Zt,Qt;if(typeof($e==null?void 0:$e.id)!="number")return;const yn=`b${$e.id}`,zt=((Ze=re.buffMap)==null?void 0:Ze[yn])||((Le=re.buffMap)==null?void 0:Le[String($e.id)]);if(!zt||Z(zt))return;const $r=Number(((gt=(rt=$e.buffData)==null?void 0:rt[0])==null?void 0:gt.uptime)??0),za=Number(((Qt=(Zt=$e.buffData)==null?void 0:Zt[0])==null?void 0:Qt.presence)??0);if((!Number.isFinite($r)||$r<=0)&&(!Number.isFinite(za)||za<=0))return;const Bi=(zt==null?void 0:zt.stacking)??!1,_n=(Bi?Number.isFinite($r)?$r:0:Number.isFinite($r)?$r/100:0)*Mn,Yd=Bi?za:$r,hr=Math.min(Math.max(Number.isFinite(Yd)?Yd:0,0),100)/100*Mn,vu=Number.isFinite(_n)&&_n>0,Ro=Number.isFinite(hr)&&hr>0;if(!vu&&!Ro)return;const ti=Ou(zt==null?void 0:zt.name);if(ti&&Kz.has(ti)&&(!(zt!=null&&zt.classification)||zt.classification==="Condition")){const bu=_n/1e3,ni=zt==null?void 0:zt.icon,fc=te[ti]||{name:ti,icon:ni,applications:0,damage:0};fc.applicationsFromUptime=(fc.applicationsFromUptime||0)+bu,!fc.icon&&ni&&(fc.icon=ni),te[ti]=fc;const pc=ct.outgoingConditions[ti]||{applications:0,damage:0,skills:{},icon:ni};pc.applicationsFromUptime=(pc.applicationsFromUptime||0)+bu,!pc.icon&&ni&&(pc.icon=ni),ct.outgoingConditions[ti]=pc;const yi=H[ti]||{name:ti,icon:ni,applications:0,damage:0};yi.applicationsFromUptime=(yi.applicationsFromUptime||0)+bu,!yi.icon&&ni&&(yi.icon=ni),H[ti]=yi;const gs=ct.incomingConditions[ti]||{applications:0,damage:0,skills:{},icon:ni};gs.applicationsFromUptime=(gs.applicationsFromUptime||0)+bu,!gs.icon&&ni&&(gs.icon=ni),ct.incomingConditions[ti]=gs}k.has(yn)||k.set(yn,{name:zt==null?void 0:zt.name,stacking:Bi,icon:zt==null?void 0:zt.icon}),V.has(yn)||V.set(yn,new Map);const Dm=V.get(yn),Bo=ct.account||oe.account||oe.name||"Unknown";let Ui=Dm.get(Bo);Ui||(Ui={account:Bo,profession:ct.profession||oe.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Dm.set(Bo,Ui));const fl=oe.profession||ct.profession;fl&&fl!=="Unknown"&&(Ui.professions.add(fl),Ui.professionTimeMs[fl]=(Ui.professionTimeMs[fl]||0)+Mn,Ui.profession=fl),Ui.totalMs+=vu?_n:0,Ui.uptimeMs+=Ro?hr:0,Ui.durationMs+=Mn}),(vt=oe.defenses)!=null&&vt[0]){const $e=Le=>{let rt=String(Le||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return rt.toUpperCase().includes("UNKNOWN")&&(rt="Unknown"),rt},Ze=(()=>{const Le=Array.isArray(oe==null?void 0:oe.minions)?oe.minions:[];if(Le.length===0)return{total:0,byMinion:{}};let rt=0;const gt={};return Le.forEach(Zt=>{const Qt=Array.isArray(Zt==null?void 0:Zt.totalDamageTakenDist)?Zt.totalDamageTakenDist:[],yn=Array.isArray(Qt[0])?Qt[0]:[],zt=$e(Zt==null?void 0:Zt.name);yn.forEach($r=>{const za=Number(($r==null?void 0:$r.totalDamage)??($r==null?void 0:$r.damageTaken)??0);Number.isFinite(za)&&(rt+=za,gt[zt]=(gt[zt]||0)+za)})}),{total:rt,byMinion:gt}})();Ze.byMinion&&typeof Ze.byMinion=="object"&&Object.entries(Ze.byMinion).forEach(([Le,rt])=>{const gt=Number(rt||0);!Number.isFinite(gt)||gt<=0||(ct.defenseMinionDamageTaken[Le]=(ct.defenseMinionDamageTaken[Le]||0)+gt)}),w3.forEach(Le=>{const rt=Le.id==="minionDamageTaken"?Ze.total:Number(oe.defenses[0][Le.field]??0);Number.isFinite(rt)&&(ct.defenseTotals[Le.id]=(ct.defenseTotals[Le.id]||0)+rt)})}(bt=oe.support)!=null&&bt[0]&&k3.forEach($e=>{let Ze=Number(oe.support[0][$e.field]??0);Number.isFinite(Ze)&&(q.has($e.field)&&Ze>999999&&(Ze=0),ct.supportTotals[$e.id]=(ct.supportTotals[$e.id]||0)+Ze)});const Tr=($e,Ze)=>{Number.isFinite(Ze)&&(ct.healingTotals[$e]=(ct.healingTotals[$e]||0)+Ze)},Pn=($e,Ze)=>Array.isArray($e)?$e.reduce((Le,rt)=>Le+Number((rt==null?void 0:rt[Ze])??0),0):0,Ea=($e,Ze,Le)=>{if(!Number.isFinite(Le)||Le<=0)return;const rt=fe[Ze],gt=Ze===Ie,Zt=rt==null?void 0:rt.notInSquad,Qt=!Zt,yn=Qt&&(rt==null?void 0:rt.group)!=null&&rt.group===oe.group;Tr($e,Le),Qt&&Tr(`squad${$e[0].toUpperCase()}${$e.slice(1)}`,Le),yn&&Tr(`group${$e[0].toUpperCase()}${$e.slice(1)}`,Le),gt&&Tr(`self${$e[0].toUpperCase()}${$e.slice(1)}`,Le),Zt&&Tr(`offSquad${$e[0].toUpperCase()}${$e.slice(1)}`,Le)};if(Array.isArray(oe.rotation)){let $e=0;oe.rotation.forEach(Ze=>{var Le;if(!(Ze!=null&&Ze.id)||!Qz(Ze.id,re.skillMap))return;const rt=((Le=Ze.skills)==null?void 0:Le.length)||0;rt>0&&($e+=rt,Tr(`resUtility_s${Ze.id}`,rt))}),$e>0&&Tr("resUtility",$e)}const sa=(qe=oe.extHealingStats)==null?void 0:qe.outgoingHealingAllies;Array.isArray(sa)&&sa.forEach(($e,Ze)=>{const Le=Pn($e,"healing"),rt=Pn($e,"downedHealing");Ea("healing",Ze,Le),Ea("downedHealing",Ze,rt)});const $i=(lt=oe.extBarrierStats)==null?void 0:lt.outgoingBarrierAllies;Array.isArray($i)&&$i.forEach(($e,Ze)=>{const Le=Pn($e,"barrier");Ea("barrier",Ze,Le)});const ps=(Se=oe.statsAll)==null?void 0:Se[0],ms=(Ge=oe.dpsAll)==null?void 0:Ge[0],gi=(tt=oe.support)==null?void 0:tt[0];if(x3.forEach($e=>{if($e.id==="downContributionPercent"||!$e.field)return;let Ze=0,Le=0;$e.source==="dpsAll"&&ms?Ze=Number(ms[$e.field]??0):$e.source==="statsAll"&&ps?(Ze=Number(ps[$e.field]??0),Le=Number(ps[$e.denomField||$e.weightField||"connectedDamageCount"]??0)):$e.source==="support"&&gi?Ze=Number(gi[$e.field]??0):oe.statsTargets&&oe.statsTargets.forEach(rt=>{rt!=null&&rt[0]&&(Ze+=Number(rt[0][$e.field]??0),Le+=Number(rt[0][$e.denomField||$e.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ze)&&(ct.offenseTotals[$e.id]=(ct.offenseTotals[$e.id]||0)+Ze,$e.isRate&&Le>0&&(ct.offenseRateWeights[$e.id]=(ct.offenseRateWeights[$e.id]||0)+Le))}),oe.targetDamageDist&&Number.isFinite(Ae)){const $e=oe.targetDamageDist.flatMap(Ze=>Ze||[]).flatMap(Ze=>Ze||[]).reduce((Ze,Le)=>Le!=null&&Le.id&&Le.id===Ae?Ze+((Le==null?void 0:Le.connectedHits)||0):Ze,0);ct.offenseTotals.battleStandardHits=(ct.offenseTotals.battleStandardHits||0)+$e}ct.revives+=((_e=(it=oe.support)==null?void 0:it[0])==null?void 0:_e.resurrects)||0,ms&&(ct.damage+=ms.damage||0,ct.dps+=ms.dps||0);const hs=$e=>{var Ze,Le;let rt=`Skill ${$e.id}`;const gt=((Ze=re.skillMap)==null?void 0:Ze[`s${$e.id}`])||((Le=re.skillMap)==null?void 0:Le[`${$e.id}`]);let Zt=gt==null?void 0:gt.icon;gt!=null&&gt.name&&(rt=gt.name);const Qt=od(re.buffMap,$e.id);if(rt.startsWith("Skill ")&&Qt!=null&&Qt.name&&(rt=Qt.name,Zt=Qt.icon||Zt),rt.startsWith("Skill ")){const yn=Kh(rt,$e.id,re.buffMap);yn&&(rt=yn,Zt=(Qt==null?void 0:Qt.icon)||Zt)}return{name:rt,icon:Zt}},la=$e=>{if(!($e!=null&&$e.id))return;const{name:Ze,icon:Le}=hs($e);Y[$e.id]||(Y[$e.id]={name:Ze,icon:Le,damage:0,hits:0,downContribution:0}),Y[$e.id].name.startsWith("Skill ")&&!Ze.startsWith("Skill ")&&(Y[$e.id].name=Ze),!Y[$e.id].icon&&Le&&(Y[$e.id].icon=Le),Y[$e.id].damage+=$e.totalDamage,Y[$e.id].hits+=$e.connectedHits,Y[$e.id].downContribution+=Number($e.downContribution||0)},Ri=oe.account||oe.name||"Unknown",Nn=oe.profession||"Unknown",fo=`${Ri}|${Nn}`;let jr=ke.get(fo);jr||(jr={key:fo,account:Ri,displayName:Ri,profession:Nn,professionList:[Nn],totalFightMs:0,skills:new Map},ke.set(fo,jr)),jr.professionList.includes(Nn)||jr.professionList.push(Nn),jr.totalFightMs+=re.durationMS||0;const $o=$e=>{if(!($e!=null&&$e.id))return;const{name:Ze,icon:Le}=hs($e),rt=`s${$e.id}`;let gt=jr.skills.get(rt);gt||(gt={id:rt,name:Ze,icon:Le,damage:0,downContribution:0},jr.skills.set(rt,gt)),gt.name.startsWith("Skill ")&&!Ze.startsWith("Skill ")&&(gt.name=Ze),!gt.icon&&Le&&(gt.icon=Le),gt.damage+=Number($e.totalDamage||0),gt.downContribution+=Number($e.downContribution||0)};if(v==="total")(dt=oe.totalDamageDist)==null||dt.forEach($e=>{$e==null||$e.forEach(Ze=>{la(Ze),$o(Ze)})});else{const $e=new Map;(St=oe.targetDamageDist)==null||St.forEach(Ze=>{Ze==null||Ze.forEach(Le=>{Le==null||Le.forEach(rt=>{const gt=Number(rt==null?void 0:rt.id);if(Number.isFinite(gt)){const Zt=$e.get(gt)||{damage:0,hits:0,downContribution:0};Zt.damage+=Number((rt==null?void 0:rt.totalDamage)||0),Zt.hits+=Number((rt==null?void 0:rt.connectedHits)||0),Zt.downContribution+=Number((rt==null?void 0:rt.downContribution)||0),$e.set(gt,Zt)}la(rt),$o(rt)})})}),!(re!=null&&re.detailedWvW)&&((Nt=oe.totalDamageDist)==null||Nt.forEach(Ze=>{Ze==null||Ze.forEach(Le=>{const rt=Number(Le==null?void 0:Le.id);if(!Number.isFinite(rt))return;const gt=$e.get(rt);if(!gt){la(Le),$o(Le);return}const Zt=Number((Le==null?void 0:Le.totalDamage)||0),Qt=Number((Le==null?void 0:Le.connectedHits)||0),yn=Number((Le==null?void 0:Le.downContribution)||0),zt=Zt-Number(gt.damage||0),$r=Qt-Number(gt.hits||0),za=yn-Number(gt.downContribution||0);if(zt<=0&&$r<=0&&za<=0)return;const Bi={...Le,totalDamage:Math.max(0,zt),connectedHits:Math.max(0,$r),downContribution:Math.max(0,za)};la(Bi),$o(Bi)})}))}oe.totalDamageTaken&&oe.totalDamageTaken.forEach($e=>{$e==null||$e.forEach(Ze=>{var Le,rt;if(!(Ze!=null&&Ze.id))return;let gt=`Skill ${Ze.id}`;const Zt=((Le=re.skillMap)==null?void 0:Le[`s${Ze.id}`])||((rt=re.skillMap)==null?void 0:rt[`${Ze.id}`]);let Qt=Zt==null?void 0:Zt.icon;Zt!=null&&Zt.name&&(gt=Zt.name);const yn=od(re.buffMap,Ze.id);if(gt.startsWith("Skill ")&&yn!=null&&yn.name&&(gt=yn.name,Qt=yn.icon||Qt),gt.startsWith("Skill ")){const zt=Kh(gt,Ze.id,re.buffMap);zt&&(gt=zt,Qt=(yn==null?void 0:yn.icon)||Qt)}ie[Ze.id]||(ie[Ze.id]={name:gt,icon:Qt,damage:0,hits:0}),(!ie[Ze.id].name.startsWith("Skill ")||gt.startsWith("Skill "))&&(ie[Ze.id].name=gt),!ie[Ze.id].icon&&Qt&&(ie[Ze.id].icon=Qt),ie[Ze.id].damage+=Ze.totalDamage,ie[Ze.id].hits+=Ze.hits})})}),Fe.forEach(oe=>{if(oe!=null&&oe.isFake)return;const Ie=z((oe==null?void 0:oe.profession)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.id));Ie&&(W[Ie]=(W[Ie]||0)+1)});const Ne=V8({players:fe,targets:Fe,skillMap:re.skillMap,buffMap:re.buffMap,getPlayerKey:oe=>oe.account&&oe.account!=="Unknown"?oe.account:oe.name||null}),De=F3(re.buffMap);Object.entries(Ne.playerConditions).forEach(([oe,Ie])=>{const He=O.get(oe);He&&Object.entries(Ie).forEach(([vt,bt])=>{const qe=He.outgoingConditions[vt]||{applications:0,damage:0,skills:{},icon:bt.icon};qe.applications+=Number(bt.applications||0),qe.damage+=Number(bt.damage||0),bt.applicationsFromBuffs&&(qe.applicationsFromBuffs=(qe.applicationsFromBuffs||0)+bt.applicationsFromBuffs),bt.applicationsFromBuffsActive&&(qe.applicationsFromBuffsActive=(qe.applicationsFromBuffsActive||0)+bt.applicationsFromBuffsActive),Object.entries(bt.skills||{}).forEach(([lt,Se])=>{const Ge=qe.skills[lt]||{name:Se.name,hits:0,damage:0,icon:Se.icon};Ge.hits+=Number(Se.hits||0),Ge.damage+=Number(Se.damage||0),!Ge.icon&&Se.icon&&(Ge.icon=Se.icon),qe.skills[lt]=Ge}),!qe.icon&&bt.icon&&(qe.icon=bt.icon),He.outgoingConditions[vt]=qe})}),Object.entries(Ne.summary).forEach(([oe,Ie])=>{const He=te[oe]||{name:Ie.name||oe,icon:Ie.icon,applications:0,damage:0};He.applications+=Number(Ie.applications||0),He.damage+=Number(Ie.damage||0),Ie.applicationsFromBuffs&&(He.applicationsFromBuffs=(He.applicationsFromBuffs||0)+Ie.applicationsFromBuffs),Ie.applicationsFromBuffsActive&&(He.applicationsFromBuffsActive=(He.applicationsFromBuffsActive||0)+Ie.applicationsFromBuffsActive),!He.icon&&Ie.icon&&(He.icon=Ie.icon),te[oe]=He}),at.forEach(oe=>{const Ie=oe.account&&oe.account!=="Unknown"?oe.account:oe.name||"Unknown",He=O.get(Ie);!He||!oe.totalDamageTaken||oe.totalDamageTaken.forEach(vt=>vt==null?void 0:vt.forEach(bt=>{var qe,lt;if(!(bt!=null&&bt.id))return;let Se=`Skill ${bt.id}`;const Ge=((qe=re.skillMap)==null?void 0:qe[`s${bt.id}`])||((lt=re.skillMap)==null?void 0:lt[`${bt.id}`]);Ge!=null&&Ge.name&&(Se=Ge.name);const tt=od(re.buffMap,bt.id);Se.startsWith("Skill ")&&tt!=null&&tt.name&&(Se=tt.name);const it=Kh(Se,bt.id,re.buffMap);if(!it)return;const _e=tt==null?void 0:tt.name,dt=De.get(it)||(tt==null?void 0:tt.icon),St=(Ge==null?void 0:Ge.icon)||(tt==null?void 0:tt.icon)||dt;Se.startsWith("Skill ")&&(_e||it)&&(Se=_e||it);const Nt=Number(bt.hits??0),mn=Number(bt.totalDamage??0),nn=H[it]||{name:it,icon:dt,applications:0,damage:0};nn.applications+=Number.isFinite(Nt)?Nt:0,nn.damage+=Number.isFinite(mn)?mn:0,!nn.icon&&dt&&(nn.icon=dt),H[it]=nn;const sn=He.incomingConditions[it]||{applications:0,damage:0,skills:{},icon:dt};sn.applications+=Number.isFinite(Nt)?Nt:0,sn.damage+=Number.isFinite(mn)?mn:0;const ct=sn.skills[Se]||{name:Se,hits:0,damage:0,icon:St};ct.hits+=Number.isFinite(Nt)?Nt:0,ct.damage+=Number.isFinite(mn)?mn:0,!ct.icon&&St&&(ct.icon=St),sn.skills[Se]=ct,!sn.icon&&dt&&(sn.icon=dt),He.incomingConditions[it]=sn}))});const Ke=re.player_damage_mitigation||re.playerDamageMitigation,he=Ke&&typeof Ke=="object"&&Object.keys(Ke).length>0;he&&Object.entries(Ke).forEach(([oe,Ie])=>{if(!Ie||typeof Ie!="object")return;const He=ne(oe),vt=$(se,He.account,He);Object.values(Ie).forEach(bt=>{B((bt==null?void 0:bt.avoided_damage)??(bt==null?void 0:bt.avoidedDamage))<=0||ye(vt.mitigationTotals,bt)})});const Be=re.player_minion_damage_mitigation||re.playerMinionDamageMitigation,Xe=Be&&typeof Be=="object"&&Object.keys(Be).length>0;Xe&&Object.entries(Be).forEach(([oe,Ie])=>{if(!Ie||typeof Ie!="object")return;const He=ne(oe);Object.entries(Ie).forEach(([vt,bt])=>{if(!bt||typeof bt!="object")return;const qe=`${He.account}::${vt}`,lt=le(K,qe,{...He,minion:String(vt||"Unknown")});Object.values(bt).forEach(Se=>{ye(lt.mitigationTotals,Se)})})}),(!he||!Xe)&&(he||at.forEach(oe=>{const Ie=(oe==null?void 0:oe.totalDamageTaken)||[];if(!Array.isArray(Ie)||Ie.length===0)return;const He=oe.account||oe.name||"Unknown",vt={account:He,name:oe.name||He,profession:z(oe.profession||"Unknown")};$(se,He,vt);const bt=Array.isArray(Ie)?Ie[0]:null;bt==null||bt.forEach(qe=>{if(!(qe!=null&&qe.id))return;const lt=B(qe.blocked),Se=B(qe.evaded),Ge=B(qe.glance??qe.glanced),tt=B(qe.missed),it=B(qe.invulned),_e=B(qe.interrupted),dt=B(qe.hits??qe.connectedHits),St=Number(qe.id);ae(mt,`${He}::${St}`,{totalHits:dt,blocked:lt,evaded:Se,glanced:Ge,missed:tt,invulned:it,interrupted:_e})})}),Xe||at.forEach(oe=>{const Ie=(oe==null?void 0:oe.minions)||[];if(!Array.isArray(Ie)||Ie.length===0)return;const He=oe.account||oe.name||"Unknown",vt={account:He,name:oe.name||He,profession:z(oe.profession||"Unknown")};Ie.forEach(bt=>{const qe=(bt==null?void 0:bt.totalDamageTakenDist)||[];if(!Array.isArray(qe)||qe.length===0)return;let lt=String((bt==null?void 0:bt.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";lt.toUpperCase().includes("UNKNOWN")&&(lt="Unknown");const Se=`${He}::${lt}`;le(K,Se,{...vt,minion:lt});const Ge=Array.isArray(qe)?qe[0]:null;Ge==null||Ge.forEach(tt=>{if(!(tt!=null&&tt.id))return;const it=B(tt.blocked),_e=B(tt.evaded),dt=B(tt.glance??tt.glanced),St=B(tt.missed),Nt=B(tt.invulned),mn=B(tt.interrupted),nn=B(tt.hits??tt.connectedHits),sn=Number(tt.id);ae(Pe,`${Se}::${sn}`,{totalHits:nn,blocked:it,evaded:_e,glanced:dt,missed:St,invulned:Nt,interrupted:mn})})})}))});const Ue=(E,U)=>{const X=new Map,re=fe=>{let Fe=X.get(fe);return Fe||(Fe=L(),X.set(fe,Fe)),Fe};U.forEach((fe,Fe)=>{const Oe=Fe.lastIndexOf("::"),xt=Oe>-1?Fe.slice(0,Oe):Fe,Ct=Oe>-1?Number(Fe.slice(Oe+2)):Number.NaN,Rt=Number.isFinite(Ct)?Te(Ct):{hasSkill:!1,avg:0,min:0,hits:0};if(!Rt.hasSkill||Rt.hits<=0)return;const Ve=Rt.avg,pe=Rt.min,ge=fe.glanced*Ve/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*Ve,Je=fe.glanced*pe/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*pe;if(ge<=0)return;const xe=re(xt);xe.totalHits+=fe.totalHits,xe.blocked+=fe.blocked,xe.evaded+=fe.evaded,xe.glanced+=fe.glanced,xe.missed+=fe.missed,xe.invulned+=fe.invulned,xe.interrupted+=fe.interrupted,xe.totalMitigation+=ge,xe.minMitigation+=Je}),E.forEach((fe,Fe)=>{const Oe=X.get(Fe)||L();fe.mitigationTotals.totalHits=Oe.totalHits,fe.mitigationTotals.blocked=Oe.blocked,fe.mitigationTotals.evaded=Oe.evaded,fe.mitigationTotals.glanced=Oe.glanced,fe.mitigationTotals.missed=Oe.missed,fe.mitigationTotals.invulned=Oe.invulned,fe.mitigationTotals.interrupted=Oe.interrupted,fe.mitigationTotals.totalMitigation=Oe.totalMitigation,fe.mitigationTotals.minMitigation=Oe.minMitigation})};Ue(se,mt),Ue(K,Pe);const Re=y>0?Math.round(S/y):0,de=y>0?Math.round(C/y):0,It=j>0?(A/j).toFixed(2):A>0?"":"0.00",Tn=T>0?(R/T).toFixed(2):R>0?"":"0.00",je=(E,U)=>{const X=E.filter(Fe=>Number.isFinite(Fe.value)&&(U?Fe.value>0:Fe.value>=0)).sort((Fe,Oe)=>{const xt=U?Oe.value-Fe.value:Fe.value-Oe.value;return xt!==0?xt:Fe.account.localeCompare(Oe.account)});let re=null,fe=0;return X.map((Fe,Oe)=>((re===null||Fe.value!==re)&&(fe=Oe+1,re=Fe.value),{rank:fe,...Fe}))},et=Array.from(O.values()).map(E=>{const U=Array.from(E.professions).filter(X=>X!=="Unknown");if(E.professionList=U,U.length>0){let X=U[0],re=E.professionTimeMs[X]||0;U.forEach(fe=>{const Fe=E.professionTimeMs[fe]||0;Fe>re&&(re=Fe,X=fe)}),E.profession=X}return{key:E.account,stat:E}}),Ft=E=>{const U=O.get(E.account);if(!U){const fe=E.professionList.length>0?E.professionList:E.profession?[E.profession]:[];return{...E,professionList:fe}}const X=U.professionList&&U.professionList.length>0?U.professionList:Array.from(U.professions||[]).filter(fe=>fe&&fe!=="Unknown"),re=U.profession||E.profession;return{...E,profession:re,professionList:X.length>0?X:re?[re]:[],activeMs:U.defenseActiveMs||U.totalFightMs||E.activeMs}},on=Array.from(se.values()).map(Ft).filter(E=>G(E.mitigationTotals)).sort((E,U)=>E.account.localeCompare(U.account)),ln=Array.from(K.values()).map(Ft).filter(E=>E.mitigationTotals.totalMitigation>0).sort((E,U)=>{const X=E.account.localeCompare(U.account);return X!==0?X:String(E.minion||"").localeCompare(String(U.minion||""))}),pr=(E,U)=>{switch(U){case"downContrib":return E.downContrib;case"barrier":return E.barrier;case"healing":return E.healing;case"dodges":return E.dodges;case"strips":return E.strips;case"cleanses":return E.cleanses;case"cc":return E.cc;case"stability":return E.stab;case"revives":return E.revives;case"dps":return E.dps;case"damage":return E.damage;case"participation":return E.logsJoined;case"closestToTag":return!E.isCommander&&E.distCount>0?E.totalDist/E.distCount:Number.POSITIVE_INFINITY;default:return 0}},Xn=(E,U)=>je(et.map(({stat:X})=>({account:X.account,profession:X.profession,professionList:X.professionList,value:pr(X,E),count:X.logsJoined})),U),dn={downContrib:Xn("downContrib",!0),barrier:Xn("barrier",!0),healing:Xn("healing",!0),dodges:Xn("dodges",!0),strips:Xn("strips",!0),cleanses:Xn("cleanses",!0),cc:Xn("cc",!0),stability:Xn("stability",!0),revives:Xn("revives",!0),participation:Xn("participation",!0),dps:Xn("dps",!0),damage:Xn("damage",!0),closestToTag:Xn("closestToTag",!1).filter(E=>Number.isFinite(E.value))},Aa={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},pn=E=>{const U=E==null?void 0:E[0];return{value:(U==null?void 0:U.value)??0,player:(U==null?void 0:U.account)??"-",count:(U==null?void 0:U.count)??0,profession:(U==null?void 0:U.profession)??"Unknown",professionList:(U==null?void 0:U.professionList)??[]}},In={maxDownContrib:pn([]),maxBarrier:pn([]),maxHealing:pn([]),maxDodges:pn([]),maxStrips:pn([]),maxCleanses:pn([]),maxCC:pn([]),maxStab:pn([]),closestToTag:pn([])},mr={},Zn=(E,U)=>{if(U==="closestToTag")return pr(E,U);const X=Math.max(1,(E.totalFightMs||0)/1e3);return pr(E,U)/X};Object.values(Aa).forEach(E=>{const U=E!=="closestToTag";mr[E]=je(et.map(({stat:X})=>({account:X.account,profession:X.profession,professionList:X.professionList,value:Zn(X,E),count:X.logsJoined})),U)}),In.maxDownContrib=pn(mr.downContrib),In.maxBarrier=pn(mr.barrier),In.maxHealing=pn(mr.healing),In.maxDodges=pn(mr.dodges),In.maxStrips=pn(mr.strips),In.maxCleanses=pn(mr.cleanses),In.maxCC=pn(mr.cc),In.maxStab=pn(mr.stability),In.closestToTag=pn(mr.closestToTag);const Fi={maxDownContrib:pn(dn.downContrib),maxBarrier:pn(dn.barrier),maxHealing:pn(dn.healing),maxDodges:pn(dn.dodges),maxStrips:pn(dn.strips),maxCleanses:pn(dn.cleanses),maxCC:pn(dn.cc),maxStab:pn(dn.stability),closestToTag:pn(dn.closestToTag)};let ia={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Lr,yu,lc=0;if(l!=null&&l.showMvp){const E={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},U=Fe=>{const Oe=E[Fe];return Oe?Number(u[Oe]||0)>0:!1},X=[],re=Fe=>[...Fe||[]].filter(Oe=>U(Oe==null?void 0:Oe.name)).sort((Oe,xt)=>xt.ratio-Oe.ratio||Oe.rank-xt.rank||Oe.name.localeCompare(xt.name)).slice(0,3),fe=Fe=>{var Oe;if(!Fe)return;const xt=re(Fe.contribs);return{...Fe,player:Fe.name,reason:((Oe=xt[0])==null?void 0:Oe.name)||"Top Performance",topStats:xt}};et.forEach(({stat:Fe})=>{let Oe=0;const xt=[],Ct=(Rt,Ve,pe,ge,Je=!0)=>{var xe,nt;if(pe<=0)return;const at=((xe=Ve[0])==null?void 0:xe.value)||0;if(at&&Number.isFinite(Rt)&&(Je?Rt>0:Rt<Number.POSITIVE_INFINITY)){const wt=Je?Rt/at:at/Rt;Oe+=wt*pe;const Ce=((nt=Ve.find(Ae=>Ae.account===Fe.account))==null?void 0:nt.rank)||0;xt.push({name:ge,ratio:wt,val:Rt.toLocaleString(),rank:Ce})}};Ct(Fe.downContrib,dn.downContrib,u.downContribution,"Down Contribution"),Ct(Fe.healing,dn.healing,u.healing,"Healing"),Ct(Fe.cleanses,dn.cleanses,u.cleanses,"Cleanses"),Ct(Fe.strips,dn.strips,u.strips,"Strips"),Ct(Fe.stab,dn.stability,u.stability,"Stability"),Ct(Fe.cc,dn.cc,u.cc,"CC"),Ct(Fe.revives,dn.revives,u.revives,"Revives"),Ct(pr(Fe,"closestToTag"),dn.closestToTag,u.distanceToTag,"Distance to Tag",!1),Ct(Fe.logsJoined,dn.participation,u.participation,"Participation"),Ct(Fe.dodges,dn.dodges,u.dodging,"Dodging"),Ct(Fe.dps,dn.dps,u.dps,"DPS"),Ct(Fe.damage,dn.damage,u.damage,"Damage"),X.push({...Fe,score:Oe,contribs:xt.filter(Rt=>U(Rt.name))})}),X.sort((Fe,Oe)=>Oe.score-Fe.score),X[0]&&X[0].score>0&&(ia=fe(X[0])||ia),Lr=fe(X[1]),yu=fe(X[2]),lc=X.length>0?X.reduce((Fe,Oe)=>Fe+Oe.score,0)/X.length:0}const cl=Object.values(Y).sort((E,U)=>U.damage-E.damage||U.hits-E.hits||String(E.name||"").localeCompare(String(U.name||""))).slice(0,25),oa=Object.values(Y).sort((E,U)=>U.downContribution-E.downContribution||U.hits-E.hits||String(E.name||"").localeCompare(String(U.name||""))).slice(0,25),us=b==="downContribution"?oa:cl,Gr=Object.values(ie).sort((E,U)=>U.damage-E.damage).slice(0,25),uo=E=>{const U=String(E).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),X=U.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return X?`${X[1]} Borderlands`:U||"Unknown"},Sr=(E,U)=>uo((E==null?void 0:E.zone)||(E==null?void 0:E.mapName)||(E==null?void 0:E.map)||(E==null?void 0:E.location)||(E==null?void 0:E.fightName)||(U==null?void 0:U.fightName)||(U==null?void 0:U.encounterName)||"Unknown"),ul=(E,U)=>{const X=(U==null?void 0:U.permalink)||(E==null?void 0:E.permalink);if(typeof X=="string"&&X.trim().length>0)return X.trim();const re=E==null?void 0:E.uploadLinks;if(!Array.isArray(re))return"";for(const fe of re){if(typeof fe=="string"&&fe.trim().length>0)return fe.trim();if(fe&&typeof fe=="object"){const Fe=fe.permalink||fe.link||fe.url||fe.reportLink;if(typeof Fe=="string"&&Fe.trim().length>0)return Fe.trim()}}return""},Yr=(E,U)=>{const X=Number((E==null?void 0:E.durationMS)||0);return X>0?sh(X):(typeof(U==null?void 0:U.encounterDuration)=="string"?U.encounterDuration.trim():"")||"--:--"},cc=(E,U)=>{if((Array.isArray(E==null?void 0:E.players)?E.players:[]).length>0)return I(E);if(typeof(E==null?void 0:E.success)=="boolean")return E.success;const X=U==null?void 0:U.dashboardSummary;if(X&&typeof X=="object"){if(X.isWin===!0)return!0;if(X.isWin===!1)return!1}return null},Ja=(E,U)=>{var X,re;const fe=Zr((X=E.log)==null?void 0:X.details,E.log),Fe=Zr((re=U.log)==null?void 0:re.details,U.log),Oe=fe>0,xt=Fe>0;return Oe&&xt&&fe!==Fe?fe-Fe:Oe!==xt?Oe?-1:1:E.originalIndex-U.originalIndex},hi=e.map((E,U)=>({log:E,originalIndex:U})).sort(Ja),Nr=hi.filter(({log:E})=>o(E)),ds={};s.forEach(E=>{const U=Sr(E==null?void 0:E.details,E);ds[U]=(ds[U]||0)+1});const fs=Object.entries(ds).map(([E,U])=>{const X=String(E).trim(),re=/eternal battlegrounds|^ebg$/i.test(X);let fe="#64748b";return re?fe="#ffffff":/red/i.test(X)?fe="#ef4444":/blue/i.test(X)?fe="#3b82f6":/green/i.test(X)&&(fe="#22c55e"),{name:E,value:U,color:fe}}).sort((E,U)=>U.value-E.value),{boonTables:uc}=C8(s),dc=(()=>{const E=pe=>String(pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=pe=>E(pe).toLowerCase().split(/[^a-z0-9]+/i).map(ge=>ge.trim()).filter(Boolean).map(ge=>ge.length>3&&ge.endsWith("s")?ge.slice(0,-1):ge),X=(pe,ge)=>{const Je=E(pe),xe=E(ge);if(!xe)return Je;if(!Je)return xe;const nt=U(Je),at=U(xe),wt=new Set(nt),Ce=new Set(at),Ae=at.length>0&&at.every(De=>wt.has(De)),Ne=nt.length>0&&nt.every(De=>Ce.has(De));return Ae||Ne?Je:`${Je} - ${xe}`},re=new Map,fe=(pe,ge)=>{if(!re.has(pe))re.set(pe,{id:pe,name:String((ge==null?void 0:ge.name)||pe),icon:ge==null?void 0:ge.icon,stacking:!!(ge!=null&&ge.stacking),players:new Map,fights:[]});else if(ge){const Je=re.get(pe);(!Je.name||Je.name===pe)&&ge!=null&&ge.name&&(Je.name=String(ge.name)),!Je.icon&&ge!=null&&ge.icon&&(Je.icon=String(ge.icon)),!Je.stacking&&ge!=null&&ge.stacking&&(Je.stacking=!0)}return re.get(pe)},Fe=pe=>Array.isArray(pe)?pe.map(ge=>Array.isArray(ge)?[Number(ge[0]),Number(ge[1])]:ge&&typeof ge=="object"?[Number(ge.time),Number(ge.value)]:null).filter(ge=>!!ge&&Number.isFinite(ge[0])&&Number.isFinite(ge[1])&&ge[0]>=0).sort((ge,Je)=>ge[0]-Je[0]):[],Oe=(pe,ge,Je)=>{const xe=pe.get(ge)||[];xe.length<Je&&(xe.length=Je);for(let nt=0;nt<Je;nt+=1)Number.isFinite(xe[nt])||(xe[nt]=0);return pe.set(ge,xe),xe},xt=(pe,ge,Je,xe,nt)=>{if(!ge||ge==="__all__"||xe<=0)return;const at=Fe(Je);if(at.length===0)return;const wt=Oe(pe,ge,xe),Ce=Math.max(1,Number(nt||0),xe*5e3),Ae=he=>Math.max(0,Math.min(Ce,Number(he||0))),Ne=(he,Be,Xe)=>{if(!Number.isFinite(Xe)||Xe<=0)return;let oe=Ae(he);const Ie=Ae(Be);if(!(Ie<=oe))for(;oe<Ie;){const He=Math.max(0,Math.min(xe-1,Math.floor(oe/5e3))),vt=Math.min(Ie,(He+1)*5e3),bt=Math.max(0,vt-oe);bt>0&&(wt[He]=Number(wt[He]||0)+bt*Xe),oe=vt}};let De=Ae(at[0][0]),Ke=Math.max(0,Number(at[0][1]||0));for(let he=1;he<at.length;he+=1){const[Be,Xe]=at[he],oe=Ae(Be);Ne(De,oe,Ke),De=oe,Ke=Math.max(0,Number(Xe||0))}Ne(De,Ce,Ke)},Ct=(pe,ge,Je)=>{const xe=Array.from({length:Je},(wt,Ce)=>Number((pe==null?void 0:pe[Ce])||0)),nt=xe.reduce((wt,Ce)=>wt+Number(Ce||0),0);if(!Number.isFinite(ge)||ge<=0)return xe.map(()=>0);if(!Number.isFinite(nt)||nt<=0){const wt=ge/Math.max(1,Je);return xe.map(()=>wt)}const at=ge/nt;return xe.map(wt=>Number(wt||0)*at)},Rt=()=>({selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0}),Ve=(pe,ge,Je)=>{const xe=Math.max(0,Number(Je||0));xe&&(pe[ge]=Number(pe[ge]||0)+xe,(ge==="selfBuffs"||ge==="squadBuffs")&&(pe.totalBuffs=Number(pe.totalBuffs||0)+xe))};return s.map(pe=>({log:pe,ts:Zr(pe==null?void 0:pe.details,pe)})).sort((pe,ge)=>pe.ts-ge.ts).forEach(({log:pe},ge)=>{const Je=pe==null?void 0:pe.details;if(!Je)return;const xe=(Array.isArray(Je.players)?Je.players:[]).filter(Ie=>!(Ie!=null&&Ie.notInSquad)),nt=xe.length;if(nt<=0)return;const at=Math.max(0,Number((Je==null?void 0:Je.durationMS)||0)),wt=Math.max(1,Math.ceil(Math.max(1,at)/5e3)),Ce=Je!=null&&Je.buffMap&&typeof Je.buffMap=="object"?Je.buffMap:{},Ae=new Map,Ne=new Map;xe.forEach(Ie=>{const He=Number((Ie==null?void 0:Ie.group)??0);Ne.set(He,(Ne.get(He)||0)+1);const vt=String((Ie==null?void 0:Ie.account)||(Ie==null?void 0:Ie.name)||"Unknown");[Ie==null?void 0:Ie.name,Ie==null?void 0:Ie.display_name,Ie==null?void 0:Ie.character_name,Ie==null?void 0:Ie.account].map(bt=>String(bt||"").trim()).filter(Boolean).forEach(bt=>Ae.set(bt,vt))});const De=E(Je.fightName||pe.fightName||`Fight ${ge+1}`),Ke=Sr(Je,pe),he=X(De,String(Ke||"")),Be=new Map,Xe=new Map,oe=new Map;xe.forEach(Ie=>{const He=String((Ie==null?void 0:Ie.account)||(Ie==null?void 0:Ie.name)||"Unknown"),vt=String((Ie==null?void 0:Ie.profession)||"Unknown"),bt=He,qe=Number((Ie==null?void 0:Ie.group)??0),lt=Math.max(1,Number(Ne.get(qe)||1));["selfBuffs","groupBuffs","squadBuffs"].forEach(Se=>{(Array.isArray(Ie==null?void 0:Ie[Se])?Ie[Se]:[]).forEach(Ge=>{var tt;const it=Number(Ge==null?void 0:Ge.id);if(!Number.isFinite(it))return;const _e=`b${it}`,dt=Ce[_e]||{},St=String((dt==null?void 0:dt.classification)||"");if(St&&St!=="Boon")return;const Nt=Number(((tt=Xx(Ie,Se,it,at,lt,nt,Ce))==null?void 0:tt.generationMs)||0);if(!Number.isFinite(Nt)||Nt<=0)return;const mn=fe(_e,dt),nn=mn.players.get(bt)||{key:bt,account:He,displayName:He,profession:vt,professionList:vt&&vt!=="Unknown"?[vt]:[],logs:0,totals:Rt()};vt&&vt!=="Unknown"&&!nn.professionList.includes(vt)&&nn.professionList.push(vt),(!nn.profession||nn.profession==="Unknown")&&vt&&vt!=="Unknown"&&(nn.profession=vt);const sn=oe.get(_e)||new Set;sn.has(bt)||(sn.add(bt),nn.logs+=1,oe.set(_e,sn)),Ve(nn.totals,Se,Nt),mn.players.set(bt,nn);const ct=mn.players.get("__all__")||{key:"__all__",account:"All",displayName:"All",profession:"All",professionList:[],logs:0,totals:Rt()};Ve(ct.totals,Se,Nt),mn.players.set("__all__",ct);const Dr=Be.get(_e)||new Map,Mn=Dr.get(bt)||Rt();Ve(Mn,Se,Nt),Dr.set(bt,Mn);const qn=Dr.get("__all__")||Rt();Ve(qn,Se,Nt),Dr.set("__all__",qn),Be.set(_e,Dr);const Fr=Array.isArray(Ie==null?void 0:Ie.buffUptimes)?Ie.buffUptimes.find(Pn=>Number(Pn==null?void 0:Pn.id)===it):null,Tr=Fr!=null&&Fr.statesPerSource&&typeof Fr.statesPerSource=="object"?Fr.statesPerSource:null;if(Tr){const Pn=Xe.get(_e)||new Map;Object.entries(Tr).forEach(([Ea,sa])=>{const $i=Ae.get(String(Ea||"").trim());$i&&xt(Pn,$i,sa,wt,at)}),Xe.set(_e,Pn)}})})}),Be.forEach((Ie,He)=>{const vt=re.get(He);if(!vt)return;const bt=Xe.get(He)||new Map,qe={};let lt=Array.from({length:wt},()=>0),Se=0;Ie.forEach((_e,dt)=>{const St={selfBuffs:Number((_e==null?void 0:_e.selfBuffs)||0),groupBuffs:Number((_e==null?void 0:_e.groupBuffs)||0),squadBuffs:Number((_e==null?void 0:_e.squadBuffs)||0),totalBuffs:Number((_e==null?void 0:_e.totalBuffs)||0)},Nt=Math.max(0,Number(St.totalBuffs||0));if(!Number.isFinite(Nt)||Nt<=0)return;const mn=bt.get(dt)||[],nn=Ct(mn,Nt,wt);qe[dt]={total:Nt,totals:St,bucketWeights5s:Array.from({length:wt},(sn,ct)=>Number(mn[ct]||0)),buckets5s:nn},dt!=="__all__"&&(Nt>Se&&(Se=Nt),lt=lt.map((sn,ct)=>Number(sn||0)+Number(nn[ct]||0)))});const Ge=Ie.get("__all__"),tt=Number((Ge==null?void 0:Ge.totalBuffs)||0);if(tt>0&&(qe.__all__={total:tt,totals:{selfBuffs:Number((Ge==null?void 0:Ge.selfBuffs)||0),groupBuffs:Number((Ge==null?void 0:Ge.groupBuffs)||0),squadBuffs:Number((Ge==null?void 0:Ge.squadBuffs)||0),totalBuffs:Number((Ge==null?void 0:Ge.totalBuffs)||0)},bucketWeights5s:Array.from({length:wt},(_e,dt)=>Number((bt.get("__all__")||[])[dt]||0)),buckets5s:lt.some(_e=>Number(_e||0)>0)?lt:Ct(bt.get("__all__")||[],tt,wt)}),Object.keys(qe).length===0)return;const it=vt.players.get("__all__");it&&(it.logs+=1,vt.players.set("__all__",it)),vt.fights.push({id:pe.filePath||pe.id||`fight-${ge+1}`,shortLabel:`F${ge+1}`,fullLabel:he,timestamp:Zr(Je,pe),durationMs:at,values:qe,maxTotal:Se})})}),Array.from(re.values()).map(pe=>({id:pe.id,name:pe.name||pe.id,icon:pe.icon,stacking:pe.stacking,players:Array.from(pe.players.values()).sort((ge,Je)=>{var xe,nt;if(ge.key==="__all__")return-1;if(Je.key==="__all__")return 1;const at=Number(((xe=Je.totals)==null?void 0:xe.totalBuffs)||0)-Number(((nt=ge.totals)==null?void 0:nt.totalBuffs)||0);return at!==0?at:String(ge.displayName||"").localeCompare(String(Je.displayName||""))}),fights:[...pe.fights].sort((ge,Je)=>ge.timestamp>0&&Je.timestamp>0&&ge.timestamp!==Je.timestamp?ge.timestamp-Je.timestamp:ge.shortLabel.localeCompare(Je.shortLabel,void 0,{numeric:!0}))})).filter(pe=>pe.players.length>0&&pe.fights.length>0).sort((pe,ge)=>String(pe.name||"").localeCompare(String(ge.name||"")))})(),Gd=(()=>{const E=Ve=>String(Ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=Ve=>E(Ve).toLowerCase().split(/[^a-z0-9]+/i).map(pe=>pe.trim()).filter(Boolean).map(pe=>pe.length>3&&pe.endsWith("s")?pe.slice(0,-1):pe),X=(Ve,pe)=>{const ge=E(Ve),Je=E(pe);if(!Je)return ge;if(!ge)return Je;const xe=U(ge),nt=U(Je),at=new Set(xe),wt=new Set(nt),Ce=nt.length>0&&nt.every(Ne=>at.has(Ne)),Ae=xe.length>0&&xe.every(Ne=>wt.has(Ne));return Ce||Ae?ge:`${ge} - ${Je}`},re=new Map,fe=(Ve,pe)=>{if(!re.has(Ve))re.set(Ve,{id:Ve,name:String((pe==null?void 0:pe.name)||Ve),icon:pe==null?void 0:pe.icon,stacking:!!(pe!=null&&pe.stacking),players:new Map,fights:[]});else if(pe){const ge=re.get(Ve);(!ge.name||ge.name===Ve)&&pe!=null&&pe.name&&(ge.name=String(pe.name)),!ge.icon&&pe!=null&&pe.icon&&(ge.icon=String(pe.icon)),!ge.stacking&&pe!=null&&pe.stacking&&(ge.stacking=!0)}return re.get(Ve)},Fe=Ve=>Array.isArray(Ve)?Ve.map(pe=>Array.isArray(pe)?[Number(pe[0]),Number(pe[1])]:pe&&typeof pe=="object"?[Number(pe.time),Number(pe.value)]:null).filter(pe=>!!pe&&Number.isFinite(pe[0])&&Number.isFinite(pe[1])&&pe[0]>=0).sort((pe,ge)=>pe[0]-ge[0]):[],Oe=(Ve,pe)=>pe?(String(Ve||"").trim().toLowerCase(),25):1,xt=(Ve,pe,ge)=>{const Je=Number.isFinite(Ve)?Math.max(0,Ve):0;return pe?Math.max(0,Math.min(ge,Math.round(Je))):Je>0?1:0},Ct=(Ve,pe,ge,Je)=>{const xe=Array.from({length:pe},()=>0);if(!Ve||typeof Ve!="object"||pe<=0)return xe;Object.values(Ve).forEach(at=>{const wt=Fe(at);if(wt.length===0)return;let Ce=0,Ae=0;for(let Ne=0;Ne<pe;Ne+=1){const De=Ne*5e3;for(;Ce<wt.length&&wt[Ce][0]<=De;)Ae=Math.max(0,Number(wt[Ce][1]||0)),Ce+=1;xe[Ne]+=Math.max(0,Number(Ae||0))}});const nt=Oe(Je,ge);return xe.map(at=>xt(at,ge,nt))},Rt=Ve=>{const pe=Ve.reduce((Je,xe)=>Je+Math.max(0,Number(xe||0)),0),ge=Ve.reduce((Je,xe)=>Math.max(Je,Math.max(0,Number(xe||0))),0);return{total:pe,peak:ge,buckets5s:Ve}};return s.map(Ve=>({log:Ve,ts:Zr(Ve==null?void 0:Ve.details,Ve)})).sort((Ve,pe)=>Ve.ts-pe.ts).forEach(({log:Ve},pe)=>{const ge=Ve==null?void 0:Ve.details;if(!ge)return;const Je=(Array.isArray(ge.players)?ge.players:[]).filter(Ke=>!(Ke!=null&&Ke.notInSquad));if(Je.length<=0)return;const xe=Math.max(0,Number((ge==null?void 0:ge.durationMS)||0)),nt=Math.max(1,Math.ceil(Math.max(1,xe)/5e3)),at=ge!=null&&ge.buffMap&&typeof ge.buffMap=="object"?ge.buffMap:{},wt=E(ge.fightName||Ve.fightName||`Fight ${pe+1}`),Ce=Sr(ge,Ve),Ae=X(wt,String(Ce||"")),Ne=new Map,De=new Map;Je.forEach(Ke=>{const he=String((Ke==null?void 0:Ke.account)||(Ke==null?void 0:Ke.name)||"Unknown"),Be=he,Xe=String((Ke==null?void 0:Ke.profession)||"Unknown");(Array.isArray(Ke==null?void 0:Ke.buffUptimes)?Ke.buffUptimes:[]).forEach(oe=>{const Ie=Number(oe==null?void 0:oe.id);if(!Number.isFinite(Ie))return;const He=`b${Ie}`,vt=at[He]||{},bt=String((vt==null?void 0:vt.classification)||"");if(bt&&bt!=="Boon")return;const qe=oe!=null&&oe.statesPerSource&&typeof oe.statesPerSource=="object"?oe.statesPerSource:null;if(!qe)return;const lt=Ct(qe,nt,!!(vt!=null&&vt.stacking),String((vt==null?void 0:vt.name)||"")),Se=Rt(lt);if(Se.total<=0&&Se.peak<=0)return;const Ge=fe(He,vt),tt=Ge.players.get(Be)||{key:Be,account:he,displayName:he,profession:Xe,professionList:Xe&&Xe!=="Unknown"?[Xe]:[],logs:0,total:0,peak:0};Xe&&Xe!=="Unknown"&&!tt.professionList.includes(Xe)&&tt.professionList.push(Xe),(!tt.profession||tt.profession==="Unknown")&&Xe&&Xe!=="Unknown"&&(tt.profession=Xe);const it=De.get(He)||new Set;it.has(Be)||(it.add(Be),tt.logs+=1,De.set(He,it)),tt.total+=Se.total,tt.peak=Math.max(tt.peak,Se.peak),Ge.players.set(Be,tt);const _e=Ne.get(He)||new Map;_e.set(Be,Se),Ne.set(He,_e)})}),Ne.forEach((Ke,he)=>{const Be=re.get(he);if(!Be)return;const Xe={};let oe=0;Ke.forEach((Ie,He)=>{Xe[He]={total:Number(Ie.total||0),peak:Number(Ie.peak||0),buckets5s:Array.isArray(Ie.buckets5s)?Ie.buckets5s.map(vt=>Number(vt||0)):[]},oe=Math.max(oe,Number(Ie.peak||0))}),Object.keys(Xe).length!==0&&Be.fights.push({id:Ve.filePath||Ve.id||`fight-${pe+1}`,shortLabel:`F${pe+1}`,fullLabel:Ae,timestamp:Zr(ge,Ve),durationMs:xe,values:Xe,maxTotal:oe})})}),Array.from(re.values()).map(Ve=>({id:Ve.id,name:Ve.name||Ve.id,icon:Ve.icon,stacking:Ve.stacking,players:Array.from(Ve.players.values()).sort((pe,ge)=>{const Je=Number(ge.peak||0)-Number(pe.peak||0);if(Je!==0)return Je;const xe=Number(ge.total||0)-Number(pe.total||0);return xe!==0?xe:String(pe.displayName||"").localeCompare(String(ge.displayName||""))}),fights:[...Ve.fights].sort((pe,ge)=>pe.timestamp>0&&ge.timestamp>0&&pe.timestamp!==ge.timestamp?pe.timestamp-ge.timestamp:pe.shortLabel.localeCompare(ge.shortLabel,void 0,{numeric:!0}))})).filter(Ve=>Ve.players.length>0&&Ve.fights.length>0).sort((Ve,pe)=>String(Ve.name||"").localeCompare(String(pe.name||"")))})(),ei=hi.map(({log:E})=>{const U=E==null?void 0:E.details,X=Array.isArray(U==null?void 0:U.players)?U.players:[],re=Array.isArray(U==null?void 0:U.targets)?U.targets:[],fe=E!=null&&E.dashboardSummary&&typeof E.dashboardSummary=="object"?E.dashboardSummary:null,Fe=X.filter(ge=>!ge.notInSquad),Oe=re.filter(ge=>!ge.isFake),xt=Math.max(0,Number((fe==null?void 0:fe.squadCount)||0)),Ct=Math.max(0,Number((fe==null?void 0:fe.enemyCount)||0)),Rt=Fe.length>0?Fe.length:xt,Ve=Oe.length>0?Oe.length:Ct,pe=X.length>0?X.length:Rt;return{timestamp:Zr(U,E),squadCount:Rt,friendlyCount:pe,enemies:Ve,isWin:cc(U,E)}}).map((E,U)=>({...E,index:U+1,label:`Log ${U+1}`})),Fo={};Array.from(O.values()).forEach(E=>{E.profession&&E.profession!=="Unknown"&&(Fo[E.profession]=(Fo[E.profession]||0)+1)});const dl=Object.entries(Fo).map(([E,U])=>({name:E,value:U,color:Fs(E)})).sort((E,U)=>U.value-E.value),Q={};Object.keys(W).length===0&&s.forEach(E=>{var U,X;(X=(U=E.details)==null?void 0:U.targets)==null||X.forEach(re=>{if(re.isFake)return;const fe=re.profession&&re.profession!=="Unknown"?re.profession:re.name||re.id||"Unknown",Fe=z(fe);Q[Fe]=(Q[Fe]||0)+1})});const ve=Object.keys(W).length>0?W:Q,Qe=Object.entries(ve).map(([E,U])=>({name:E,value:U,color:Fs(E)})).sort((E,U)=>U.value-E.value),yt=hi.map(({log:E},U)=>{const X=E==null?void 0:E.details,re=Array.isArray(X==null?void 0:X.players)?X.players:[],fe=re.filter(he=>!he.notInSquad),Fe=re.filter(he=>he.notInSquad),Oe=(Array.isArray(X==null?void 0:X.targets)?X.targets:[]).filter(he=>!he.isFake),xt=E!=null&&E.dashboardSummary&&typeof E.dashboardSummary=="object"?E.dashboardSummary:null,Ct=fe.reduce((he,Be)=>{var Xe,oe;return he+(((oe=(Xe=Be.dpsAll)==null?void 0:Xe[0])==null?void 0:oe.damage)||0)},0),Rt=fe.reduce((he,Be)=>{var Xe,oe;return he+(((oe=(Xe=Be.defenses)==null?void 0:Xe[0])==null?void 0:oe.damageTaken)||0)},0),{enemyDeaths:Ve,enemyDownsDeaths:pe}=D(X),ge=cc(X,E),Je=Zr(X,E),xe=Sr(X,E),nt=he=>{if(!he||typeof he!="object")return;const Be=he.teamID??he.teamId??he.team??he.teamColor??he.team_color;if(Be!=null)return Be;const Xe=Object.keys(he).find(oe=>/^team/i.test(oe));return Xe?he[Xe]:void 0},at=(he,Be)=>{const Xe={};return he.forEach(oe=>{const Ie=Be(oe),He=z(Ie);He&&(Xe[He]=(Xe[He]||0)+1)}),Xe},wt=at(fe,he=>(he==null?void 0:he.profession)||(he==null?void 0:he.name)),Ce=at(Fe,he=>(he==null?void 0:he.profession)||(he==null?void 0:he.name)),Ae=at(Oe,he=>(he==null?void 0:he.profession)||(he==null?void 0:he.name)||(he==null?void 0:he.id)),Ne=new Set;fe.forEach(he=>{const Be=nt(he);Be!=null&&Ne.add(String(Be))});const De=new Map;Oe.forEach(he=>{if((he==null?void 0:he.enemyPlayer)===!1)return;const Be=nt(he);if(Be==null)return;const Xe=String(Be);Ne.has(Xe)||De.set(Xe,(De.get(Xe)||0)+1)});const Ke=Array.from(De.entries()).sort((he,Be)=>{const Xe=Be[1]-he[1];return Xe!==0?Xe:he[0].localeCompare(Be[0],void 0,{numeric:!0})}).slice(0,3).map(([he,Be])=>({teamId:he,count:Be}));return{id:E.filePath||`fight-${U}`,label:E.encounterName||`Fight ${U+1}`,permalink:ul(X,E),timestamp:Je,mapName:xe,duration:Yr(X,E),isWin:ge,squadCount:fe.length>0?fe.length:Math.max(0,Number((xt==null?void 0:xt.squadCount)||0)),allyCount:Fe.length,enemyCount:Oe.length>0?Oe.length:Math.max(0,Number((xt==null?void 0:xt.enemyCount)||0)),teamBreakdown:Ke,alliesDown:fe.reduce((he,Be)=>{var Xe,oe;return he+(((oe=(Xe=Be.defenses)==null?void 0:Xe[0])==null?void 0:oe.downCount)||0)},0),alliesDead:fe.length>0?fe.reduce((he,Be)=>{var Xe,oe;return he+(((oe=(Xe=Be.defenses)==null?void 0:Xe[0])==null?void 0:oe.deadCount)||0)},0):Math.max(0,Number((xt==null?void 0:xt.squadDeaths)||0)),alliesRevived:fe.reduce((he,Be)=>{var Xe,oe;return Number(((oe=(Xe=Be.statsAll)==null?void 0:Xe[0])==null?void 0:oe.saved)||0)>0?he+1:he},0),rallies:0,enemyDeaths:Oe.length>0||fe.length>0?Ve:Math.max(0,Number((xt==null?void 0:xt.enemyDeaths)||0)),enemyDowns:Math.max(0,pe-Ve),totalOutgoingDamage:Ct,totalIncomingDamage:Rt,incomingBarrierAbsorbed:fe.reduce((he,Be)=>{var Xe,oe;return he+(((oe=(Xe=Be.defenses)==null?void 0:Xe[0])==null?void 0:oe.damageBarrier)||0)},0),outgoingBarrierAbsorbed:fe.reduce((he,Be)=>{var Xe;const oe=(Xe=Be.extBarrierStats)==null?void 0:Xe.outgoingBarrier;if(!Array.isArray(oe))return he;let Ie=0;return oe.forEach(He=>{if(Array.isArray(He)){He.forEach(vt=>{Ie+=Number((vt==null?void 0:vt.barrier)||0)});return}Ie+=Number((He==null?void 0:He.barrier)||0)}),he+Ie},0),squadClassCountsFight:wt,allyClassCountsFight:Ce,enemyClassCounts:Ae}}),Gt=Nr.map(({log:E},U)=>{const X=E.details;if(!X)return null;const re=(Array.isArray(X.players)?X.players:[]).filter(Se=>!Se.notInSquad),fe=Array.isArray(X.targets)?X.targets:[],Fe=Zr(X,E),Oe=Sr(X,E),xt=Number(X.durationMS||0),{squadDownsDeaths:Ct,enemyDownsDeaths:Rt,squadDeaths:Ve,enemyDeaths:pe}=D(X),ge=new Map,Je=(Se,Ge,tt)=>{const it=ge.get(Se)||{label:Se,damage:0,hits:0};it.damage+=Ge,it.hits+=tt,ge.set(Se,it)};if(re.forEach(Se=>{(Array.isArray(Se==null?void 0:Se.statsTargets)?Se.statsTargets:[]).forEach((Ge,tt)=>{const it=Array.isArray(Ge)?Ge[0]:Ge,_e=Number((it==null?void 0:it.damage)??(it==null?void 0:it.totalDmg)??(it==null?void 0:it.connectedDmg)??0),dt=Number((it==null?void 0:it.connectedHits)??(it==null?void 0:it.connectedDamageCount)??(it==null?void 0:it.hits)??0);if(_e<=0&&dt<=0)return;const St=fe[tt];if(St!=null&&St.isFake)return;const Nt=(St==null?void 0:St.profession)||(St==null?void 0:St.name)||(St==null?void 0:St.id)||`Target ${tt+1}`,mn=z(Nt);Je(mn||String(Nt),_e,dt)})}),ge.size===0){const Se=new Map,Ge=tt=>{if(!Array.isArray(tt)||tt.length===0)return[];const it=tt[0];if(Array.isArray(it)&&Array.isArray(it[0])){if(typeof it[0][0]=="number")return it;if(Array.isArray(it[0])&&typeof it[0][0]=="number")return tt.map(_e=>Array.isArray(_e)?_e[0]||[]:[])}return[]};re.forEach(tt=>{Ge(tt==null?void 0:tt.targetDamage1S).forEach((it,_e)=>{if(!Array.isArray(it)||it.length===0)return;const dt=it.map(Nt=>Number(Nt)).filter(Nt=>Number.isFinite(Nt)&&Nt>=0);if(dt.length===0)return;const St=Math.max(0,dt[dt.length-1]||0);St<=0||Se.set(_e,(Se.get(_e)||0)+St)})}),Se.forEach((tt,it)=>{if(tt<=0)return;const _e=fe[it];if(_e!=null&&_e.isFake)return;const dt=(_e==null?void 0:_e.profession)||(_e==null?void 0:_e.name)||(_e==null?void 0:_e.id)||`Target ${it+1}`,St=z(dt);Je(St||String(dt),tt,0)})}if(ge.size===0&&fe.forEach((Se,Ge)=>{if(Se!=null&&Se.isFake)return;const tt=Array.isArray(Se==null?void 0:Se.totalDamageTaken)?Se.totalDamageTaken:Array.isArray(Se==null?void 0:Se.totalDamageDist)?Se.totalDamageDist:[];let it=0,_e=0;if(tt.forEach(Nt=>{it+=Number((Nt==null?void 0:Nt.totalDamage)||(Nt==null?void 0:Nt.damage)||0),_e+=Number((Nt==null?void 0:Nt.connectedHits)||(Nt==null?void 0:Nt.hits)||0)}),it<=0&&Number((Se==null?void 0:Se.damageTaken)||0)>0&&(it=Number(Se.damageTaken||0)),it<=0&&_e<=0)return;const dt=(Se==null?void 0:Se.profession)||(Se==null?void 0:Se.name)||(Se==null?void 0:Se.id)||`Target ${Ge+1}`,St=z(dt);Je(St||String(dt),it,_e)}),ge.size===0){const Se=new Map;fe.forEach((Ge,tt)=>{if(Ge!=null&&Ge.isFake)return;const it=(Ge==null?void 0:Ge.profession)||(Ge==null?void 0:Ge.name)||(Ge==null?void 0:Ge.id)||`Target ${tt+1}`,_e=z(it)||String(it);Se.set(_e,(Se.get(_e)||0)+1)}),Se.forEach((Ge,tt)=>{Ge>0&&Je(tt,Ge,0)})}const xe=Array.from(ge.values()).sort((Se,Ge)=>Ge.damage-Se.damage||Ge.hits-Se.hits||Se.label.localeCompare(Ge.label)),nt=xe.reduce((Se,Ge)=>Se+Ge.damage,0),at=xe.map(Se=>({label:Se.label,damage:Se.damage,hits:Se.hits,share:nt>0?Se.damage/nt:0})),wt=fe.filter(Se=>!(Se!=null&&Se.isFake)).length,Ce=re.length,Ae=re.reduce((Se,Ge)=>{var tt,it;return Se+Number(((it=(tt=Ge==null?void 0:Ge.dpsAll)==null?void 0:tt[0])==null?void 0:it.damage)||0)},0),Ne=re.reduce((Se,Ge)=>{var tt,it;return Se+Number(((it=(tt=Ge==null?void 0:Ge.defenses)==null?void 0:tt[0])==null?void 0:it.damageTaken)||0)},0),De=re.reduce((Se,Ge)=>{var tt,it;return Se+Number(((it=(tt=Ge==null?void 0:Ge.defenses)==null?void 0:tt[0])==null?void 0:it.damageBarrier)||0)},0),Ke=re.reduce((Se,Ge)=>{var tt;const it=(tt=Ge==null?void 0:Ge.extBarrierStats)==null?void 0:tt.outgoingBarrier;if(!Array.isArray(it))return Se;let _e=0;return it.forEach(dt=>{Array.isArray(dt)?dt.forEach(St=>{_e+=Number((St==null?void 0:St.barrier)||0)}):_e+=Number((dt==null?void 0:dt.barrier)||0)}),Se+_e},0),he=re.reduce((Se,Ge)=>{var tt,it;return Number(((it=(tt=Ge==null?void 0:Ge.statsAll)==null?void 0:tt[0])==null?void 0:it.saved)||0)>0?Se+1:Se},0),Be=re.reduce((Se,Ge)=>Se+Number(Q2(Ge)||0),0),Xe=re.reduce((Se,Ge)=>Se+Number(J2(Ge)||0),0),oe=re.reduce((Se,Ge)=>Se+Number((Ge==null?void 0:Ge.stabGeneration)||0),0),Ie=re.reduce((Se,Ge)=>Se+Number(tC(Ge)||0),0),He=re.reduce((Se,Ge)=>Se+Number(nC(Ge)||0),0),vt=re.reduce((Se,Ge)=>Se+Number(rC(Ge)||0),0),bt=re.reduce((Se,Ge)=>Se+Number(eC(Ge)||0),0),qe=Ve>0?pe/Ve:pe,lt=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:I(X)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Ce},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:wt},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:qe},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:pe},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,Rt-pe)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Ve},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,Ct-Ve)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Ae-Ne},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Ae},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Ne},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:Be},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:Xe},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:oe},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:Ie},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:He},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:De},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Ke},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:vt},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:bt},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:he}];return{id:E.filePath||E.id||`fight-${U+1}`,shortLabel:`F${U+1}`,fullLabel:`${Oe||E.encounterName||"Unknown Map"}  ${sh(xt)}`,mapName:Oe,timestamp:Fe,duration:sh(xt),isWin:I(X),targetFocus:at,squadMetrics:lt}}).filter(Boolean),Dt=Array.from(O.values()).map(E=>{const U=Object.entries(E.professionTimeMs||{}).map(([X,re])=>({profession:X,timeMs:Number(re||0)})).filter(X=>X.profession&&X.profession!=="Unknown"&&X.timeMs>0).sort((X,re)=>{const fe=re.timeMs-X.timeMs;return fe!==0?fe:X.profession.localeCompare(re.profession)});return{account:E.account||"Unknown",characterNames:Array.from(E.characterNames||[]).filter(Boolean).sort((X,re)=>X.localeCompare(re)),classTimes:U,combatTimeMs:Number(E.squadActiveMs||E.totalFightMs||0),squadTimeMs:(()=>{const X=Number(E.firstSeenFightTs||0),re=Number(E.lastSeenFightTs||0),fe=Math.max(0,Number(E.lastSeenFightDurationMs||0));return X>0&&re>0?Math.max(0,re+fe-X):Number(E.squadActiveMs||E.totalFightMs||0)})()}}).filter(E=>E.account&&E.account!=="Unknown").sort((E,U)=>{const X=U.squadTimeMs-E.squadTimeMs;return X!==0?X:String(E.account).localeCompare(String(U.account))}),jt=s.map(E=>E).sort((E,U)=>Zr(E.details,E)-Zr(U.details,U)).map((E,U)=>{const X=E==null?void 0:E.details,re=Array.isArray(X==null?void 0:X.players)?X.players.filter(Oe=>!(Oe!=null&&Oe.notInSquad)):[],fe=new Map;re.forEach(Oe=>{const xt=Number(Oe==null?void 0:Oe.group),Ct=Number.isFinite(xt)&&xt>0?xt:0;fe.has(Ct)||fe.set(Ct,{party:Ct,players:[],classCounts:{}});const Rt=z((Oe==null?void 0:Oe.profession)||(Oe==null?void 0:Oe.name)||"Unknown"),Ve=String((Oe==null?void 0:Oe.account)||"Unknown"),pe=String((Oe==null?void 0:Oe.name)||(Oe==null?void 0:Oe.character_name)||""),ge=!!(Oe!=null&&Oe.hasCommanderTag),Je=fe.get(Ct);Je.players.push({account:Ve,characterName:pe,profession:Rt,isCommander:ge}),Je.classCounts[Rt]=(Je.classCounts[Rt]||0)+1});const Fe=Array.from(fe.values()).map(Oe=>({...Oe,players:Oe.players.sort((xt,Ct)=>{const Rt=+!!Ct.isCommander-+!!xt.isCommander;if(Rt!==0)return Rt;const Ve=String(xt.profession).localeCompare(String(Ct.profession));return Ve!==0?Ve:String(xt.account).localeCompare(String(Ct.account))})})).sort((Oe,xt)=>Oe.party===0&&xt.party!==0?1:xt.party===0&&Oe.party!==0?-1:Oe.party-xt.party);return{id:String((E==null?void 0:E.filePath)||(E==null?void 0:E.id)||`fight-${U+1}`),label:`F${U+1}`,timestamp:Zr(X,E),mapName:Sr(X,E),duration:sh(Number((X==null?void 0:X.durationMS)||0)),parties:Fe}}),fn=(E,U)=>{const X=(U==null?void 0:U.skillMap)||{},re=(U==null?void 0:U.buffMap)||{};let fe=0,Fe=0,Oe="";const xt=Ve=>{const pe=Number(Ve);if(!Number.isFinite(pe))return String(Ve||"Unknown Skill");const ge=(X==null?void 0:X[`s${pe}`])||(X==null?void 0:X[`${pe}`]);if(ge!=null&&ge.name)return String(ge.name);const Je=(re==null?void 0:re[`b${pe}`])||(re==null?void 0:re[`${pe}`]);return Je!=null&&Je.name?String(Je.name):`Skill ${pe}`},Ct=Ve=>{if(!Ve||typeof Ve!="object")return;const pe=[Number(Ve.max),Number(Ve.maxDamage),Number(Ve.maxHit)].filter(xe=>Number.isFinite(xe)),ge=pe.length>0?Math.max(...pe):0;ge>fe&&(fe=ge,Oe=xt(Ve.id));const Je=Number(Ve.downContribution||0);Je>Fe&&(Fe=Je)};let Rt=!1;return Array.isArray(E==null?void 0:E.targetDamageDist)&&E.targetDamageDist.forEach(Ve=>{Array.isArray(Ve)&&Ve.forEach(pe=>{Array.isArray(pe)&&pe.forEach(ge=>{Rt=!0,Ct(ge)})})}),(!Rt||fe<=0)&&Array.isArray(E==null?void 0:E.totalDamageDist)&&E.totalDamageDist.forEach(Ve=>{Array.isArray(Ve)&&Ve.forEach(pe=>Ct(pe))}),{peak:fe,peakDownContribution:Fe,skillName:Oe||"Unknown Skill"}},Sn=(()=>{const E=xe=>String(xe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=xe=>E(xe).toLowerCase().split(/[^a-z0-9]+/i).map(nt=>nt.trim()).filter(Boolean).map(nt=>nt.length>3&&nt.endsWith("s")?nt.slice(0,-1):nt),X=(xe,nt)=>{const at=E(xe),wt=E(nt);if(!wt)return at;if(!at)return wt;const Ce=U(at),Ae=U(wt),Ne=new Set(Ce),De=new Set(Ae),Ke=Ae.length>0&&Ae.every(Be=>Ne.has(Be)),he=Ce.length>0&&Ce.every(Be=>De.has(Be));return Ke||he?at:`${at} - ${wt}`},re=[],fe=new Map,Fe=xe=>{const nt=De=>{if(!Array.isArray(De)||De.length===0)return[];const Ke=[];for(let he=0;he<De.length;he+=1){const Be=Number(De[he]||0),Xe=he>0?Number(De[he-1]||0):0;Ke.push(Math.max(0,Be-Xe))}return Ke},at=De=>{if(!Array.isArray(De))return[];const Ke=De.reduce((Be,Xe)=>Math.max(Be,Array.isArray(Xe)?Xe.length:0),0);if(Ke<=0)return[];const he=new Array(Ke).fill(0);return De.forEach(Be=>{if(Array.isArray(Be))for(let Xe=0;Xe<Ke;Xe+=1)he[Xe]+=Number(Be[Xe]||0)}),he},wt=De=>Array.isArray(De)?De.map(Ke=>Number(Ke||0)):null,Ce=(De=>{if(!Array.isArray(De)||De.length===0)return null;const Ke=De[0];if(!Array.isArray(Ke))return null;if(Array.isArray(Ke[0])&&Array.isArray(Ke[0][0]))return at(Ke);if(Array.isArray(Ke[0])&&!Array.isArray(Ke[0][0])){const he=De.map(Be=>wt(Array.isArray(Be)?Be[0]:null)).filter(Be=>Array.isArray(Be)&&Be.length>0);if(he.length>0)return at(he)}return null})(xe==null?void 0:xe.targetDamage1S),Ae=Array.isArray(xe==null?void 0:xe.damage1S)&&Array.isArray(xe.damage1S[0])?xe.damage1S[0]:null,Ne=Ce||(Array.isArray(Ae)?Ae.map(De=>Number(De||0)):[]);return nt(Ne)},Oe=(xe,nt)=>{if(!Array.isArray(xe)||xe.length===0||nt<=0)return 0;let at=0,wt=0;for(let Ce=0;Ce<xe.length;Ce+=1)at+=Number(xe[Ce]||0),Ce>=nt&&(at-=Number(xe[Ce-nt]||0)),Ce>=nt-1&&at>wt&&(wt=at);return Math.max(0,wt)},xt=(xe,nt)=>{if(!Array.isArray(xe)||xe.length===0||nt<=0)return[];const at=[];for(let wt=0;wt<xe.length;wt+=nt){const Ce=Math.min(wt+nt,xe.length),Ae=xe.slice(wt,Ce).reduce((Ne,De)=>Ne+Number(De||0),0);at.push(Ae)}return at},Ct=(xe,nt)=>{let at=0,wt=0;const Ce=new Map,Ae=Ne=>{if(!Ne||typeof Ne!="object"||Ne.indirectDamage)return;const De=Number(Ne.totalDamage||0),Ke=Number(Ne.downContribution||0);!Number.isFinite(De)&&!Number.isFinite(Ke)||(at+=Number.isFinite(De)?De:0,wt+=Number.isFinite(Ke)?Ke:0)};return Array.isArray(xe==null?void 0:xe.targetDamageDist)&&xe.targetDamageDist.forEach(Ne=>{Array.isArray(Ne)&&Ne.forEach(De=>{Array.isArray(De)&&De.forEach(Ke=>{const he=Number(Ke==null?void 0:Ke.id);if(Number.isFinite(he)){const Be=Ce.get(he)||{damage:0,downContribution:0};Be.damage+=Number((Ke==null?void 0:Ke.totalDamage)||0),Be.downContribution+=Number((Ke==null?void 0:Ke.downContribution)||0),Ce.set(he,Be)}Ae(Ke)})})}),!(nt!=null&&nt.detailedWvW)&&Array.isArray(xe==null?void 0:xe.totalDamageDist)&&xe.totalDamageDist.forEach(Ne=>{Array.isArray(Ne)&&Ne.forEach(De=>{const Ke=Number(De==null?void 0:De.id);if(!Number.isFinite(Ke)){Ae(De);return}const he=Ce.get(Ke);if(!he){Ae(De);return}const Be=Number((De==null?void 0:De.totalDamage)||0)-Number(he.damage||0),Xe=Number((De==null?void 0:De.downContribution)||0)-Number(he.downContribution||0);Be<=0&&Xe<=0||Ae({...De,totalDamage:Math.max(0,Be),downContribution:Math.max(0,Xe)})})}),{damageTotal:Math.max(0,at),downContributionTotal:Math.max(0,wt)}},Rt=(xe,nt)=>{const at=Number(xe);if(!Number.isFinite(at))return{name:String(xe||"Unknown Skill"),icon:void 0};const wt=(nt==null?void 0:nt.skillMap)||{},Ce=(nt==null?void 0:nt.buffMap)||{},Ae=(wt==null?void 0:wt[`s${at}`])||(wt==null?void 0:wt[`${at}`]);if(Ae!=null&&Ae.name)return{name:String(Ae.name),icon:Ae==null?void 0:Ae.icon};const Ne=(Ce==null?void 0:Ce[`b${at}`])||(Ce==null?void 0:Ce[`${at}`]);return Ne!=null&&Ne.name?{name:String(Ne.name),icon:Ne==null?void 0:Ne.icon}:{name:`Skill ${at}`,icon:void 0}},Ve=xe=>Array.isArray(xe)?xe.map(nt=>Array.isArray(nt)?[Number(nt[0]),Number(nt[1])]:nt&&typeof nt=="object"?[Number(nt.time),Number(nt.value)]:null).filter(nt=>!!nt&&Number.isFinite(nt[0])&&nt[0]>=0):[],pe=(xe,nt,at,wt,Ce)=>{if(!xe.length||wt<=0)return[];const Ae=Math.max(wt*5e3,Ce||0),Ne=He=>He.reduce((vt,bt)=>bt>=0&&bt<=Ae+2e3?vt+1:vt,0),De=xe.map(He=>Number(He||0)).filter(He=>Number.isFinite(He)&&He>=0);if(!De.length)return[];const Ke=[De],he=De.reduce((He,vt)=>Math.max(He,vt),0),Be=De.reduce((He,vt)=>Math.min(He,vt),Number.POSITIVE_INFINITY);he>Ae*20&&Ke.push(De.map(He=>He/1e3)),he<=Ae*2&&Be>=0&&he>0&&he<Math.max(120,wt*5+10)&&Ke.push(De.map(He=>He*1e3));let Xe=De,oe=0,Ie=-1;return Ke.forEach(He=>{const vt=He.reduce((qe,lt)=>Math.min(qe,lt),Number.POSITIVE_INFINITY),bt=new Set([0,...nt,...at]);if(Number.isFinite(vt)&&Ae>0&&vt>Ae){const qe=Math.floor(vt/Ae)*Ae;bt.add(qe),bt.add(Math.max(0,qe-Ae))}bt.forEach(qe=>{const lt=He.map(Ge=>Ge-qe),Se=Ne(lt);Se>Ie&&(Ie=Se,oe=qe,Xe=He)})}),Xe.map(He=>He-oe).filter(He=>Number.isFinite(He)&&He>=0)},ge=(xe,nt,at,wt,Ce)=>{const Ae=pe(xe,nt,at,wt,Ce);return Array.from(new Set(Ae.map(Ne=>Math.floor(Ne/5e3)).filter(Ne=>Number.isFinite(Ne)&&Ne>=0&&Ne<wt)))};s.map(xe=>({log:xe,ts:Zr(xe==null?void 0:xe.details,xe)})).sort((xe,nt)=>xe.ts-nt.ts).forEach(({log:xe},nt)=>{const at=xe==null?void 0:xe.details;if(!at)return;const wt=E(at.fightName||xe.fightName||`Fight ${nt+1}`),Ce=Sr(at,xe),Ae=X(wt,String(Ce||"")),Ne={},De=Array.isArray(at.players)?at.players:[],Ke=De.flatMap(qe=>{const lt=qe==null?void 0:qe.combatReplayData;return Array.isArray(lt)?lt.map(Se=>Number(Se==null?void 0:Se.start)):[Number(lt==null?void 0:lt.start)]}).filter(qe=>Number.isFinite(qe)&&qe>=0);De.forEach(qe=>{if(qe!=null&&qe.notInSquad)return;const lt=String((qe==null?void 0:qe.account)||(qe==null?void 0:qe.name)||"Unknown"),Se=String((qe==null?void 0:qe.character_name)||(qe==null?void 0:qe.display_name)||(qe==null?void 0:qe.name)||""),Ge=String((qe==null?void 0:qe.profession)||"Unknown"),tt=`${lt}|${Ge}`,it=fn(qe,at),_e=Number(it.peak||0),dt=Number(it.peakDownContribution||0),St=Fe(qe),{damageTotal:Nt,downContributionTotal:mn}=Ct(qe,at),nn=Nt>0?Math.min(1,Math.max(0,mn/Nt)):0,sn=St.map(Le=>Number(Le||0)*nn),ct=Number(Oe(St,1)||0),Dr=Number(Oe(St,5)||0),Mn=Number(Oe(St,30)||0),qn=Number(Oe(sn,1)||0),Fr=Number(Oe(sn,5)||0),Tr=Number(Oe(sn,30)||0),Pn=Math.max(0,Math.ceil(Number((at==null?void 0:at.durationMS)||0)/5e3)),Ea=Math.max(0,Math.ceil(St.length/5)),sa=Math.max(0,Math.ceil(sn.length/5)),$i=Math.max(Pn,Ea,sa),ps=xt(St,5),ms=xt(sn,5),gi=Array.from({length:$i},(Le,rt)=>Number(ps[rt]||0)),hs=Array.from({length:$i},(Le,rt)=>Number(ms[rt]||0)),la=new Map,Ri=Le=>{if(!Le||typeof Le!="object"||Le.indirectDamage)return;const rt=Number(Le.totalDamage||0),gt=Number(Le.downContribution||0);if((!Number.isFinite(rt)||rt<=0)&&(!Number.isFinite(gt)||gt<=0))return;const Zt=Number(Le.connectedHits||Le.hits||0),Qt=Rt(Le.id,at),yn=Qt.name,zt=la.get(yn)||{skillName:yn,damage:0,downContribution:0,hits:0,icon:Qt.icon};zt.damage+=Number.isFinite(rt)?rt:0,zt.downContribution+=Number.isFinite(gt)?gt:0,zt.hits+=Number.isFinite(Zt)?Zt:0,!zt.icon&&Qt.icon&&(zt.icon=Qt.icon),la.set(yn,zt)},Nn=new Map;Array.isArray(qe==null?void 0:qe.targetDamageDist)&&qe.targetDamageDist.forEach(Le=>{Array.isArray(Le)&&Le.forEach(rt=>{Array.isArray(rt)&&rt.forEach(gt=>{const Zt=Number(gt==null?void 0:gt.id),Qt=Number((gt==null?void 0:gt.totalDamage)||0),yn=Number((gt==null?void 0:gt.downContribution)||0);if(Number.isFinite(Zt)){const zt=Nn.get(Zt)||{damage:0,downContribution:0,hits:0};zt.damage+=Number.isFinite(Qt)?Qt:0,zt.downContribution+=Number.isFinite(yn)?yn:0,zt.hits+=Number((gt==null?void 0:gt.connectedHits)||(gt==null?void 0:gt.hits)||0),Nn.set(Zt,zt)}Ri(gt)})})}),!(at!=null&&at.detailedWvW)&&Array.isArray(qe==null?void 0:qe.totalDamageDist)&&qe.totalDamageDist.forEach(Le=>{Array.isArray(Le)&&Le.forEach(rt=>{const gt=Number(rt==null?void 0:rt.id);if(!Number.isFinite(gt)){Ri(rt);return}const Zt=Nn.get(gt);if(!Zt){Ri(rt);return}const Qt=Number((rt==null?void 0:rt.totalDamage)||0),yn=Number((rt==null?void 0:rt.downContribution)||0),zt=Number((rt==null?void 0:rt.connectedHits)||(rt==null?void 0:rt.hits)||0),$r=Qt-Number(Zt.damage||0),za=yn-Number(Zt.downContribution||0),Bi=zt-Number(Zt.hits||0);$r<=0&&za<=0&&Bi<=0||Ri({...rt,totalDamage:Math.max(0,$r),downContribution:Math.max(0,za),connectedHits:Math.max(0,Bi),hits:Math.max(0,Bi)})})});const fo=(()=>{const Le=qe==null?void 0:qe.combatReplayData;return Array.isArray(Le)?Le.filter(rt=>rt&&typeof rt=="object"):Le&&typeof Le=="object"?[Le]:[]})(),jr=fo.map(Le=>Number(Le==null?void 0:Le.start)).filter(Le=>Number.isFinite(Le)&&Le>=0),$o=fo.flatMap(Le=>Ve(Le==null?void 0:Le.down).map(([rt])=>Number(rt||0))),$e=fo.flatMap(Le=>Ve(Le==null?void 0:Le.dead).map(([rt])=>Number(rt||0)));Ne[tt]={hit:_e,burst1s:ct,burst5s:Dr,burst30s:Mn,hitDown:dt,burst1sDown:qn,burst5sDown:Fr,burst30sDown:Tr,skillName:it.skillName,buckets5s:gi,buckets5sDown:hs,downIndices5s:ge($o,jr,Ke,$i,Number((at==null?void 0:at.durationMS)||0)),deathIndices5s:ge($e,jr,Ke,$i,Number((at==null?void 0:at.durationMS)||0)),skillRows:Array.from(la.values()).sort((Le,rt)=>rt.damage-Le.damage).slice(0,50)};const Ze=fe.get(tt)||{key:tt,account:lt,displayName:lt,characterName:Se,profession:Ge,professionList:[Ge],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Ze.logs+=1,Ze.professionList.includes(Ge)||Ze.professionList.push(Ge),!Ze.characterName&&Se&&(Ze.characterName=Se),_e>Ze.peakHit&&(Ze.peakHit=_e,Ze.peakFightLabel=Ae,Ze.peakSkillName=it.skillName),ct>Ze.peak1s&&(Ze.peak1s=ct),Dr>Ze.peak5s&&(Ze.peak5s=Dr),Mn>Ze.peak30s&&(Ze.peak30s=Mn),dt>Ze.peakHitDown&&(Ze.peakHitDown=dt),qn>Ze.peak1sDown&&(Ze.peak1sDown=qn),Fr>Ze.peak5sDown&&(Ze.peak5sDown=Fr),Tr>Ze.peak30sDown&&(Ze.peak30sDown=Tr),fe.set(tt,Ze)});const he=Object.values(Ne).reduce((qe,lt)=>Math.max(qe,Number((lt==null?void 0:lt.hit)||0)),0),Be=Object.values(Ne).reduce((qe,lt)=>Math.max(qe,Number((lt==null?void 0:lt.burst1s)||0)),0),Xe=Object.values(Ne).reduce((qe,lt)=>Math.max(qe,Number((lt==null?void 0:lt.burst5s)||0)),0),oe=Object.values(Ne).reduce((qe,lt)=>Math.max(qe,Number((lt==null?void 0:lt.burst30s)||0)),0),Ie=Object.values(Ne).reduce((qe,lt)=>Math.max(qe,Number((lt==null?void 0:lt.hitDown)||0)),0),He=Object.values(Ne).reduce((qe,lt)=>Math.max(qe,Number((lt==null?void 0:lt.burst1sDown)||0)),0),vt=Object.values(Ne).reduce((qe,lt)=>Math.max(qe,Number((lt==null?void 0:lt.burst5sDown)||0)),0),bt=Object.values(Ne).reduce((qe,lt)=>Math.max(qe,Number((lt==null?void 0:lt.burst30sDown)||0)),0);re.push({id:xe.filePath||xe.id||`fight-${nt+1}`,shortLabel:`F${nt+1}`,fullLabel:Ae,timestamp:Zr(at,xe),values:Ne,maxHit:he,max1s:Be,max5s:Xe,max30s:oe,maxHitDown:Ie,max1sDown:He,max5sDown:vt,max30sDown:bt})});const Je=Array.from(fe.values()).sort((xe,nt)=>nt.peakHit!==xe.peakHit?nt.peakHit-xe.peakHit:xe.displayName.localeCompare(nt.displayName));return{fights:re,players:Je}})(),Rn=(()=>{const E=Ce=>String(Ce||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=Ce=>E(Ce).toLowerCase().split(/[^a-z0-9]+/i).map(Ae=>Ae.trim()).filter(Boolean).map(Ae=>Ae.length>3&&Ae.endsWith("s")?Ae.slice(0,-1):Ae),X=(Ce,Ae)=>{const Ne=E(Ce),De=E(Ae);if(!De)return Ne;if(!Ne)return De;const Ke=U(Ne),he=U(De),Be=new Set(Ke),Xe=new Set(he),oe=he.length>0&&he.every(He=>Be.has(He)),Ie=Ke.length>0&&Ke.every(He=>Xe.has(He));return oe||Ie?Ne:`${Ne} - ${De}`},re=[],fe=new Map,Fe=(Ce,Ae)=>{const Ne=Number(Ce);if(!Number.isFinite(Ne))return{name:String(Ce||"Unknown Skill"),icon:void 0};const De=(Ae==null?void 0:Ae.skillMap)||{},Ke=(Ae==null?void 0:Ae.buffMap)||{},he=(De==null?void 0:De[`s${Ne}`])||(De==null?void 0:De[`${Ne}`]);if(he!=null&&he.name)return{name:String(he.name),icon:he==null?void 0:he.icon};const Be=(Ke==null?void 0:Ke[`b${Ne}`])||(Ke==null?void 0:Ke[`${Ne}`]);return Be!=null&&Be.name?{name:String(Be.name),icon:Be==null?void 0:Be.icon}:{name:`Skill ${Ne}`,icon:void 0}},Oe=(Ce,Ae)=>{let Ne=0,De="";const Ke=he=>{if(!he||typeof he!="object"||he.indirectDamage)return;const Be=[Number(he.max),Number(he.maxDamage),Number(he.maxHit)].filter(oe=>Number.isFinite(oe)),Xe=Be.length>0?Math.max(...Be):0;Xe>Ne&&(Ne=Xe,De=Fe(he.id,Ae).name)};return Array.isArray(Ce==null?void 0:Ce.totalDamageDist)&&Ce.totalDamageDist.forEach(he=>{Array.isArray(he)&&he.forEach(Be=>Ke(Be))}),Array.isArray(Ce==null?void 0:Ce.targetDamageDist)&&Ce.targetDamageDist.forEach(he=>{Array.isArray(he)&&he.forEach(Be=>{Array.isArray(Be)&&Be.forEach(Xe=>Ke(Xe))})}),{peak:Ne,skillName:De||"Unknown Skill"}},xt=Ce=>{if(!Array.isArray(Ce)||Ce.length===0)return[];const Ae=[];for(let Ne=0;Ne<Ce.length;Ne+=1){const De=Number(Ce[Ne]||0),Ke=Ne>0?Number(Ce[Ne-1]||0):0;Ae.push(Math.max(0,De-Ke))}return Ae},Ct=Ce=>{if(!Array.isArray(Ce)||Ce.length===0)return[];const Ae=Ce.reduce((De,Ke)=>Math.max(De,Array.isArray(Ke)?Ke.length:0),0);if(Ae<=0)return[];const Ne=new Array(Ae).fill(0);return Ce.forEach(De=>{if(Array.isArray(De))for(let Ke=0;Ke<Ae;Ke+=1)Ne[Ke]+=Number(De[Ke]||0)}),Ne},Rt=Ce=>{if(!Array.isArray(Ce)||Ce.length===0)return[];const Ae=Ce[0];if(typeof Ae=="number")return Ce.map(Ne=>Number(Ne||0));if(Array.isArray(Ae)&&Ae.length>0){if(typeof Ae[0]=="number")return Ae.map(Ne=>Number(Ne||0));if(Array.isArray(Ae[0])){const Ne=Ae.map(De=>Array.isArray(De)?De.map(Ke=>Number(Ke||0)):null).filter(De=>Array.isArray(De)&&De.length>0);if(Ne.length>0)return Ct(Ne)}}return[]},Ve=Ce=>{const Ae=Rt(Ce==null?void 0:Ce.powerDamage1S),Ne=Rt(Ce==null?void 0:Ce.damage1S),De=Ae.length>0?Ae:Ne;return xt(De)},pe=(Ce,Ae)=>{const Ne=Ce==null?void 0:Ce.targetPowerDamage1S;if(!Array.isArray(Ne)||!Array.isArray(Ne[Ae]))return[];const De=Ne[Ae];if(!Array.isArray(De)||De.length===0)return[];if(typeof De[0]=="number")return De.map(Ke=>Number(Ke||0));if(Array.isArray(De[0])&&!Array.isArray(De[0][0]))return De[0].map(Ke=>Number(Ke||0));if(Array.isArray(De[0])&&Array.isArray(De[0][0])){const Ke=De[0].map(he=>Array.isArray(he)?he.map(Be=>Number(Be||0)):null).filter(he=>Array.isArray(he)&&he.length>0);return Ct(Ke)}return[]},ge=(Ce,Ae)=>{if(!Array.isArray(Ce)||Ce.length===0||Ae<=0)return 0;let Ne=0,De=0;for(let Ke=0;Ke<Ce.length;Ke+=1)Ne+=Number(Ce[Ke]||0),Ke>=Ae&&(Ne-=Number(Ce[Ke-Ae]||0)),Ke>=Ae-1&&Ne>De&&(De=Ne);return Math.max(0,De)},Je=(Ce,Ae)=>{if(!Array.isArray(Ce)||Ce.length===0||Ae<=0)return[];const Ne=[];for(let De=0;De<Ce.length;De+=Ae){const Ke=Math.min(De+Ae,Ce.length),he=Ce.slice(De,Ke).reduce((Be,Xe)=>Be+Number(Xe||0),0);Ne.push(he)}return Ne},xe=Ce=>Array.isArray(Ce)?Ce.map(Ae=>Array.isArray(Ae)?[Number(Ae[0]),Number(Ae[1])]:Ae&&typeof Ae=="object"?[Number(Ae.time),Number(Ae.value)]:null).filter(Ae=>!!Ae&&Number.isFinite(Ae[0])&&Ae[0]>=0):[],nt=(Ce,Ae,Ne,De,Ke)=>{if(!Ce.length||De<=0)return[];const he=Math.max(De*5e3,Ke||0),Be=lt=>lt.reduce((Se,Ge)=>Ge>=0&&Ge<=he+2e3?Se+1:Se,0),Xe=Ce.map(lt=>Number(lt||0)).filter(lt=>Number.isFinite(lt)&&lt>=0);if(!Xe.length)return[];const oe=[Xe],Ie=Xe.reduce((lt,Se)=>Math.max(lt,Se),0),He=Xe.reduce((lt,Se)=>Math.min(lt,Se),Number.POSITIVE_INFINITY);Ie>he*20&&oe.push(Xe.map(lt=>lt/1e3)),Ie<=he*2&&He>=0&&Ie>0&&Ie<Math.max(120,De*5+10)&&oe.push(Xe.map(lt=>lt*1e3));let vt=Xe,bt=0,qe=-1;return oe.forEach(lt=>{const Se=lt.reduce((tt,it)=>Math.min(tt,it),Number.POSITIVE_INFINITY),Ge=new Set([0,...Ae,...Ne]);if(Number.isFinite(Se)&&he>0&&Se>he){const tt=Math.floor(Se/he)*he;Ge.add(tt),Ge.add(Math.max(0,tt-he))}Ge.forEach(tt=>{const it=lt.map(dt=>dt-tt),_e=Be(it);_e>qe&&(qe=_e,bt=tt,vt=lt)})}),vt.map(lt=>lt-bt).filter(lt=>Number.isFinite(lt)&&lt>=0)},at=(Ce,Ae,Ne,De,Ke)=>{const he=nt(Ce,Ae,Ne,De,Ke);return Array.from(new Set(he.map(Be=>Math.floor(Be/5e3)).filter(Be=>Number.isFinite(Be)&&Be>=0&&Be<De)))};s.map(Ce=>({log:Ce,ts:Zr(Ce==null?void 0:Ce.details,Ce)})).sort((Ce,Ae)=>Ce.ts-Ae.ts).forEach(({log:Ce},Ae)=>{const Ne=Ce==null?void 0:Ce.details;if(!Ne)return;const De=E(Ne.fightName||Ce.fightName||`Fight ${Ae+1}`),Ke=Sr(Ne,Ce),he=X(De,String(Ke||"")),Be={},Xe=(Array.isArray(Ne.players)?Ne.players:[]).filter(_e=>!(_e!=null&&_e.notInSquad)),oe=Xe.flatMap(_e=>{const dt=_e==null?void 0:_e.combatReplayData;return Array.isArray(dt)?dt.map(St=>Number(St==null?void 0:St.start)):[Number(dt==null?void 0:dt.start)]}).filter(_e=>Number.isFinite(_e)&&_e>=0),Ie=Xe.flatMap(_e=>{const dt=_e==null?void 0:_e.combatReplayData;return(Array.isArray(dt)?dt:dt?[dt]:[]).flatMap(St=>xe(St==null?void 0:St.down).map(([Nt])=>Number(Nt||0)))}),He=Xe.flatMap(_e=>{const dt=_e==null?void 0:_e.combatReplayData;return(Array.isArray(dt)?dt:dt?[dt]:[]).flatMap(St=>xe(St==null?void 0:St.dead).map(([Nt])=>Number(Nt||0)))}),vt=new Map,bt=new Map,qe=new Map;(Array.isArray(Ne.targets)?Ne.targets:[]).forEach((_e,dt)=>{if(!_e||_e.isFake||!_e.enemyPlayer)return;const St=z((_e==null?void 0:_e.profession)||(_e==null?void 0:_e.name)||(_e==null?void 0:_e.id))||"Unknown";qe.set(St,(qe.get(St)||0)+1);const Nt=bt.get(St)||new Map;Array.isArray(_e==null?void 0:_e.totalDamageDist)&&_e.totalDamageDist.forEach(Mn=>{Array.isArray(Mn)&&Mn.forEach(qn=>{if(!qn||typeof qn!="object"||qn.indirectDamage)return;const Fr=Number(qn.totalDamage||0);if(!Number.isFinite(Fr)||Fr<=0)return;const Tr=Number(qn.connectedHits||qn.hits||0),Pn=Fe(qn.id,Ne),Ea=Pn.name,sa=Nt.get(Ea)||{skillName:Ea,damage:0,hits:0,icon:Pn.icon};sa.damage+=Fr,sa.hits+=Number.isFinite(Tr)?Tr:0,!sa.icon&&Pn.icon&&(sa.icon=Pn.icon),Nt.set(Ea,sa)})}),bt.set(St,Nt);const mn=Ct(Xe.map(Mn=>pe(Mn,dt))),nn=mn.length>0?xt(mn):Ve(_e),sn=Oe(_e,Ne);let ct=vt.get(St);ct||(ct={perSecond:[],hit:0,skillName:""},vt.set(St,ct)),nn.length>ct.perSecond.length&&(ct.perSecond.length=nn.length);for(let Mn=0;Mn<nn.length;Mn+=1)ct.perSecond[Mn]=Number(ct.perSecond[Mn]||0)+Number(nn[Mn]||0);const Dr=Number(sn.peak||0);Dr>ct.hit&&(ct.hit=Dr,ct.skillName=sn.skillName||"Unknown Skill")});const lt=Array.from(vt.values()).some(_e=>Array.isArray(_e.perSecond)&&_e.perSecond.some(dt=>Number(dt||0)>0));if(vt.size===0||!lt){const _e=Ct(Xe.map(St=>{const Nt=Rt(St==null?void 0:St.powerDamageTaken1S);return xt(Nt)})),dt=Array.from(qe.values()).reduce((St,Nt)=>St+Number(Nt||0),0);_e.length>0&&dt>0&&qe.forEach((St,Nt)=>{const mn=Number(St||0)/dt,nn=_e.map(ct=>Number(ct||0)*mn),sn=vt.get(Nt);vt.set(Nt,{perSecond:nn,hit:Number((sn==null?void 0:sn.hit)||0),skillName:String((sn==null?void 0:sn.skillName)||"")})})}vt.forEach((_e,dt)=>{var St;const Nt=dt,mn=Number(_e.hit||0),nn=Number(ge(_e.perSecond,1)||0),sn=Number(ge(_e.perSecond,5)||0),ct=Number(ge(_e.perSecond,30)||0),Dr=Math.max(0,Math.ceil(Number((Ne==null?void 0:Ne.durationMS)||0)/5e3)),Mn=Math.max(0,Math.ceil(_e.perSecond.length/5)),qn=Math.max(Dr,Mn),Fr=Je(_e.perSecond,5),Tr=Array.from({length:qn},(Ea,sa)=>Number(Fr[sa]||0));Be[Nt]={hit:mn,burst1s:nn,burst5s:sn,burst30s:ct,skillName:_e.skillName||"Unknown Skill",buckets5s:Tr,downIndices5s:at(Ie,[],oe,qn,Number((Ne==null?void 0:Ne.durationMS)||0)),deathIndices5s:at(He,[],oe,qn,Number((Ne==null?void 0:Ne.durationMS)||0)),skillRows:Array.from(((St=bt.get(dt))==null?void 0:St.values())||[]).sort((Ea,sa)=>sa.damage-Ea.damage).slice(0,50)};const Pn=fe.get(Nt)||{key:Nt,account:dt,displayName:dt,characterName:"",profession:dt,professionList:[dt],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Pn.logs+=1,mn>Pn.peakHit&&(Pn.peakHit=mn,Pn.peakFightLabel=he,Pn.peakSkillName=_e.skillName||"Unknown Skill"),nn>Pn.peak1s&&(Pn.peak1s=nn),sn>Pn.peak5s&&(Pn.peak5s=sn),ct>Pn.peak30s&&(Pn.peak30s=ct),fe.set(Nt,Pn)});const Se=Object.values(Be).reduce((_e,dt)=>Math.max(_e,Number((dt==null?void 0:dt.hit)||0)),0),Ge=Object.values(Be).reduce((_e,dt)=>Math.max(_e,Number((dt==null?void 0:dt.burst1s)||0)),0),tt=Object.values(Be).reduce((_e,dt)=>Math.max(_e,Number((dt==null?void 0:dt.burst5s)||0)),0),it=Object.values(Be).reduce((_e,dt)=>Math.max(_e,Number((dt==null?void 0:dt.burst30s)||0)),0);re.push({id:Ce.filePath||Ce.id||`fight-${Ae+1}`,shortLabel:`F${Ae+1}`,fullLabel:he,timestamp:Zr(Ne,Ce),values:Be,maxHit:Se,max1s:Ge,max5s:tt,max30s:it})});const wt=Array.from(fe.values()).sort((Ce,Ae)=>Ae.peakHit!==Ce.peakHit?Ae.peakHit-Ce.peakHit:Ce.displayName.localeCompare(Ae.displayName));return{fights:re,players:wt}})(),er=Array.from(V.entries()).map(([E,U])=>{const X=k.get(E)||{},re=Array.from(U.values()).map(fe=>{var Fe,Oe;const xt=Array.from(fe.professions||[]).filter(xe=>xe&&xe!=="Unknown");let Ct=fe.profession||"Unknown";if(xt.length>0){Ct=xt[0];let xe=((Fe=fe.professionTimeMs)==null?void 0:Fe[Ct])||0;xt.forEach(nt=>{var at;const wt=((at=fe.professionTimeMs)==null?void 0:at[nt])||0;wt>xe&&(xe=wt,Ct=nt)})}const Rt=fe.durationMs||0,Ve=fe.totalMs/1e3,pe=Rt>0?fe.totalMs/Rt:0,ge=((Oe=O.get(fe.account))==null?void 0:Oe.supportActiveMs)||Rt,Je=ge>0?fe.uptimeMs/ge:0;return{account:fe.account,profession:Ct,professionList:xt,total:Ve,perSecond:pe,uptimePerSecond:Je,duration:Rt/1e3}}).filter(fe=>fe.total>0||fe.perSecond>0);return{id:E,name:X.name||E,icon:X.icon,rows:re}}).filter(E=>E.rows.length>0),ot=Array.from(ke.values()).map(E=>{const U=Array.from(E.skills.values()).sort((re,fe)=>fe.damage-re.damage),X={key:E.key,account:E.account,displayName:E.displayName,profession:E.profession,professionList:E.professionList,totalFightMs:E.totalFightMs,skills:U};return h&&(X.skillMap=U.reduce((re,fe)=>(re[fe.id]=fe,re),{})),X}).sort((E,U)=>E.displayName.localeCompare(U.displayName));return{total:y,wins:x,losses:w,avgSquadSize:Re,avgEnemies:de,squadKDR:It,enemyKDR:Tn,totalSquadKills:A,totalSquadDeaths:j,totalEnemyKills:R,totalEnemyDeaths:T,leaderboards:dn,...Fi,outgoingConditionSummary:Object.values(te).sort((E,U)=>U.damage-E.damage),incomingConditionSummary:Object.values(H).sort((E,U)=>U.damage-E.damage),outgoingConditionPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.outgoingConditions})),incomingConditionPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.incomingConditions})),topSkills:us,topIncomingSkills:Gr,topSkillsByDamage:cl,topSkillsByDownContribution:oa,playerSkillBreakdowns:ot,topSkillsMetric:b,mapData:fs,timelineData:ei,boonTables:uc,boonTimeline:dc,boonUptimeTimeline:Gd,offensePlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,offenseTotals:E.offenseTotals,offenseRateWeights:E.offenseRateWeights,totalFightMs:E.totalFightMs})),defensePlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,defenseTotals:E.defenseTotals,activeMs:E.defenseActiveMs,minionDamageTakenByMinion:E.defenseMinionDamageTaken})),damageMitigationPlayers:on,damageMitigationMinions:ln,supportPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,supportTotals:E.supportTotals,activeMs:E.supportActiveMs})),healingPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,healingTotals:E.healingTotals,activeMs:E.healingActiveMs})),mvp:ia,silver:Lr,bronze:yu,squadClassData:dl,enemyClassData:Qe,fightBreakdown:yt,fightDiffMode:Gt,attendanceData:Dt,squadCompByFight:jt,spikeDamage:Sn,incomingStrikeDamage:Rn,specialTables:er,topStatsPerSecond:In,topStatsLeaderboardsPerSecond:mr,avgMvpScore:lc}})(),p=(()=>{const m=new Map,h=new Map,v=[],b=new Map,y=new Map;s.forEach(w=>{const S=w.details;if(!S)return;const C=S.skillMap||{},j=S.fightName||"Log",A=Zr(S,w)||Date.now(),T={id:w.filePath||w.id||j,label:j,timestamp:A,skillEntries:{},playerActiveSeconds:{},durationSeconds:S.durationMS?S.durationMS/1e3:0};(S.players||[]).forEach(R=>{if(R.notInSquad)return;const D=R.account||R.name||"Unknown",I=R.profession||"Unknown",O=`${D}|${I}`;let q=h.get(O);q||(q={key:O,account:D,displayName:D,profession:I,professionList:[I],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(O,q)),q.logs++;const Y=(Array.isArray(R.activeTimes)?R.activeTimes[0]:0)/1e3;q.totalActiveSeconds=(q.totalActiveSeconds||0)+Y,T.playerActiveSeconds[O]=Y,(R.rotation||[]).forEach(ie=>{var ke,te,H;if(!(ie!=null&&ie.id))return;const W=((ke=ie.skills)==null?void 0:ke.length)||0;if(W<=0)return;const k=`s${ie.id}`,V=((te=C[k])==null?void 0:te.name)||`Skill ${ie.id}`,P=(H=C[k])==null?void 0:H.icon;q.skillTotals[k]=(q.skillTotals[k]||0)+W,m.set(k,(m.get(k)||0)+W),b.set(k,V),P&&!y.has(k)&&y.set(k,P),T.skillEntries[k]||(T.skillEntries[k]={name:V,icon:P,players:{}}),!T.skillEntries[k].icon&&P&&(T.skillEntries[k].icon=P),T.skillEntries[k].players[O]=(T.skillEntries[k].players[O]||0)+W})}),v.push(T)});const x=Array.from(m.entries()).map(([w,S])=>({id:w,name:b.get(w)||w,total:S,icon:y.get(w)})).sort((w,S)=>S.total-w.total);return{logRecords:v,players:Array.from(h.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:s,stats:f,skillUsageData:p}},K8=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=g.useState({uploading:!1,message:null,url:null}),[u,d]=g.useState("idle"),f=()=>{const m=new Set;let h=null,v=null;e.forEach(A=>{const T=A.details;if(!T)return;const R=T.timeStartStd||T.timeStart||T.uploadTime||A.uploadTime,D=T.timeEndStd||T.timeEnd||T.uploadTime||A.uploadTime,I=R?new Date(R):null,O=D?new Date(D):null;I&&!Number.isNaN(I.getTime())&&(!h||I<h)&&(h=I),O&&!Number.isNaN(O.getTime())&&(!v||O>v)&&(v=O),(T.players||[]).forEach(q=>{if(!(q!=null&&q.notInSquad)&&q!=null&&q.hasCommanderTag){const Y=(q==null?void 0:q.name)||(q==null?void 0:q.account)||"Unknown";m.add(Y)}})});const b=Array.from(m).sort((A,T)=>A.localeCompare(T)),y=h||new Date,x=v||y,w=y.toISOString(),S=x.toISOString(),C=`${y.toLocaleString()} - ${x.toLocaleString()}`,j=A=>String(A).padStart(2,"0");return{id:`${y.getFullYear()}${j(y.getMonth()+1)}${j(y.getDate())}-${j(y.getHours())}${j(y.getMinutes())}${j(y.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:b.length?b.join(", "):"Unknown Commander",commanders:b,dateStart:w,dateEnd:S,dateLabel:C,generatedAt:new Date().toISOString()}},p=()=>{var m;const h={...t,skillUsageData:n,statsViewSettings:r,uiTheme:a};if(Array.isArray(h.fightDiffMode)&&h.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return h;try{const v=Gh({logs:e,statsViewSettings:r}),b=(m=v==null?void 0:v.stats)==null?void 0:m.fightDiffMode;if(Array.isArray(b)&&b.length>0)return{...h,fightDiffMode:b}}catch{}return h};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:u,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const m=f(),h=p();await o({meta:m,stats:h})}catch(m){console.error("[StatsView] Web upload failed:",m)}},handleDevMockUpload:async()=>{var m;if(!(i||!((m=window.electronAPI)!=null&&m.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const h=f(),v=p(),b=await window.electronAPI.mockWebReport({meta:h,stats:v});b!=null&&b.success?l({uploading:!1,message:"Local report ready.",url:b.url||null}):l({uploading:!1,message:(b==null?void 0:b.error)||"Local report failed.",url:null})}catch(h){l({uploading:!1,message:(h==null?void 0:h.message)||"Local report failed.",url:null})}}}}};function G8(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const Y8=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Vl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let ff=null;function $3(e={}){return ff||(e.includeStyleProperties?(ff=e.includeStyleProperties,ff):(ff=Vl(window.getComputedStyle(document.documentElement)),ff))}function Tg(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function X8(e){const t=Tg(e,"border-left-width"),n=Tg(e,"border-right-width");return e.clientWidth+t+n}function Z8(e){const t=Tg(e,"border-top-width"),n=Tg(e,"border-bottom-width");return e.clientHeight+t+n}function R3(e,t={}){const n=t.width||X8(e),r=t.height||Z8(e);return{width:n,height:r}}function Q8(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ki=16384;function J8(e){(e.width>ki||e.height>ki)&&(e.width>ki&&e.height>ki?e.width>e.height?(e.height*=ki/e.width,e.width=ki):(e.width*=ki/e.height,e.height=ki):e.width>ki?(e.height*=ki/e.width,e.width=ki):(e.width*=ki/e.height,e.height=ki))}function Pg(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function e7(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function t7(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),e7(a)}const di=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||di(n,t)};function n7(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function r7(e,t){return $3(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function a7(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?n7(n):r7(n,r);return document.createTextNode(`${a}{${i}}`)}function iC(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=Y8();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(a7(o,n,a,r)),t.appendChild(s)}function i7(e,t,n){iC(e,t,":before",n),iC(e,t,":after",n)}const oC="application/font-woff",sC="image/jpeg",o7={woff:oC,woff2:oC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:sC,jpeg:sC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function s7(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Ok(e){const t=s7(e).toLowerCase();return o7[t]||""}function l7(e){return e.split(/,/)[1]}function Qx(e){return e.search(/^(data:)/)!==-1}function c7(e,t){return`data:${t};base64,${e}`}async function B3(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const nb={};function u7(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Ik(e,t,n){const r=u7(e,t,n.includeQueryParams);if(nb[r]!=null)return nb[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await B3(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),l7(s)));a=c7(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return nb[r]=a,a}async function d7(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Pg(t)}async function f7(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Pg(s)}const n=e.poster,r=Ok(n),a=await Ik(n,r,t);return Pg(a)}async function p7(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await oy(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function m7(e,t){return di(e,HTMLCanvasElement)?d7(e):di(e,HTMLVideoElement)?f7(e,t):di(e,HTMLIFrameElement)?p7(e,t):e.cloneNode(U3(e))}const h7=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",U3=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function g7(e,t,n){var r,a;if(U3(t))return t;let i=[];return h7(e)&&e.assignedNodes?i=Vl(e.assignedNodes()):di(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=Vl(e.contentDocument.body.childNodes):i=Vl(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||di(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>oy(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function y7(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):$3(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),di(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function v7(e,t){di(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),di(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function b7(e,t){if(di(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function x7(e,t,n){return di(t,Element)&&(y7(e,t,n),i7(e,t,n),v7(e,t),b7(e,t)),t}async function w7(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await oy(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function oy(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>m7(r,t)).then(r=>g7(e,r,t)).then(r=>x7(e,r,t)).then(r=>w7(r,t))}const z3=/url\((['"]?)([^'"]+?)\1\)/g,k7=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,S7=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function N7(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function j7(e){const t=[];return e.replace(z3,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Qx(n))}async function C7(e,t,n,r,a){try{const i=n?G8(t,n):t,o=Ok(t);let s;return a||(s=await Ik(i,o,r)),e.replace(N7(t),`$1${s}$3`)}catch{}return e}function M7(e,{preferredFontFormat:t}){return t?e.replace(S7,n=>{for(;;){const[r,,a]=k7.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function V3(e){return e.search(z3)!==-1}async function W3(e,t,n){if(!V3(e))return e;const r=M7(e,n);return j7(r).reduce((a,i)=>a.then(o=>C7(o,i,t,n)),Promise.resolve(r))}async function Au(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await W3(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function A7(e,t){await Au("background",e,t)||await Au("background-image",e,t),await Au("mask",e,t)||await Au("-webkit-mask",e,t)||await Au("mask-image",e,t)||await Au("-webkit-mask-image",e,t)}async function E7(e,t){const n=di(e,HTMLImageElement);if(!(n&&!Qx(e.src))&&!(di(e,SVGImageElement)&&!Qx(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await Ik(r,Ok(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(u){o(u)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function D7(e,t){const n=Vl(e.childNodes).map(r=>q3(r,t));await Promise.all(n).then(()=>e)}async function q3(e,t){di(e,Element)&&(await A7(e,t),await E7(e,t),await D7(e,t))}function T7(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const lC={};async function cC(e){let t=lC[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},lC[e]=t,t}async function uC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),B3(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function dC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function P7(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{Vl(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,u=cC(l).then(d=>uC(d,t)).then(d=>dC(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(cC(a.href).then(s=>uC(s,t)).then(s=>dC(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{Vl(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function O7(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>V3(t.style.getPropertyValue("src")))}async function I7(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Vl(e.ownerDocument.styleSheets),r=await P7(n,t);return O7(r)}function H3(e){return e.trim().replace(/["']/g,"")}function _7(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(H3(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function L7(e,t){const n=await I7(e,t),r=_7(e);return(await Promise.all(n.filter(a=>r.has(H3(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return W3(a.cssText,i,t)}))).join(`
`)}async function F7(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await L7(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function $7(e,t={}){const{width:n,height:r}=R3(e,t),a=await oy(e,t,!0);return await F7(a,t),await q3(a,t),T7(a,t),await t7(a,n,r)}async function R7(e,t={}){const{width:n,height:r}=R3(e,t),a=await $7(e,t),i=await Pg(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||Q8(),u=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=u*l,o.height=d*l,t.skipAutoScale||J8(o),o.style.width=`${u}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function B7(e,t={}){return(await R7(e,t)).toDataURL()}const U7=e=>{const[t,n]=g.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),u=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=u,globalThis.fetch=u;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],u=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const v=await u(h);if(!v)return;const b=p.src,y=p.srcset;p.src=v,p.srcset="",l.push(()=>{p.src=b,p.srcset=y});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let v=m,b=!1;for(const x of h){const w=x[1];if(!w)continue;const S=await u(w);S&&(v=v.replace(x[0],`url("${S}")`),b=!0)}if(!b)return;const y=p.style.backgroundImage;p.style.backgroundImage=v,l.push(()=>{p.style.backgroundImage=y})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const u=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>B7(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{u(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},Ef=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},z7=e=>!!(e&&e.__statsPruned===!0),fC=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,a])=>{if(!a||typeof a!="object")return;const i={};typeof a.name=="string"&&(i.name=a.name),typeof a.icon=="string"&&(i.icon=a.icon),t!=null&&t.includeClassification&&typeof a.classification=="string"&&(i.classification=a.classification),t!=null&&t.includeStacking&&(typeof a.stacking=="boolean"?i.stacking=a.stacking:typeof a.stacking=="number"&&(i.stacking=!!a.stacking)),Object.keys(i).length>0&&(n[r]=i)}),n},pC=e=>{var t;const n=(t=e==null?void 0:e.statsAll)==null?void 0:t[0];return!n||typeof n!="object"?!1:n.distToCom!==void 0&&n.distToCom!=="Infinity"||n.stackDist!==void 0},V7=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const a=Ef(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(a.positions=r.positions),a};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},mC=e=>{if(!e||typeof e!="object")return e;const t=Ef(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=fC(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=fC(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,r=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!pC(a));t.players=n.map(a=>{const i=Ef(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];i.minions=o.map(l=>Ef(l,["name","totalDamageTakenDist"]));const s=r&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!pC(a));return i.combatReplayData=V7(a==null?void 0:a.combatReplayData,s),i})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>Ef(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},W7=e=>{if(!e||typeof e!="object"||z7(e))return e;const t={...e};return e.details?t.details=mC(e.details):t.details=mC(e),t.__statsPruned=!0,t},q7=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.length>8,[o,s]=g.useState(()=>Gh(typeof Worker<"u"&&i?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[l,u]=g.useState(0),[d,f]=g.useState(0),[p,m]=g.useState(0),[h,v]=g.useState(0),[b,y]=g.useState(null),x=g.useRef(0),[w,S]=g.useState(0),C=g.useRef(null),j=g.useRef(null),[A,T]=g.useState(!1),R=g.useRef(null),D=g.useRef(null),I=g.useRef(0),O=g.useRef(0),q=g.useRef(new Map),Y=g.useRef(""),ie=g.useRef(void 0),ke=g.useRef(""),te=g.useRef(0),[H,W]=g.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[k,V]=g.useState(null),P=g.useRef(0),N=()=>{if(R.current!==null&&(window.clearTimeout(R.current),R.current=null),D.current!==null){const B=window.cancelIdleCallback;typeof B=="function"&&B(D.current),D.current=null}},F=(B,ne)=>{const $=String((B==null?void 0:B.filePath)||(B==null?void 0:B.id)||`idx-${ne}`),le=B!=null&&B.details&&typeof B.details=="object"?B.details:null,ye=q.current.get($);if(ye&&(le&&ye.sourceDetails===le||!le&&ye.sourceLog===B))return ye.pruned;const G=W7(B);return q.current.set($,{sourceLog:B,sourceDetails:le,pruned:G}),G},z=g.useMemo(()=>{if(!r){Y.current="",ie.current=void 0;return}const B={...r};delete B.topSkillsMetric;const ne=JSON.stringify(B);return Y.current!==ne&&(Y.current=ne,ie.current=B),ie.current},[r]);g.useEffect(()=>{if(!(typeof Worker>"u")&&!A&&i)return j.current||(j.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-DdbAXDAY-xO643nw3.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),j.current.onmessage=B=>{var ne;if(((ne=B.data)==null?void 0:ne.type)==="result"){const $=typeof B.data.token=="number"?B.data.token:null;if($!==null&&$!==x.current)return;g.startTransition(()=>{var le;s(B.data.result),typeof B.data.computeId=="number"?u(B.data.computeId):u(Te=>Te+1),typeof B.data.logCount=="number"&&f(B.data.logCount),typeof B.data.token=="number"&&m(B.data.token),typeof B.data.completedAt=="number"&&v(B.data.completedAt),typeof B.data.flushId=="number"&&y(B.data.flushId);const ye=$===null||$===x.current,G=te.current,me=typeof B.data.logCount=="number"?B.data.logCount:0;if(ye){const Te=typeof B.data.completedAt=="number"?B.data.completedAt:Date.now(),mt=((le=B.data)==null?void 0:le.diagnostics)||{},Pe=Math.max(0,Number(mt.computeMs||0)),ae=P.current>0?P.current:Te,Ue=Math.max(0,Te-ae),Re=Math.max(0,Ue-Pe);V({mode:"worker",logsInPayload:Number(mt.logsInPayload||B.data.logCount||0),streamedLogs:Number(B.data.logCount||0),totalLogs:G,startedAt:ae,completedAt:Te,streamMs:Re,computeMs:Pe,totalMs:Ue,flushId:typeof B.data.flushId=="number"?B.data.flushId:null,transferStripStats:mt.transferStripStats,counts:mt.counts,expectedLogCount:Number(mt.expectedLogCount||0),droppedLogMessages:Number(mt.droppedLogMessages||0)})}ye&&me>=G&&W(Te=>({...Te,active:G>0,phase:G>0?"settled":"idle",streamed:G,total:G,completedAt:typeof B.data.completedAt=="number"?B.data.completedAt:Date.now()}))})}},j.current.onerror=B=>{var ne;console.warn("[StatsWorker] Worker error. Falling back to main thread.",B),(ne=j.current)==null||ne.terminate(),j.current=null,T(!0)},j.current.onmessageerror=B=>{var ne;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",B),(ne=j.current)==null||ne.terminate(),j.current=null,T(!0)},C.current!==null&&j.current.postMessage({type:"flush",flushId:C.current,token:x.current})),()=>{var B;O.current+=1,N(),(B=j.current)==null||B.terminate(),j.current=null}},[A,i]),g.useEffect(()=>{var B;if(!j.current||A||!i)return;const ne=O.current+1;O.current=ne;let $=!1;try{te.current=e.length,P.current=Date.now(),V(null),W({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const le=x.current+1;x.current=le,S(le);const ye=new Set;e.forEach((ae,Ue)=>{ye.add(String((ae==null?void 0:ae.filePath)||(ae==null?void 0:ae.id)||`idx-${Ue}`))}),q.current.forEach((ae,Ue)=>{ye.has(Ue)||q.current.delete(Ue)}),N(),j.current.postMessage({type:"reset",token:le,totalLogs:e.length}),j.current.postMessage({type:"settings",token:le,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:z,disruptionMethod:a}});let G=0;const me=e.length,Te=(ae,Ue=!1)=>{const Re=performance.now();if(!Ue&&Re-I.current<120&&G<me)return;I.current=Re;const de=Math.min(G,me);W(It=>It.active===me>0&&It.phase===ae&&It.streamed===de&&It.total===me?It:{...It,active:me>0,phase:ae,streamed:de,total:me})},mt=()=>{if($||O.current!==ne||!j.current)return;const ae=window.requestIdleCallback;if(typeof ae=="function"){D.current=ae(Ue=>{D.current=null,Pe(Ue)},{timeout:120});return}R.current=window.setTimeout(()=>{R.current=null,Pe()},0)},Pe=ae=>{if($||O.current!==ne||!j.current)return;const Ue=!!(ae&&typeof ae.timeRemaining=="function"),Re=Ue?Math.max(0,Number(ae.timeRemaining()||0)):0,de=Ue?Re>12?4:Re>7?2:1:1;let It=0;for(;It<de&&G<me;)j.current.postMessage({type:"log",token:le,payload:F(e[G],G)}),G+=1,It+=1;G<me?(Te("streaming"),mt()):(Te("computing",!0),j.current.postMessage({type:"flush",token:le}))};I.current=0,me<=0?(Te("computing",!0),j.current.postMessage({type:"flush",token:le})):(Te("streaming",!0),mt())}catch(le){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",le),N(),(B=j.current)==null||B.terminate(),j.current=null,T(!0),W({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),V(null)}return()=>{$=!0,N()}},[e,t,n,z,a,i,A]);const Z=g.useMemo(()=>{if(!A&&typeof Worker<"u"&&i)return null;const B=Date.now(),ne=performance.now(),$=Gh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:z,disruptionMethod:a}),le=Math.max(0,performance.now()-ne),ye=Date.now();return{result:$,computeMs:le,startedAt:B,completedAt:ye}},[A,e,t,n,z,a,i]),se=g.useMemo(()=>{if(!A&&typeof Worker<"u"&&i)return"worker";const B=e[0],ne=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(B==null?void 0:B.filePath)||(B==null?void 0:B.name)||"",lastLogPath:(ne==null?void 0:ne.filePath)||(ne==null?void 0:ne.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:a||null,settingsKey:Y.current})},[A,i,e,t,a]);g.useEffect(()=>{if(!A&&typeof Worker<"u"&&i||ke.current===se)return;ke.current=se,u(ne=>ne+1),f(e.length),m(x.current);const B=Date.now();v(B),V({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(Z==null?void 0:Z.startedAt)||B,completedAt:B,streamMs:0,computeMs:Math.max(0,Number((Z==null?void 0:Z.computeMs)||0)),totalMs:Math.max(0,Number((Z==null?void 0:Z.computeMs)||0)),flushId:null})},[se,Z,A,e.length,i]);const K=A||typeof Worker>"u"||!i?(Z==null?void 0:Z.result)??Gh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:z,disruptionMethod:a}):o,L=!A&&typeof Worker<"u"&&i?H:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:K,computeTick:l,lastComputedLogCount:d,lastComputedToken:p,activeToken:w,lastComputedAt:h,lastComputedFlushId:b,aggregationProgress:L,aggregationDiagnostics:k,requestFlush:()=>{const B=Date.now();return C.current=B,j.current&&!A&&j.current.postMessage({type:"flush",flushId:B,token:x.current}),B}}},H7=e=>({apmSpecBuckets:g.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=Jz(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),u=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=u;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,C])=>{const j=Number(C);if(!Number.isFinite(j)||j<=0)return;const A=n.get(S),T=(A==null?void 0:A.name)||S,R=A==null?void 0:A.icon,D=a(T,S);d+=j,D&&(f+=j);let I=s.skillMap.get(S);I||(I={id:S,name:T,icon:R,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,I)),!I.icon&&R&&(I.icon=R),I.totalCasts+=j;const O=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;I.playerCounts.set(O,j)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=u/60,h=m>0?d/m:0,v=Math.max(0,d-f),b=m>0?v/m:0,y=u>0?d/u:0,x=u>0?v/u:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:u,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:b,aps:y,apsNoAuto:x};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((u,d)=>d.apm-u.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(u=>{const d=i.playerRows.map(h=>{var v;const b=Number(((v=u.playerCounts)==null?void 0:v.get(h.key))||0);if(!Number.isFinite(b)||b<=0)return null;const y=Number(h.totalActiveSeconds||0),x=y>0?b/(y/60):0,w=y>0?b/y:0;return{...h,count:b,apm:x,aps:w}}).filter(Boolean).sort((h,v)=>v.apm-h.apm||String(h.displayName||"").localeCompare(String(v.displayName||""))),f=Number(u.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...u,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((u,d)=>d.totalCasts-u.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),K7=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=g.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=g.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const v=p.totalActiveSeconds||1;h=v>0?m/v:0}d.set(p.key,h)}),d},[e.players,t,r]),o=g.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=g.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const v={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let b=!1,y=!1;if(Object.entries(h.players).forEach(([x,w])=>{var S;if(n.size>0&&!n.has(x))return;let C=w;if(f){const j=((S=p.playerActiveSeconds)==null?void 0:S[x])||0;C=j>0?w/j:0}v[x]=C,C>d&&(d=C),b=!0,y=!0}),n.size>0){if(!y)return null}else if(!b)return null;return n.forEach(x=>{v[x]===void 0&&(v[x]=0)}),v}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),u=g.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:u}};function K3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=K3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function En(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=K3(e))&&(r&&(r+=" "),r+=t);return r}var G7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function _k(e){if(typeof e!="string")return!1;var t=G7;return t.includes(e)}var Y7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],X7=new Set(Y7);function G3(e){return typeof e!="string"?!1:X7.has(e)}function Y3(e){return typeof e=="string"&&e.startsWith("data-")}function ro(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(G3(n)||Y3(n))&&(t[n]=e[n]);return t}function bd(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ro(t)}return typeof e=="object"&&!Array.isArray(e)?ro(e):null}function Ba(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(G3(n)||Y3(n)||_k(n))&&(t[n]=e[n]);return t}function Z7(e){return e==null?null:g.isValidElement(e)?Ba(e.props):typeof e=="object"&&!Array.isArray(e)?Ba(e):null}var Q7=["children","width","height","viewBox","className","style","title","desc"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jx.apply(null,arguments)}function J7(e,t){if(e==null)return{};var n,r,a=e9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function e9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lk=g.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:u}=e,d=J7(e,Q7),f=i||{width:r,height:a,x:0,y:0},p=En("recharts-surface",o);return g.createElement("svg",Jx({},Ba(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),n)}),t9=["children","className"];function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(null,arguments)}function n9(e,t){if(e==null)return{};var n,r,a=r9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function r9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ga=g.forwardRef((e,t)=>{var{children:n,className:r}=e,a=n9(e,t9),i=En("recharts-layer",r);return g.createElement("g",ew({className:i},Ba(a),{ref:t}),n)}),X3=g.createContext(null),a9=()=>g.useContext(X3);function rr(e){return function(){return e}}const Z3=Math.cos,Og=Math.sin,_o=Math.sqrt,Ig=Math.PI,sy=2*Ig,tw=Math.PI,nw=2*tw,jc=1e-6,i9=nw-jc;function Q3(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function o9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Q3;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class s9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Q3:o9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,u=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>jc)if(!(Math.abs(f*l-u*d)>jc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,v=l*l+u*u,b=m*m+h*h,y=Math.sqrt(v),x=Math.sqrt(p),w=i*Math.tan((tw-Math.acos((v+p-b)/(2*y*x)))/2),S=w/x,C=w/y;Math.abs(S-1)>jc&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),u=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>jc||Math.abs(this._y1-d)>jc)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%nw+nw),p>i9?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>jc&&this._append`A${r},${r},0,${+(p>=tw)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Fk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new s9(t)}function $k(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function J3(e){this._context=e}J3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ly(e){return new J3(e)}function eO(e){return e[0]}function tO(e){return e[1]}function nO(e,t){var n=rr(!0),r=null,a=ly,i=null,o=Fk(s);e=typeof e=="function"?e:e===void 0?eO:rr(e),t=typeof t=="function"?t:t===void 0?tO:rr(t);function s(l){var u,d=(l=$k(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,l),+t(f,u,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:rr(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:rr(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:rr(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function ch(e,t,n){var r=null,a=rr(!0),i=null,o=ly,s=null,l=Fk(u);e=typeof e=="function"?e:e===void 0?eO:rr(+e),t=typeof t=="function"?t:rr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?tO:rr(+n);function u(f){var p,m,h,v=(f=$k(f)).length,b,y=!1,x,w=new Array(v),S=new Array(v);for(i==null&&(s=o(x=l())),p=0;p<=v;++p){if(!(p<v&&a(b=f[p],p,f))===y)if(y=!y)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}y&&(w[p]=+e(b,p,f),S[p]=+t(b,p,f),s.point(r?+r(b,p,f):w[p],n?+n(b,p,f):S[p]))}if(x)return s=null,x+""||null}function d(){return nO().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:rr(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:rr(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rr(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:rr(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:rr(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rr(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:rr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class rO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function l9(e){return new rO(e,!0)}function c9(e){return new rO(e,!1)}const Rk={draw(e,t){const n=_o(t/Ig);e.moveTo(n,0),e.arc(0,0,n,0,sy)}},u9={draw(e,t){const n=_o(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},aO=_o(1/3),d9=aO*2,f9={draw(e,t){const n=_o(t/d9),r=n*aO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},p9={draw(e,t){const n=_o(t),r=-n/2;e.rect(r,r,n,n)}},m9=.8908130915292852,iO=Og(Ig/10)/Og(7*Ig/10),h9=Og(sy/10)*iO,g9=-Z3(sy/10)*iO,y9={draw(e,t){const n=_o(t*m9),r=h9*n,a=g9*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=sy*i/5,s=Z3(o),l=Og(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},rb=_o(3),v9={draw(e,t){const n=-_o(t/(rb*3));e.moveTo(0,n*2),e.lineTo(-rb*n,-n),e.lineTo(rb*n,-n),e.closePath()}},zi=-.5,Vi=_o(3)/2,rw=1/_o(12),b9=(rw/2+1)*3,x9={draw(e,t){const n=_o(t/b9),r=n/2,a=n*rw,i=r,o=n*rw+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(zi*r-Vi*a,Vi*r+zi*a),e.lineTo(zi*i-Vi*o,Vi*i+zi*o),e.lineTo(zi*s-Vi*l,Vi*s+zi*l),e.lineTo(zi*r+Vi*a,zi*a-Vi*r),e.lineTo(zi*i+Vi*o,zi*o-Vi*i),e.lineTo(zi*s+Vi*l,zi*l-Vi*s),e.closePath()}};function w9(e,t){let n=null,r=Fk(a);e=typeof e=="function"?e:rr(e||Rk),t=typeof t=="function"?t:rr(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:rr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:rr(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function _g(){}function Lg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function oO(e){this._context=e}oO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k9(e){return new oO(e)}function sO(e){this._context=e}sO.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S9(e){return new sO(e)}function lO(e){this._context=e}lO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Lg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N9(e){return new lO(e)}function cO(e){this._context=e}cO.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function j9(e){return new cO(e)}function hC(e){return e<0?-1:1}function gC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(hC(i)+hC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function yC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ab(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Fg(e){this._context=e}Fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ab(this,this._t0,yC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ab(this,yC(this,n=gC(this,e,t)),n);break;default:ab(this,this._t0,n=gC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function uO(e){this._context=new dO(e)}(uO.prototype=Object.create(Fg.prototype)).point=function(e,t){Fg.prototype.point.call(this,t,e)};function dO(e){this._context=e}dO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function C9(e){return new Fg(e)}function M9(e){return new uO(e)}function fO(e){this._context=e}fO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=vC(e),a=vC(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function vC(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function A9(e){return new fO(e)}function cy(e,t){this._context=e,this._t=t}cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function E9(e){return new cy(e,.5)}function D9(e){return new cy(e,0)}function T9(e){return new cy(e,1)}function eu(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function aw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function P9(e,t){return e[t]}function O9(e){const t=[];return t.key=e,t}function I9(){var e=rr([]),t=aw,n=eu,r=P9;function a(i){var o=Array.from(e.apply(this,arguments),O9),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,i)]).data=f;for(s=0,d=$k(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:rr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:rr(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?aw:typeof i=="function"?i:rr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??eu,a):n},a}function _9(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}eu(e,t)}}function L9(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}eu(e,t)}}function F9(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var v=e[t[h]],b=v[r][1]||0,y=v[r-1][1]||0;m+=b-y}l+=f,u+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=u/l)}a[r-1][1]+=a[r-1][0]=n,eu(e,t)}}var uy={},pO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(pO);var Bk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Bk);var dy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(dy);var fy={},mO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(mO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mO,n=dy;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];u?f==="\\"&&s+1<o?(s++,l+=a[s]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(fy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO,n=Bk,r=dy,a=fy;function i(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?u:d}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=s[l];return d===void 0?u:d}}}function o(s,l,u){if(l.length===0)return u;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=i})(uy);var $9=uy.get;const tu=Io($9);var R9=4;function Il(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R9,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Il(s)+i:a+i},"")}var Fa=e=>e===0?0:e>0?1:-1,ao=e=>typeof e=="number"&&e!=+e,Hs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,$t=e=>(typeof e=="number"||e instanceof Number)&&!ao(e),io=e=>$t(e)||typeof e=="string",B9=0,xp=e=>{var t=++B9;return"".concat(e||"").concat(t)},eo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$t(e)&&typeof e!="string")return n;var a;if(Hs(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return ao(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},hO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function La(e,t,n){return $t(e)&&$t(t)?Il(e+n*(t-e)):t}function gO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):tu(r,t))===n)}var ta=e=>e===null||typeof e>"u",Hp=e=>ta(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function U9(e){return e!=null}function Kp(){}var z9=["type","size","sizeType"];function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iw.apply(null,arguments)}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(r){V9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V9(e,t,n){return(t=W9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H9(e,t){if(e==null)return{};var n,r,a=K9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function K9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yO={symbolCircle:Rk,symbolCross:u9,symbolDiamond:f9,symbolSquare:p9,symbolStar:y9,symbolTriangle:v9,symbolWye:x9},G9=Math.PI/180,Y9=e=>{var t="symbol".concat(Hp(e));return yO[t]||Rk},X9=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*G9;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Z9=(e,t)=>{yO["symbol".concat(Hp(e))]=t},Uk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=H9(e,z9),i=xC(xC({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=Y9(o),m=w9().type(p).size(X9(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:u,cy:d}=i,f=Ba(i);return $t(u)&&$t(d)&&$t(n)?g.createElement("path",iw({},f,{className:En("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};Uk.registerSymbol=Z9;var vO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,zk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{_k(a)&&(r[a]=i=>n[a](n,i))}),r},Q9=(e,t,n)=>r=>(e(t,n,r),null),Vk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];_k(a)&&typeof i=="function"&&(r||(r={}),r[a]=Q9(i,t,n))}),r};function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function J9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(r){eV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eV(e,t,n){return(t=tV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tV(e){var t=nV(e,"string");return typeof t=="symbol"?t:t+""}function nV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(e,t){var n=J9({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$g.apply(null,arguments)}function kC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(n),!0).forEach(function(r){aV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aV(e,t,n){return(t=iV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hi=32,sV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function lV(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Hi/2,i=Hi/6,o=Hi/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Hi,y2:a,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Hi,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Hi/8,"h").concat(Hi,"v").concat(Hi*3/4,"h").concat(-Hi,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=rV({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(Uk,{fill:s,cx:a,cy:a,size:Hi,sizeType:"diameter",type:l})}function cV(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:Hi,height:Hi},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=En({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,v=p?p(d.value,d,f):d.value;return g.createElement("li",$g({className:m,style:l,key:"legend-item-".concat(f)},Vk(e,d,f)),g.createElement(Lk,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(v," legend icon")},g.createElement(lV,{data:d,iconType:o,inactiveColor:i})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},v))})}var uV=e=>{var t=Kr(e,sV),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:i},g.createElement(cV,$g({},t,{payload:n})))},bO={},xO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(xO);var wO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(wO);var Wk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Wk);var kO={},py={},SO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(SO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SO;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(py);var NO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(NO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=py,n=NO;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(kO);var jO={},CO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uy;function n(r){return function(a){return t.get(a,r)}}e.property=n})(CO);var MO={},qk={},AO={},Hk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Hk);var Kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Kk);var Gk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Gk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk,n=Kk,r=Gk;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,v,b,y,x,w){const S=p(h,v,b,y,x,w);return S!==void 0?!!S:i(h,v,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return u(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<h.length;v++){const b=h[v];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!p(d[b],f[b],b,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,v]of f.entries()){const b=d.get(h);if(p(b,v,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let v=0;v<f.length;v++){const b=f[v];let y=!1;for(let x=0;x<d.length;x++){if(h.has(x))continue;const w=d[x];let S=!1;if(p(w,b,v,d,f,m)&&(S=!0),S){h.add(x),y=!0;break}}if(!y)return!1}return!0}function u(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=u})(AO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AO;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(qk);var EO={},Yk={},DO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(DO);var my={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(my);var Xk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",v="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",j="[object Int16Array]",A="[object Int32Array]",T="[object BigInt64Array]",R="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=v,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=R,e.float64ArrayTag=D,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=A,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=y})(Xk);var TO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(TO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DO,n=my,r=Xk,a=Kk,i=TO;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const v=h==null?void 0:h(d,f,p,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,p,m,h);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[y,x]of d)b.set(y,s(x,y,p,m,h));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const y of d)b.add(s(y,void 0,p,m,h));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,p,m,h);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),l(b,d,p,m,h),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),l(b,d,p,m,h),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),l(b,d,p,m,h),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,l(b,d,p,m,h),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),l(b,d,p,m,h),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),l(b,d,p,m,h),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),l(b,d,p,m,h),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),l(b,d,p,m,h),b}return d}function l(d,f,p=d,m,h){const v=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<v.length;b++){const y=v[b],x=Object.getOwnPropertyDescriptor(d,y);(x==null||x.writable)&&(d[y]=s(f[y],y,p,m,h))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(Yk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yk;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(EO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk,n=EO;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(MO);var PO={},OO={},IO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yk,n=my,r=Xk;function a(i,o){return t.cloneDeepWith(i,(s,l,u,d)=>{const f=o==null?void 0:o(s,l,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,u,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(IO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IO;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(OO);var _O={},Zk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Zk);var LO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=my;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(LO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bk,n=Zk,r=LO,a=fy;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(_O);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk,n=dy,r=OO,a=uy,i=_O;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const d=a.get(u,s);return d===void 0?i.has(u,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(PO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk,n=CO,r=MO,a=PO;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(jO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xO,n=wO,r=Wk,a=kO,i=jO;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(bO);var dV=bO.uniqBy;const SC=Io(dV);function FO(e,t,n){return t===!0?SC(e,n):typeof t=="function"?SC(e,t):e}var $O={exports:{}},RO={},BO={exports:{}},UO={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var xd=g;function fV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pV=typeof Object.is=="function"?Object.is:fV,mV=xd.useState,hV=xd.useEffect,gV=xd.useLayoutEffect,yV=xd.useDebugValue;function vV(e,t){var n=t(),r=mV({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return gV(function(){a.value=n,a.getSnapshot=t,ib(a)&&i({inst:a})},[e,n,t]),hV(function(){return ib(a)&&i({inst:a}),e(function(){ib(a)&&i({inst:a})})},[e]),yV(n),n}function ib(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pV(e,n)}catch{return!0}}function bV(e,t){return t()}var xV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bV:vV;UO.useSyncExternalStore=xd.useSyncExternalStore!==void 0?xd.useSyncExternalStore:xV;BO.exports=UO;var wV=BO.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var hy=g,kV=wV;function SV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NV=typeof Object.is=="function"?Object.is:SV,jV=kV.useSyncExternalStore,CV=hy.useRef,MV=hy.useEffect,AV=hy.useMemo,EV=hy.useDebugValue;RO.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=CV(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=AV(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,NV(d,m))return h;var v=r(m);return a!==void 0&&a(h,v)?(d=m,h):(d=m,f=v)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=jV(e,i[0],i[1]);return MV(function(){o.hasValue=!0,o.value=s},[s]),EV(s),s};$O.exports=RO;var DV=$O.exports,Qk=g.createContext(null),TV=e=>e,Gn=()=>{var e=g.useContext(Qk);return e?e.store.dispatch:TV},Yh=()=>{},PV=()=>Yh,OV=(e,t)=>e===t;function Et(e){var t=g.useContext(Qk);return DV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:PV,t?t.store.getState:Yh,t?t.store.getState:Yh,t?e:Yh,OV)}function IV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function _V(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function LV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var NC=e=>Array.isArray(e)?e:[e];function FV(e){const t=Array.isArray(e[0])?e[0]:e;return LV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $V(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var RV=class{constructor(e){this.value=e}deref(){return this.value}},BV=typeof WeakRef<"u"?WeakRef:RV,UV=0,jC=1;function uh(){return{s:UV,v:void 0,o:null,p:null}}function zO(e,t={}){let n=uh();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:u}=arguments;for(let p=0,m=u;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const b=v.get(h);b===void 0?(l=uh(),v.set(h,l)):l=b}else{let v=l.p;v===null&&(l.p=v=new Map);const b=v.get(h);b===void 0?(l=uh(),v.set(h,l)):l=b}}const d=l;let f;if(l.s===jC)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new BV(f):f}return d.s=jC,d.v=f,f}return o.clearCache=()=>{n=uh(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function zV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},u=a.pop();typeof u=="object"&&(l=u,u=a.pop()),IV(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=zO,argsMemoizeOptions:h=[]}=d,v=NC(p),b=NC(h),y=FV(a),x=f(function(){return i++,u.apply(null,arguments)},...v),w=m(function(){o++;const S=$V(y,arguments);return s=x.apply(null,S),s},...b);return Object.assign(w,{resultFunc:u,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var be=zV(zO),VV=Object.assign((e,t=be)=>{_V(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>VV}),VO={},WO={},qO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(qO);var HO={},Jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Jk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(HO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qO,n=HO,r=fy;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,m)=>{let h=p;for(let v=0;v<m.length&&h!=null;++v)h=h[m[v]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const v=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(WO);var KO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(KO);var eS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zk,n=py,r=Hk,a=Gk;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(eS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WO,n=KO,r=eS;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(VO);var WV=VO.sortBy;const gy=Io(WV);var GO=e=>e.legend.settings,qV=e=>e.legend.size,HV=e=>e.legend.payload,KV=be([HV,GO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?gy(r,n):r});function GV(){return Et(KV)}var dh=1;function YO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>dh||Math.abs(o.left-t.left)>dh||Math.abs(o.top-t.top)>dh||Math.abs(o.width-t.width)>dh)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ka(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var YV=typeof Symbol=="function"&&Symbol.observable||"@@observable",CC=YV,ob=()=>Math.random().toString(36).substring(7).split("").join("."),XV={INIT:`@@redux/INIT${ob()}`,REPLACE:`@@redux/REPLACE${ob()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ob()}`},Rg=XV;function tS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function XO(e,t,n){if(typeof e!="function")throw new Error(ka(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ka(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ka(1));return n(XO)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function u(){o===i&&(o=new Map,i.forEach((v,b)=>{o.set(b,v)}))}function d(){if(l)throw new Error(ka(3));return a}function f(v){if(typeof v!="function")throw new Error(ka(4));if(l)throw new Error(ka(5));let b=!0;u();const y=s++;return o.set(y,v),function(){if(b){if(l)throw new Error(ka(6));b=!1,u(),o.delete(y),i=null}}}function p(v){if(!tS(v))throw new Error(ka(7));if(typeof v.type>"u")throw new Error(ka(8));if(typeof v.type!="string")throw new Error(ka(17));if(l)throw new Error(ka(9));try{l=!0,a=r(a,v)}finally{l=!1}return(i=o).forEach(b=>{b()}),v}function m(v){if(typeof v!="function")throw new Error(ka(10));r=v,p({type:Rg.REPLACE})}function h(){const v=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(ka(11));function y(){const x=b;x.next&&x.next(d())}return y(),{unsubscribe:v(y)}},[CC](){return this}}}return p({type:Rg.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[CC]:h}}function ZV(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Rg.INIT})>"u")throw new Error(ka(12));if(typeof n(void 0,{type:Rg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ka(13))})}function ZO(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{ZV(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(ka(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function Bg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function QV(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(ka(15))};const o={getState:a.getState,dispatch:(l,...u)=>i(l,...u)},s=e.map(l=>l(o));return i=Bg(...s)(a.dispatch),{...a,dispatch:i}}}function QO(e){return tS(e)&&"type"in e&&typeof e.type=="string"}var JO=Symbol.for("immer-nothing"),MC=Symbol.for("immer-draftable"),Ya=Symbol.for("immer-state");function bo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ai=Object,wd=Ai.getPrototypeOf,Ug="constructor",yy="prototype",ow="configurable",zg="enumerable",Xh="writable",wp="value",Ks=e=>!!e&&!!e[Ya];function Ao(e){var t;return e?e4(e)||by(e)||!!e[MC]||!!((t=e[Ug])!=null&&t[MC])||xy(e)||wy(e):!1}var JV=Ai[yy][Ug].toString(),AC=new WeakMap;function e4(e){if(!e||!nS(e))return!1;const t=wd(e);if(t===null||t===Ai[yy])return!0;const n=Ai.hasOwnProperty.call(t,Ug)&&t[Ug];if(n===Object)return!0;if(!Iu(n))return!1;let r=AC.get(n);return r===void 0&&(r=Function.toString.call(n),AC.set(n,r)),r===JV}function vy(e,t,n=!0){Gp(e)===0?(n?Reflect.ownKeys(e):Ai.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Gp(e){const t=e[Ya];return t?t.type_:by(e)?1:xy(e)?2:wy(e)?3:0}var EC=(e,t,n=Gp(e))=>n===2?e.has(t):Ai[yy].hasOwnProperty.call(e,t),sw=(e,t,n=Gp(e))=>n===2?e.get(t):e[t],Vg=(e,t,n,r=Gp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function eW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var by=Array.isArray,xy=e=>e instanceof Map,wy=e=>e instanceof Set,nS=e=>typeof e=="object",Iu=e=>typeof e=="function",sb=e=>typeof e=="boolean";function tW(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var As=e=>e.copy_||e.base_,rS=e=>e.modified_?e.copy_:e.base_;function lw(e,t){if(xy(e))return new Map(e);if(wy(e))return new Set(e);if(by(e))return Array[yy].slice.call(e);const n=e4(e);if(t===!0||t==="class_only"&&!n){const r=Ai.getOwnPropertyDescriptors(e);delete r[Ya];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[Xh]===!1&&(s[Xh]=!0,s[ow]=!0),(s.get||s.set)&&(r[o]={[ow]:!0,[Xh]:!0,[zg]:s[zg],[wp]:e[o]})}return Ai.create(wd(e),r)}else{const r=wd(e);if(r!==null&&n)return{...e};const a=Ai.create(r);return Ai.assign(a,e)}}function aS(e,t=!1){return ky(e)||Ks(e)||!Ao(e)||(Gp(e)>1&&Ai.defineProperties(e,{set:fh,add:fh,clear:fh,delete:fh}),Ai.freeze(e),t&&vy(e,(n,r)=>{aS(r,!0)},!1)),e}function nW(){bo(2)}var fh={[wp]:nW};function ky(e){return e===null||!nS(e)?!0:Ai.isFrozen(e)}var Wg="MapSet",cw="Patches",DC="ArrayMethods",t4={};function nu(e){const t=t4[e];return t||bo(0,e),t}var TC=e=>!!t4[e],kp,n4=()=>kp,rW=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:TC(Wg)?nu(Wg):void 0,arrayMethodsPlugin_:TC(DC)?nu(DC):void 0});function PC(e,t){t&&(e.patchPlugin_=nu(cw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uw(e){dw(e),e.drafts_.forEach(aW),e.drafts_=null}function dw(e){e===kp&&(kp=e.parent_)}var OC=e=>kp=rW(kp,e);function aW(e){const t=e[Ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function IC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ya].modified_&&(uw(t),bo(4)),Ao(e)&&(e=_C(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Ya].base_,e,t)}else e=_C(t,n);return iW(t,e,!0),uw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==JO?e:void 0}function _C(e,t){if(ky(t))return t;const n=t[Ya];if(!n)return qg(t,e.handledSet_,e);if(!Sy(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);i4(n,e)}return n.copy_}function iW(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aS(t,n)}function r4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Sy=(e,t)=>e.scope_===t,oW=[];function a4(e,t,n,r){const a=As(e),i=e.type_;if(r!==void 0&&sw(a,r,i)===t){Vg(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;vy(a,(l,u)=>{if(Ks(u)){const d=s.get(u)||[];d.push(l),s.set(u,d)}})}const o=e.draftLocations_.get(t)??oW;for(const s of o)Vg(a,s,n,i)}function sW(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!Sy(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=rS(i);a4(e,i.draft_??i,o,n),i4(i,r)})}function i4(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}r4(e)}}function lW(e,t,n){const{scope_:r}=e;if(Ks(n)){const a=n[Ya];Sy(a,r)&&a.callbacks_.push(function(){Zh(e);const i=rS(a);a4(e,n,i,t)})}else Ao(n)&&e.callbacks_.push(function(){const a=As(e);e.type_===3?a.has(n)&&qg(n,r.handledSet_,r):sw(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&qg(sw(e.copy_,t,e.type_),r.handledSet_,r)})}function qg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ks(e)||t.has(e)||!Ao(e)||ky(e)||(t.add(e),vy(e,(r,a)=>{if(Ks(a)){const i=a[Ya];if(Sy(i,n)){const o=rS(i);Vg(e,r,o,e.type_),r4(i)}}else Ao(a)&&qg(a,t,n)})),e}function cW(e,t){const n=by(e),r={type_:n?1:0,scope_:t?t.scope_:n4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=Hg;n&&(a=[r],i=Sp);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var Hg={get(e,t){if(t===Ya)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=As(e);if(!EC(a,t,e.type_))return uW(e,a,t);const i=a[t];if(e.finalized_||!Ao(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&tW(t))return i;if(i===lb(e.base_,t)){Zh(e);const o=e.type_===1?+t:t,s=pw(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in As(e)},ownKeys(e){return Reflect.ownKeys(As(e))},set(e,t,n){const r=o4(As(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=lb(As(e),t),i=a==null?void 0:a[Ya];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(eW(n,a)&&(n!==void 0||EC(e.base_,t,e.type_)))return!0;Zh(e),fw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),lW(e,t,n)),!0},deleteProperty(e,t){return Zh(e),lb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),fw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=As(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Xh]:!0,[ow]:e.type_!==1||t!=="length",[zg]:r[zg],[wp]:n[t]}},defineProperty(){bo(11)},getPrototypeOf(e){return wd(e.base_)},setPrototypeOf(){bo(12)}},Sp={};for(let e in Hg){let t=Hg[e];Sp[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Sp.deleteProperty=function(e,t){return Sp.set.call(this,e,t,void 0)};Sp.set=function(e,t,n){return Hg.set.call(this,e[0],t,n,e[0])};function lb(e,t){const n=e[Ya];return(n?As(n):e)[t]}function uW(e,t,n){var r;const a=o4(t,n);return a?wp in a?a[wp]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function o4(e,t){if(!(t in e))return;let n=wd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=wd(n)}}function fw(e){e.modified_||(e.modified_=!0,e.parent_&&fw(e.parent_))}function Zh(e){e.copy_||(e.assigned_=new Map,e.copy_=lw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var dW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Iu(t)&&!Iu(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,u=>n.call(this,u,...l))}}Iu(n)||bo(6),r!==void 0&&!Iu(r)&&bo(7);let a;if(Ao(t)){const i=OC(this),o=pw(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?uw(i):dw(i)}return PC(i,r),IC(a,i)}else if(!t||!nS(t)){if(a=n(t),a===void 0&&(a=t),a===JO&&(a=void 0),this.autoFreeze_&&aS(a,!0),r){const i=[],o=[];nu(cw).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else bo(1,t)},this.produceWithPatches=(t,n)=>{if(Iu(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},sb(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),sb(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),sb(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ao(e)||bo(8),Ks(e)&&(e=No(e));const t=OC(this),n=pw(t,e,void 0);return n[Ya].isManual_=!0,dw(t),n}finishDraft(e,t){const n=e&&e[Ya];(!n||!n.isManual_)&&bo(9);const{scope_:r}=n;return PC(r,t),IC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=nu(cw).applyPatches_;return Ks(e)?r(e,t):this.produce(e,a=>r(a,t))}};function pw(e,t,n,r){const[a,i]=xy(t)?nu(Wg).proxyMap_(t,n):wy(t)?nu(Wg).proxySet_(t,n):cW(t,n);return((n==null?void 0:n.scope_)??n4()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?sW(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function No(e){return Ks(e)||bo(10,e),s4(e)}function s4(e){if(!Ao(e)||ky(e))return e;const t=e[Ya];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=lw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=lw(e,!0);return vy(n,(a,i)=>{Vg(n,a,s4(i))},r),t&&(t.finalized_=!1),n}var fW=new dW,l4=fW.produce;function c4(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var pW=c4(),mW=c4,hW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bg:Bg.apply(null,arguments)};function oo(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Di(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>QO(r)&&r.type===e,n}var u4=class Df extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Df.prototype)}static get[Symbol.species](){return Df}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Df(...t[0].concat(this)):new Df(...t.concat(this))}};function LC(e){return Ao(e)?l4(e,()=>{}):e}function ph(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function gW(e){return typeof e=="boolean"}var yW=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new u4;return t&&(gW(t)?i.push(pW):i.push(mW(t.extraArgument))),i},d4="RTK_autoBatch",lr=()=>e=>({payload:e,meta:{[d4]:!0}}),FC=e=>t=>{setTimeout(t,e)},f4=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FC(10):e.type==="callback"?e.queueNotification:FC(e.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[d4]),i=!a,i&&(o||(o=!0,l(u))),r.dispatch(d)}finally{a=!0}}})},vW=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new u4(e);return n&&r.push(f4(typeof n=="object"?n:void 0)),r};function bW(e){const t=yW(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(tS(n))s=ZO(n);else throw new Error(Di(1));let l;typeof r=="function"?l=r(t):l=t();let u=Bg;a&&(u=hW({trace:!1,...typeof a=="object"&&a}));const d=QV(...l),f=vW(d);let p=typeof o=="function"?o(f):f();const m=u(...p);return XO(s,i,m)}function p4(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(Di(28));if(s in t)throw new Error(Di(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function xW(e){return typeof e=="function"}function wW(e,t){let[n,r,a]=p4(t),i;if(xW(e))i=()=>LC(e());else{const s=LC(e);i=()=>s}function o(s=i(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Ks(d)){const p=f(d,l);return p===void 0?d:p}else{if(Ao(d))return l4(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var kW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",SW=(e=21)=>{let t="",n=e;for(;n--;)t+=kW[Math.random()*64|0];return t},NW=Symbol.for("rtk-slice-createasyncthunk");function jW(e,t){return`${e}/${t}`}function CW({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[NW];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(Di(11));const o=(typeof r.reducers=="function"?r.reducers(AW()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,S){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(Di(12));if(C in l.sliceCaseReducersByType)throw new Error(Di(13));return l.sliceCaseReducersByType[C]=S,u},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),u},exposeAction(w,S){return l.actionCreators[w]=S,u},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,u}};s.forEach(w=>{const S=o[w],C={reducerName:w,type:jW(a,w),createNotation:typeof r.reducers=="function"};DW(S)?PW(C,S,u,n):EW(C,S,u)});function d(){const[w={},S=[],C=void 0]=typeof r.extraReducers=="function"?p4(r.extraReducers):[r.extraReducers],j={...w,...l.sliceCaseReducersByType};return wW(r.initialState,A=>{for(let T in j)A.addCase(T,j[T]);for(let T of l.sliceMatchers)A.addMatcher(T.matcher,T.reducer);for(let T of S)A.addMatcher(T.matcher,T.reducer);C&&A.addDefaultCase(C)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function v(w,S){return h||(h=d()),h(w,S)}function b(){return h||(h=d()),h.getInitialState()}function y(w,S=!1){function C(A){let T=A[w];return typeof T>"u"&&S&&(T=ph(m,C,b)),T}function j(A=f){const T=ph(p,S,()=>new WeakMap);return ph(T,A,()=>{const R={};for(const[D,I]of Object.entries(r.selectors??{}))R[D]=MW(I,A,()=>ph(m,A,b),S);return R})}return{reducerPath:w,getSelectors:j,get selectors(){return j(C)},selectSlice:C}}const x={name:a,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:b,...y(i),injectInto(w,{reducerPath:S,...C}={}){const j=S??i;return w.inject({reducerPath:j,reducer:v},C),{...x,...y(j,!0)}}};return x}}function MW(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var pi=CW();function AW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function EW({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!TW(r))throw new Error(Di(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?oo(e,o):oo(e))}function DW(e){return e._reducerDefinitionType==="asyncThunk"}function TW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function PW({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Di(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:u,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:o||mh,pending:s||mh,rejected:l||mh,settled:u||mh})}function mh(){}var OW="task",m4="listener",h4="completed",iS="cancelled",IW=`task-${iS}`,_W=`task-${h4}`,mw=`${m4}-${iS}`,LW=`${m4}-${h4}`,Ny=class{constructor(e){Rj(this,"name","TaskAbortError"),Rj(this,"message"),this.code=e,this.message=`${OW} ${iS} (reason: ${e})`}},oS=(e,t)=>{if(typeof e!="function")throw new TypeError(Di(32))},Kg=()=>{},g4=(e,t=Kg)=>(e.catch(t),e),y4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Wc=e=>{if(e.aborted)throw new Ny(e.reason)};function v4(e,t){let n=Kg;return new Promise((r,a)=>{const i=()=>a(new Ny(e.reason));if(e.aborted){i();return}n=y4(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Kg})}var FW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ny?"cancelled":"rejected",error:n}}finally{t==null||t()}},Gg=e=>t=>g4(v4(e,t).then(n=>(Wc(e),n))),b4=e=>{const t=Gg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:sd}=Object,$C={},jy="listenerMiddleware",$W=(e,t)=>{const n=r=>y4(e,()=>r.abort(e.reason));return(r,a)=>{oS(r);const i=new AbortController;n(i);const o=FW(async()=>{Wc(e),Wc(i.signal);const s=await r({pause:Gg(i.signal),delay:b4(i.signal),signal:i.signal});return Wc(i.signal),s},()=>i.abort(_W));return a!=null&&a.autoJoin&&t.push(o.catch(Kg)),{result:Gg(e)(o),cancel(){i.abort(IW)}}}},RW=(e,t)=>{const n=async(r,a)=>{Wc(t);let i=()=>{};const o=[new Promise((s,l)=>{let u=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{u(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await v4(t,Promise.race(o));return Wc(t),s}finally{i()}};return(r,a)=>g4(n(r,a))},x4=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=oo(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Di(21));return oS(i),{predicate:a,type:t,effect:i}},w4=sd(e=>{const{type:t,predicate:n,effect:r}=x4(e);return{id:SW(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Di(22))}}},{withTypes:()=>w4}),RC=(e,t)=>{const{type:n,effect:r,predicate:a}=x4(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},hw=e=>{e.pending.forEach(t=>{t.abort(mw)})},BW=(e,t)=>()=>{for(const n of t.keys())hw(n);e.clear()},BC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},k4=sd(oo(`${jy}/add`),{withTypes:()=>k4}),UW=oo(`${jy}/removeAll`),S4=sd(oo(`${jy}/remove`),{withTypes:()=>S4}),zW=(...e)=>{console.error(`${jy}/error`,...e)},Yp=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=zW}=e;oS(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&hw(p)}),l=p=>{const m=RC(t,p)??w4(p);return s(m)};sd(l,{withTypes:()=>l});const u=p=>{const m=RC(t,p);return m&&(m.unsubscribe(),p.cancelActive&&hw(m)),!!m};sd(u,{withTypes:()=>u});const d=async(p,m,h,v)=>{const b=new AbortController,y=RW(l,b.signal),x=[];try{p.pending.add(b),r(p),await Promise.resolve(p.effect(m,sd({},h,{getOriginalState:v,condition:(w,S)=>y(w,S).then(Boolean),take:y,delay:b4(b.signal),pause:Gg(b.signal),extra:i,signal:b.signal,fork:$W(b.signal,x),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,C)=>{w!==b&&(w.abort(mw),C.delete(w))})},cancel:()=>{b.abort(mw),p.pending.delete(b)},throwIfCancelled:()=>{Wc(b.signal)}})))}catch(w){w instanceof Ny||BC(o,w,{raisedBy:"effect"})}finally{await Promise.all(x),b.abort(LW),a(p),p.pending.delete(b)}},f=BW(t,n);return{middleware:p=>m=>h=>{if(!QO(h))return m(h);if(k4.match(h))return l(h.payload);if(UW.match(h)){f();return}if(S4.match(h))return u(h.payload);let v=p.getState();const b=()=>{if(v===$C)throw new Error(Di(23));return v};let y;try{if(y=m(h),t.size>0){const x=p.getState(),w=Array.from(t.values());for(const S of w){let C=!1;try{C=S.predicate(h,x,v)}catch(j){C=!1,BC(o,j,{raisedBy:"predicate"})}C&&d(S,h,p,b)}}}finally{v=$C}return y},startListening:l,stopListening:u,clearListeners:f}};function Di(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},N4=pi({name:"chartLayout",initialState:VW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:WW,setLayout:qW,setChartSize:HW,setScale:KW}=N4.actions,GW=N4.reducer;function j4(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function ur(e){return Number.isFinite(e)}function is(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(r){YW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YW(e,t,n){return(t=XW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function or(e,t,n){return ta(e)||ta(t)?n:io(t)?tu(e,t,n):typeof t=="function"?t(e):n}var QW=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&$t(e[i]))return Gu(Gu({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&$t(e[o]))return Gu(Gu({},e),{},{[o]:e[o]+(a||0)})}return e},nc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",C4=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},M4=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(v=m==="angleAxis"&&i&&i.length>=2?Fa(i[0]-i[1])*2*v:v,f||p){var b=(f||p||[]).map((y,x)=>{var w=r?r.indexOf(y):y;return{coordinate:o(w)+v,value:y,offset:v,index:x}});return b.filter(y=>!ao(y.coordinate))}return l&&u?u.map((y,x)=>({coordinate:o(y)+v,value:y,index:x,offset:v})):o.ticks&&d!=null?o.ticks(d).map((y,x)=>({coordinate:o(y)+v,value:y,offset:v,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+v,value:r?r[y]:y,index:x,offset:v}))},zC=1e-4,JW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-zC,i=Math.max(r[0],r[1])+zC,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},eq=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],u=l==null?void 0:l[a];if(u!=null){var d=u[1],f=u[0],p=ao(d)?f:d;p>=0?(u[0]=i,u[1]=i+p,i=d):(u[0]=o,u[1]=o+p,o=d)}}}},tq=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var u=ao(l[1])?l[0]:l[1];u>=0?(l[0]=i,l[1]=i+u,i=l[1]):(l[0]=0,l[1]=0)}}}},nq={sign:eq,expand:_9,none:eu,silhouette:L9,wiggle:F9,positive:tq},rq=(e,t,n)=>{var r,a=(r=nq[n])!==null&&r!==void 0?r:eu,i=I9().keys(t).value((s,l)=>Number(or(s,l,0))).order(aw).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((u,d)=>{var f=or(e[d],t[l],0);Array.isArray(f)&&f.length===2&&$t(f[0])&&$t(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function VC(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ta(a[t.dataKey])){var s=gO(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=or(a,ta(o)?t.dataKey:o);return ta(l)?null:t.scale(l)}var aq=e=>{var t=e.flat(2).filter($t);return[Math.min(...t),Math.max(...t)]},iq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],oq=(e,t,n)=>{if(e!=null)return iq(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,u)=>{var d=j4(u,t,n),f=aq(d);return!ur(f[0])||!ur(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},WC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gw=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=gy(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],u=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function HC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return Gu(Gu({},t),{},{dataKey:n,payload:r,value:a,name:i})}function Cy(e,t){if(e)return String(e);if(typeof t=="string")return t}var sq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},lq=(e,t)=>t==="centric"?e.angle:e.radius,rl=e=>e.layout.width,al=e=>e.layout.height,cq=e=>e.layout.scale,A4=e=>e.layout.margin,My=be(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ay=be(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),E4="data-recharts-item-index",D4="data-recharts-item-id",Xp=60;function KC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(n),!0).forEach(function(r){uq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uq(e,t,n){return(t=dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pq=e=>e.brush.height;function mq(e){var t=Ay(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Xp;return n+a}return n},0)}function hq(e){var t=Ay(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Xp;return n+a}return n},0)}function gq(e){var t=My(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function yq(e){var t=My(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ba=be([rl,al,A4,pq,mq,hq,gq,yq,GO,qV],(e,t,n,r,a,i,o,s,l,u)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=hh(hh({},f),d),m=p.bottom;p.bottom+=r,p=QW(p,l,u);var h=e-p.left-p.right,v=t-p.top-p.bottom;return hh(hh({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(v,0)})}),vq=be(ba,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),T4=be(rl,al,(e,t)=>({x:0,y:0,width:e,height:t})),bq=g.createContext(null),Qa=()=>g.useContext(bq)!=null,Ey=e=>e.brush,Dy=be([Ey,ba,A4],(e,t,n)=>({height:e.height,x:$t(e.x)?e.x:t.left,y:$t(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:$t(e.width)?e.width:t.width})),P4={},O4={},I4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),v()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{h(),o=void 0,s=null},b=()=>{d()},y=function(...x){if(a!=null&&a.aborted)return;o=this,s=x;const w=p==null;m(),l&&w&&d()};return y.schedule=m,y.cancel=v,y.flush=b,a==null||a.addEventListener("abort",v,{once:!0}),y}e.debounce=t})(I4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I4;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const p=t.debounce(function(...v){d=r.apply(this,v),f=null},a,{edges:u}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,v),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,v),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(O4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O4;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(P4);var xq=P4.throttle;const wq=Io(xq);var Yg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},_4=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=Hs(r)?e:Number(r),l=Hs(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},kq={width:0,height:0,overflow:"visible"},Sq={width:0,overflowX:"visible"},Nq={height:0,overflowY:"visible"},jq={},Cq=e=>{var{width:t,height:n}=e,r=Hs(t),a=Hs(n);return r&&a?kq:r?Sq:a?Nq:jq};function Mq(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(null,arguments)}function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function YC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(r){Aq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aq(e,t,n){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=Dq(e,"string");return typeof t=="symbol"?t:t+""}function Dq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L4=g.createContext({width:-1,height:-1});function Tq(e){return is(e.width)&&is(e.height)}function F4(e){var{children:t,width:n,height:r}=e,a=g.useMemo(()=>({width:n,height:r}),[n,r]);return Tq(a)?g.createElement(L4.Provider,{value:a},t):null}var sS=()=>g.useContext(L4),Pq=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,v=g.useRef(null),b=g.useRef();b.current=m,g.useImperativeHandle(t,()=>v.current);var[y,x]=g.useState({containerWidth:r.width,containerHeight:r.height}),w=g.useCallback((T,R)=>{x(D=>{var I=Math.round(T),O=Math.round(R);return D.containerWidth===I&&D.containerHeight===O?D:{containerWidth:I,containerHeight:O}})},[]);g.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Kp;var T=O=>{var q,{width:Y,height:ie}=O[0].contentRect;w(Y,ie),(q=b.current)===null||q===void 0||q.call(b,Y,ie)};d>0&&(T=wq(T,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(T),{width:D,height:I}=v.current.getBoundingClientRect();return w(D,I),R.observe(v.current),()=>{R.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=y;Yg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:A}=_4(S,C,{width:a,height:i,aspect:n,maxHeight:l});return Yg(j!=null&&j>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,A,a,i,o,s,n),g.createElement("div",{id:f?"".concat(f):void 0,className:En("recharts-responsive-container",p),style:YC(YC({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:v},g.createElement("div",{style:Cq({width:a,height:i})},g.createElement(F4,{width:j,height:A},u)))}),Eo=g.forwardRef((e,t)=>{var n=sS();if(is(n.width)&&is(n.height))return e.children;var{width:r,height:a}=Mq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=_4(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return $t(i)&&$t(o)?g.createElement(F4,{width:i,height:o},e.children):g.createElement(Pq,yw({},e,{width:r,height:a,ref:t}))});function $4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Zp=()=>{var e,t=Qa(),n=Et(vq),r=Et(Dy),a=(e=Et(Ey))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Oq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},R4=()=>{var e;return(e=Et(ba))!==null&&e!==void 0?e:Oq},lS=()=>Et(rl),cS=()=>Et(al),Iq=()=>Et(e=>e.layout.margin),Wn=e=>e.layout.layoutType,Qp=()=>Et(Wn),_q=()=>{var e=Qp();return e!==void 0},Ty=e=>{var t=Gn(),n=Qa(),{width:r,height:a}=e,i=sS(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),g.useEffect(()=>{!n&&is(o)&&is(s)&&t(HW({width:o,height:s}))},[t,n,o,s]),null},B4=Symbol.for("immer-nothing"),XC=Symbol.for("immer-draftable"),Oi=Symbol.for("immer-state");function xo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Np=Object.getPrototypeOf;function kd(e){return!!e&&!!e[Oi]}function ru(e){var t;return e?U4(e)||Array.isArray(e)||!!e[XC]||!!((t=e.constructor)!=null&&t[XC])||Jp(e)||Oy(e):!1}var Lq=Object.prototype.constructor.toString(),ZC=new WeakMap;function U4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=ZC.get(n);return r===void 0&&(r=Function.toString.call(n),ZC.set(n,r)),r===Lq}function Xg(e,t,n=!0){Py(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Py(e){const t=e[Oi];return t?t.type_:Array.isArray(e)?1:Jp(e)?2:Oy(e)?3:0}function vw(e,t){return Py(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function z4(e,t,n){const r=Py(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Fq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Jp(e){return e instanceof Map}function Oy(e){return e instanceof Set}function Cc(e){return e.copy_||e.base_}function bw(e,t){if(Jp(e))return new Map(e);if(Oy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=U4(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Oi];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Np(e),r)}else{const r=Np(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function uS(e,t=!1){return Iy(e)||kd(e)||!ru(e)||(Py(e)>1&&Object.defineProperties(e,{set:gh,add:gh,clear:gh,delete:gh}),Object.freeze(e),t&&Object.values(e).forEach(n=>uS(n,!0))),e}function $q(){xo(2)}var gh={value:$q};function Iy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Rq={};function au(e){const t=Rq[e];return t||xo(0,e),t}var jp;function V4(){return jp}function Bq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QC(e,t){t&&(au("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xw(e){ww(e),e.drafts_.forEach(Uq),e.drafts_=null}function ww(e){e===jp&&(jp=e.parent_)}function JC(e){return jp=Bq(jp,e)}function Uq(e){const t=e[Oi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Oi].modified_&&(xw(t),xo(4)),ru(e)&&(e=Zg(t,e),t.parent_||Qg(t,e)),t.patches_&&au("Patches").generateReplacementPatches_(n[Oi].base_,e,t.patches_,t.inversePatches_)):e=Zg(t,n,[]),xw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==B4?e:void 0}function Zg(e,t,n){if(Iy(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Oi];if(!a)return Xg(t,(i,o)=>tM(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Qg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Xg(o,(l,u)=>tM(e,a,i,l,u,n,s),r),Qg(e,i,!1),n&&e.patches_&&au("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function tM(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=Iy(a);if(!(s&&!o)){if(kd(a)){const l=i&&t&&t.type_!==3&&!vw(t.assigned_,r)?i.concat(r):void 0,u=Zg(e,a,l);if(z4(n,r,u),kd(u))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(ru(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;Zg(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Jp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Qg(e,a)}}}function Qg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uS(t,n)}function zq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:V4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=dS;n&&(a=[r],i=Cp);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var dS={get(e,t){if(t===Oi)return e;const n=Cc(e);if(!vw(n,t))return Vq(e,n,t);const r=n[t];return e.finalized_||!ru(r)?r:r===cb(e.base_,t)?(ub(e),e.copy_[t]=Sw(r,e)):r},has(e,t){return t in Cc(e)},ownKeys(e){return Reflect.ownKeys(Cc(e))},set(e,t,n){const r=W4(Cc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=cb(Cc(e),t),i=a==null?void 0:a[Oi];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Fq(n,a)&&(n!==void 0||vw(e.base_,t)))return!0;ub(e),kw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ub(e),kw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Cc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){xo(11)},getPrototypeOf(e){return Np(e.base_)},setPrototypeOf(){xo(12)}},Cp={};Xg(dS,(e,t)=>{Cp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Cp.deleteProperty=function(e,t){return Cp.set.call(this,e,t,void 0)};Cp.set=function(e,t,n){return dS.set.call(this,e[0],t,n,e[0])};function cb(e,t){const n=e[Oi];return(n?Cc(n):e)[t]}function Vq(e,t,n){var r;const a=W4(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function W4(e,t){if(!(t in e))return;let n=Np(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Np(n)}}function kw(e){e.modified_||(e.modified_=!0,e.parent_&&kw(e.parent_))}function ub(e){e.copy_||(e.copy_=bw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Wq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,u=>n.call(this,u,...l))}}typeof n!="function"&&xo(6),r!==void 0&&typeof r!="function"&&xo(7);let a;if(ru(t)){const i=JC(this),o=Sw(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?xw(i):ww(i)}return QC(i,r),eM(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===B4&&(a=void 0),this.autoFreeze_&&uS(a,!0),r){const i=[],o=[];au("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else xo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ru(e)||xo(8),kd(e)&&(e=qq(e));const t=JC(this),n=Sw(e,void 0);return n[Oi].isManual_=!0,ww(t),n}finishDraft(e,t){const n=e&&e[Oi];(!n||!n.isManual_)&&xo(9);const{scope_:r}=n;return QC(r,t),eM(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=au("Patches").applyPatches_;return kd(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Sw(e,t){const n=Jp(e)?au("MapSet").proxyMap_(e,t):Oy(e)?au("MapSet").proxySet_(e,t):zq(e,t);return(t?t.scope_:V4()).drafts_.push(n),n}function qq(e){return kd(e)||xo(10,e),q4(e)}function q4(e){if(!ru(e)||Iy(e))return e;const t=e[Oi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=bw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=bw(e,!0);return Xg(n,(a,i)=>{z4(n,a,q4(i))},r),t&&(t.finalized_=!1),n}var Hq=new Wq;Hq.produce;var Kq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},H4=pi({name:"legend",initialState:Kq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:lr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=No(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:lr()},removeLegendPayload:{reducer(e,t){var n=No(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:lr()}}}),{setLegendSize:nM,setLegendSettings:Gq,addLegendPayload:K4,replaceLegendPayload:G4,removeLegendPayload:Y4}=H4.actions,Yq=H4.reducer,Xq=["contextPayload"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nw.apply(null,arguments)}function rM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(n),!0).forEach(function(r){Zq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zq(e,t,n){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eH(e,t){if(e==null)return{};var n,r,a=tH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nH(e){return e.value}function rH(e){var{contextPayload:t}=e,n=eH(e,Xq),r=FO(t,e.payloadUniqBy,nH),a=Sd(Sd({},n),{},{payload:r});return g.isValidElement(e.content)?g.cloneElement(e.content,a):typeof e.content=="function"?g.createElement(e.content,a):g.createElement(uV,a)}function aH(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((r||0)-i.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Sd(Sd({},u),d)}function iH(e){var t=Gn();return g.useEffect(()=>{t(Gq(e))},[t,e]),null}function oH(e){var t=Gn();return g.useEffect(()=>(t(nM(e)),()=>{t(nM({width:0,height:0}))}),[t,e]),null}function sH(e,t,n,r){return e==="vertical"&&$t(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var lH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function X4(e){var t=Kr(e,lH),n=GV(),r=a9(),a=Iq(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[u,d]=YO([n]),f=lS(),p=cS();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=sH(t.layout,o,i,m),v=l?s:Sd(Sd({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},aH(s,t,a,f,p,u)),s),b=l??r;if(b==null||n==null)return null;var y=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},g.createElement(iH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(oH,{width:u.width,height:u.height}),g.createElement(rH,Nw({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return Ld.createPortal(y,b)}X4.displayName="Legend";function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}function aM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function db(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(n),!0).forEach(function(r){cH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cH(e,t,n){return(t=uH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uH(e){var t=dH(e,"string");return typeof t=="symbol"?t:t+""}function dH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fH(e){return Array.isArray(e)&&io(e[0])&&io(e[1])?e.join(" ~ "):e}var pH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var C={padding:0,margin:0},j=(s?gy(i,s):i).map((A,T)=>{if(A.type==="none")return null;var R=A.formatter||o||fH,{value:D,name:I}=A,O=D,q=I;if(R){var Y=R(D,I,A,T,i);if(Array.isArray(Y))[O,q]=Y;else if(Y!=null)O=Y;else return null}var ie=db({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:ie},io(q)?g.createElement("span",{className:"recharts-tooltip-item-name"},q):null,io(q)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},O),g.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},h=db({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=db({margin:0},a),b=!ta(d),y=b?d:"",x=En("recharts-default-tooltip",l),w=En("recharts-tooltip-label",u);b&&f&&i!==void 0&&i!==null&&(y=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",jw({className:x,style:h},S),g.createElement("p",{className:w,style:v},g.isValidElement(y)?y:"".concat(y)),m())},pf="recharts-tooltip-wrapper",mH={visibility:"hidden"};function hH(e){var{coordinate:t,translateX:n,translateY:r}=e;return En(pf,{["".concat(pf,"-right")]:$t(n)&&t&&$t(t.x)&&n>=t.x,["".concat(pf,"-left")]:$t(n)&&t&&$t(t.x)&&n<t.x,["".concat(pf,"-bottom")]:$t(r)&&t&&$t(t.y)&&r>=t.y,["".concat(pf,"-top")]:$t(r)&&t&&$t(t.y)&&r<t.y})}function iM(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(i&&$t(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var v=f+s,b=p+u;return v>b?Math.max(d,p):Math.max(f,p)}function gH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function yH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,d,f;return o.height>0&&o.width>0&&n?(d=iM({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=iM({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=gH({translateX:d,translateY:f,useTranslate3d:s})):u=mH,{cssProperties:u,cssClasses:hH({translateX:d,translateY:f,coordinate:n})}}function oM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(n),!0).forEach(function(r){Cw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cw(e,t,n){return(t=vH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vH(e){var t=bH(e,"string");return typeof t=="symbol"?t:t+""}function bH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xH extends g.PureComponent{constructor(){super(...arguments),Cw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Cw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:v,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=yH({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:m}),S=y?{}:yh(yh({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),C=yh(yh({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:C,ref:b},i)}}var Z4=()=>{var e;return(e=Et(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(null,arguments)}function sM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(n),!0).forEach(function(r){wH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wH(e,t,n){return(t=kH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cM={curveBasisClosed:S9,curveBasisOpen:N9,curveBasis:k9,curveBumpX:l9,curveBumpY:c9,curveLinearClosed:j9,curveLinear:ly,curveMonotoneX:C9,curveMonotoneY:M9,curveNatural:A9,curveStep:E9,curveStepAfter:T9,curveStepBefore:D9},Jg=e=>ur(e.x)&&ur(e.y),uM=e=>e.base!=null&&Jg(e.base)&&Jg(e),mf=e=>e.x,hf=e=>e.y,NH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Hp(e));return(n==="curveMonotone"||n==="curveBump")&&t?cM["".concat(n).concat(t==="vertical"?"Y":"X")]:cM[n]||ly},jH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=NH(t,a),s=i?n.filter(Jg):n,l;if(Array.isArray(r)){var u=n.map((m,h)=>lM(lM({},m),{},{base:r[h]}));a==="vertical"?l=ch().y(hf).x1(mf).x0(m=>m.base.x):l=ch().x(mf).y1(hf).y0(m=>m.base.y);var d=l.defined(uM).curve(o),f=i?u.filter(uM):u;return d(f)}a==="vertical"&&$t(r)?l=ch().y(hf).x1(mf).x0(r):$t(r)?l=ch().x(mf).y1(hf).y0(r):l=nO().x(mf).y(hf);var p=l.defined(Jg).curve(o);return p(s)},fS=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=Qp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?jH(o):r;return g.createElement("path",Mw({},ro(e),zk(e),{className:En("recharts-curve",t),d:s===null?void 0:s,ref:a}))},CH=["x","y","top","left","width","height","className"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw.apply(null,arguments)}function dM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(n),!0).forEach(function(r){AH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AH(e,t,n){return(t=EH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TH(e,t){if(e==null)return{};var n,r,a=PH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function PH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OH=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),IH=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=TH(e,CH),u=MH({x:t,y:n,top:r,left:a,width:i,height:o},l);return!$t(t)||!$t(n)||!$t(i)||!$t(o)||!$t(r)||!$t(a)?null:g.createElement("path",Aw({},Ba(u),{className:En("recharts-cross",s),d:OH(t,n,i,o,r,a)}))};function _H(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function fM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(n),!0).forEach(function(r){LH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LH(e,t,n){return(t=FH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Q4=(e,t,n)=>e.map(r=>"".concat(RH(r)," ").concat(t,"ms ").concat(n)).join(","),BH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Mp=(e,t)=>Object.keys(t).reduce((n,r)=>pM(pM({},n),{},{[r]:e(r,t[r])}),{});function mM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(n),!0).forEach(function(r){UH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UH(e,t,n){return(t=zH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e0=(e,t,n)=>e+(t-e)*n,Ew=e=>{var{from:t,to:n}=e;return t!==n},J4=(e,t,n)=>{var r=Mp((a,i)=>{if(Ew(i)){var[o,s]=e(i.from,i.to,i.velocity);return Jr(Jr({},i),{},{from:o,velocity:s})}return i},t);return n<1?Mp((a,i)=>Ew(i)&&r[a]!=null?Jr(Jr({},i),{},{velocity:e0(i.velocity,r[a].velocity,n),from:e0(i.from,r[a].from,n)}):i,t):J4(e,r,n-1)};function WH(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Jr(Jr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Mp((p,m)=>m.from,s),u=()=>!Object.values(s).filter(Ew).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=J4(n,s,h),a(Jr(Jr(Jr({},e),t),l())),o=p,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function qH(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Jr(Jr({},f),{},{[p]:[m,h]})},{}),u,d=f=>{u||(u=f);var p=(f-u)/r,m=Mp((v,b)=>e0(...b,n(p)),l);if(i(Jr(Jr(Jr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=Mp((v,b)=>e0(...b,n(1)),l);i(Jr(Jr(Jr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const HH=(e,t,n,r,a,i)=>{var o=BH(e,t);return n==null?()=>(a(Jr(Jr({},e),t)),()=>{}):n.isStepper===!0?WH(e,t,n,o,a,i):qH(e,t,n,r,o,a,i)};var t0=1e-4,eI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],tI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),hM=(e,t)=>n=>{var r=eI(e,t);return tI(r,n)},KH=(e,t)=>n=>{var r=eI(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return tI(a,n)},GH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},YH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=GH(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},XH=(e,t,n,r)=>{var a=hM(e,n),i=hM(t,r),o=KH(e,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<t0||h<t0)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},gM=function(){return XH(...YH(...arguments))},ZH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,u=s*n,d=s+(l-u)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<t0&&Math.abs(d)<t0?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},QH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gM(e);case"spring":return ZH();default:if(e.split("(")[0]==="cubic-bezier")return gM(e)}return typeof e=="function"?e:null};function JH(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,u),l);return}i(l),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class eK{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function tK(){return JH(new eK)}var nK=g.createContext(tK);function rK(e,t){var n=g.useContext(nK);return g.useMemo(()=>t??n(e),[e,t,n])}var aK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_y={isSsr:aK()},iK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yM={t:0},fb={t:1};function Ly(e){var t=Kr(e,iK),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,d=n==="auto"?!_y.isSsr:n,f=rK(t.animationId,t.animationManager),[p,m]=g.useState(d?yM:fb),h=g.useRef(null);return g.useEffect(()=>{d||m(fb)},[d]),g.useEffect(()=>{if(!d||!r)return Kp;var v=HH(yM,fb,QH(i),a,m,f.getTimeoutController()),b=()=>{h.current=v()};return f.start([l,o,b,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),u(p.t)}function Fy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(xp(t)),r=g.useRef(e);return r.current!==e&&(n.current=xp(t),r.current=e),n.current}var oK=["radius"],sK=["radius"],vM,bM,xM,wM,kM,SM,NM,jM,CM,MM;function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){lK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lK(e,t,n){return(t=cK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cK(e){var t=uK(e,"string");return typeof t=="symbol"?t:t+""}function uK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function DM(e,t){if(e==null)return{};var n,r,a=dK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ko(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var TM=(e,t,n,r,a)=>{var i=Il(n),o=Il(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=Cr(vM||(vM=Ko(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=Cr(bM||(bM=Ko(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+u*p[0],t)),f+=Cr(xM||(xM=Ko(["L ",",",""])),e+n-u*p[1],t),p[1]>0&&(f+=Cr(wM||(wM=Ko(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=Cr(kM||(kM=Ko(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=Cr(SM||(SM=Ko(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-u*p[2],t+r)),f+=Cr(NM||(NM=Ko(["L ",",",""])),e+u*p[3],t+r),p[3]>0&&(f+=Cr(jM||(jM=Ko(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);f=Cr(CM||(CM=Ko(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,d,e+u*v,t,e+n-u*v,t,v,v,d,e+n,t+l*v,e+n,t+r-l*v,v,v,d,e+n-u*v,t+r,e+u*v,t+r,v,v,d,e,t+r-l*v)}else f=Cr(MM||(MM=Ko(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},PM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nI=e=>{var t=Kr(e,PM),n=g.useRef(null),[r,a]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var te=n.current.getTotalLength();te&&a(te)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:v}=t,b=g.useRef(s),y=g.useRef(l),x=g.useRef(i),w=g.useRef(o),S=g.useMemo(()=>({x:i,y:o,width:s,height:l,radius:u}),[i,o,s,l,u]),C=Fy(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var j=En("recharts-rectangle",d);if(!v){var A=Ba(t),{radius:T}=A,R=DM(A,oK);return g.createElement("path",n0({},R,{x:Il(i),y:Il(o),width:Il(s),height:Il(l),radius:typeof u=="number"?u:void 0,className:j,d:TM(i,o,s,l,u)}))}var D=b.current,I=y.current,O=x.current,q=w.current,Y="0px ".concat(r===-1?1:r,"px"),ie="".concat(r,"px 0px"),ke=Q4(["strokeDasharray"],p,typeof f=="string"?f:PM.animationEasing);return g.createElement(Ly,{animationId:C,key:C,canBegin:r>0,duration:p,easing:f,isActive:v,begin:m},te=>{var H=La(D,s,te),W=La(I,l,te),k=La(O,i,te),V=La(q,o,te);n.current&&(b.current=H,y.current=W,x.current=k,w.current=V);var P;h?te>0?P={transition:ke,strokeDasharray:ie}:P={strokeDasharray:Y}:P={strokeDasharray:ie};var N=Ba(t),{radius:F}=N,z=DM(N,sK);return g.createElement("path",n0({},z,{radius:typeof u=="number"?u:void 0,className:j,d:TM(k,V,H,W,u),ref:n,style:EM(EM({},P),t.style)}))})};function OM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function IM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(n),!0).forEach(function(r){fK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fK(e,t,n){return(t=pK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r0=Math.PI/180,hK=e=>e*180/Math.PI,qr=(e,t,n,r)=>({x:e+Math.cos(-r0*r)*n,y:t+Math.sin(-r0*r)*n}),rI=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},gK=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},yK=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=gK({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:hK(l),angleInRadian:l}},vK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},bK=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},xK=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=yK({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:u}=vK(t),d=i,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?IM(IM({},t),{},{radius:a,angle:bK(d,t)}):null};function aI(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=qr(t,n,r,a),s=qr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var _M,LM,FM,$M,RM,BM,UM;function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(null,arguments)}function _c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wK=(e,t)=>{var n=Fa(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},vh=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+r,d=Math.asin(s/u)/r0,f=l?a:a+i*d,p=qr(t,n,u,f),m=qr(t,n,r,f),h=l?a-i*d:a,v=qr(t,n,u*Math.cos(d*r0),h);return{center:p,circleTangency:m,lineTangency:v,theta:d}},iI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=wK(i,o),l=i+s,u=qr(t,n,a,i),d=qr(t,n,a,l),f=Cr(_M||(_M=_c(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=qr(t,n,r,i),m=qr(t,n,r,l);f+=Cr(LM||(LM=_c(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=Cr(FM||(FM=_c(["L ",","," Z"])),t,n);return f},kK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,d=Fa(u-l),{circleTangency:f,lineTangency:p,theta:m}=vh({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:v,theta:b}=vh({cx:t,cy:n,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:s}),y=s?Math.abs(l-u):Math.abs(l-u)-m-b;if(y<0)return o?Cr($M||($M=_c(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):iI({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:u});var x=Cr(RM||(RM=_c(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(y>180),+(d<0),h.x,h.y,i,i,+(d<0),v.x,v.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=vh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:j,lineTangency:A,theta:T}=vh({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),R=s?Math.abs(l-u):Math.abs(l-u)-C-T;if(R<0&&i===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+=Cr(BM||(BM=_c(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,i,i,+(d<0),j.x,j.y,r,r,+(R>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else x+=Cr(UM||(UM=_c(["L",",","Z"])),t,n);return x},SK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oI=e=>{var t=Kr(e,SK),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var p=En("recharts-sector",f),m=i-a,h=eo(o,m,0,!0),v;return h>0&&Math.abs(u-d)<360?v=kK({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}):v=iI({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),g.createElement("path",Dw({},Ba(t),{className:p,d:v}))};function NK(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(vO(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=qr(r,a,i,s),u=qr(r,a,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return aI(t)}}var sI={},lI={},cI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(cI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(lI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS,n=lI;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=a,a+=o;return l}e.range=r})(sI);var jK=sI.range;const uI=Io(jK);function Wl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pS(e){let t,n,r;e.length!==2?(t=Wl,n=(s,l)=>Wl(e(s),l),r=(s,l)=>e(s)-l):(t=e===Wl||e===CK?e:MK,n=e,r=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function MK(){return 0}function dI(e){return e===null?NaN:+e}function*AK(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const EK=pS(Wl),em=EK.right;pS(dI).center;class zM extends Map{constructor(t,n=PK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(VM(this,t))}has(t){return super.has(VM(this,t))}set(t,n){return super.set(DK(this,t),n)}delete(t){return super.delete(TK(this,t))}}function VM({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function DK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function TK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function PK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function OK(e=Wl){if(e===Wl)return fI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function fI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const IK=Math.sqrt(50),_K=Math.sqrt(10),LK=Math.sqrt(2);function a0(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=IK?10:i>=_K?5:i>=LK?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?a0(e,t,n*2):[s,l,u]}function Tw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?a0(t,e,n):a0(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function Pw(e,t,n){return t=+t,e=+e,n=+n,a0(e,t,n)[2]}function Ow(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Pw(t,e,n):Pw(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function WM(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qM(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function pI(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?fI:OK(a);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+p)),h=Math.min(r,Math.floor(t+(l-u)*f/l+p));pI(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(gf(e,n,t),a(e[r],i)>0&&gf(e,n,r);o<s;){for(gf(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?gf(e,n,s):(++s,gf(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function gf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function FK(e,t,n){if(e=Float64Array.from(AK(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return qM(e);if(t>=1)return WM(e);var r,a=(r-1)*t,i=Math.floor(a),o=WM(pI(e,i).subarray(0,i+1)),s=qM(e.subarray(i+1));return o+(s-o)*(a-i)}}function $K(e,t,n=dI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function RK(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function lo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function il(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Iw=Symbol("implicit");function mS(){var e=new zM,t=[],n=[],r=Iw;function a(i){let o=e.get(i);if(o===void 0){if(r!==Iw)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new zM;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return mS(t,n).unknown(r)},lo.apply(a,arguments),a}function hS(){var e=mS().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,v=m?r:a;i=(v-h)/Math.max(1,p-l+u*2),s&&(i=Math.floor(i)),h+=(v-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var b=RK(p).map(function(y){return h+i*y});return n(m?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return hS(t(),[r,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},lo.apply(f(),arguments)}function mI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mI(t())},e}function BK(){return mI(hS.apply(null,arguments).paddingInner(1))}function gS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tm(){}var Ap=.7,i0=1/Ap,ld="\\s*([+-]?\\d+)\\s*",Ep="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UK=/^#([0-9a-f]{3,8})$/,zK=new RegExp(`^rgb\\(${ld},${ld},${ld}\\)$`),VK=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),WK=new RegExp(`^rgba\\(${ld},${ld},${ld},${Ep}\\)$`),qK=new RegExp(`^rgba\\(${rs},${rs},${rs},${Ep}\\)$`),HK=new RegExp(`^hsl\\(${Ep},${rs},${rs}\\)$`),KK=new RegExp(`^hsla\\(${Ep},${rs},${rs},${Ep}\\)$`),HM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gS(tm,Dp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:KM,formatHex:KM,formatHex8:GK,formatHsl:YK,formatRgb:GM,toString:GM});function KM(){return this.rgb().formatHex()}function GK(){return this.rgb().formatHex8()}function YK(){return gI(this).formatHsl()}function GM(){return this.rgb().formatRgb()}function Dp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=UK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?YM(t):n===3?new si(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zK.exec(e))?new si(t[1],t[2],t[3],1):(t=VK.exec(e))?new si(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WK.exec(e))?bh(t[1],t[2],t[3],t[4]):(t=qK.exec(e))?bh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=HK.exec(e))?QM(t[1],t[2]/100,t[3]/100,1):(t=KK.exec(e))?QM(t[1],t[2]/100,t[3]/100,t[4]):HM.hasOwnProperty(e)?YM(HM[e]):e==="transparent"?new si(NaN,NaN,NaN,0):null}function YM(e){return new si(e>>16&255,e>>8&255,e&255,1)}function bh(e,t,n,r){return r<=0&&(e=t=n=NaN),new si(e,t,n,r)}function XK(e){return e instanceof tm||(e=Dp(e)),e?(e=e.rgb(),new si(e.r,e.g,e.b,e.opacity)):new si}function _w(e,t,n,r){return arguments.length===1?XK(e):new si(e,t,n,r??1)}function si(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gS(si,_w,hI(tm,{brighter(e){return e=e==null?i0:Math.pow(i0,e),new si(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ap:Math.pow(Ap,e),new si(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new si(qc(this.r),qc(this.g),qc(this.b),o0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XM,formatHex:XM,formatHex8:ZK,formatRgb:ZM,toString:ZM}));function XM(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}`}function ZK(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}${Lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZM(){const e=o0(this.opacity);return`${e===1?"rgb(":"rgba("}${qc(this.r)}, ${qc(this.g)}, ${qc(this.b)}${e===1?")":`, ${e})`}`}function o0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lc(e){return e=qc(e),(e<16?"0":"")+e.toString(16)}function QM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new wo(e,t,n,r)}function gI(e){if(e instanceof wo)return new wo(e.h,e.s,e.l,e.opacity);if(e instanceof tm||(e=Dp(e)),!e)return new wo;if(e instanceof wo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new wo(o,s,l,e.opacity)}function QK(e,t,n,r){return arguments.length===1?gI(e):new wo(e,t,n,r??1)}function wo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gS(wo,QK,hI(tm,{brighter(e){return e=e==null?i0:Math.pow(i0,e),new wo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ap:Math.pow(Ap,e),new wo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new si(pb(e>=240?e-240:e+120,a,r),pb(e,a,r),pb(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new wo(JM(this.h),xh(this.s),xh(this.l),o0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=o0(this.opacity);return`${e===1?"hsl(":"hsla("}${JM(this.h)}, ${xh(this.s)*100}%, ${xh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JM(e){return e=(e||0)%360,e<0?e+360:e}function xh(e){return Math.max(0,Math.min(1,e||0))}function pb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yS=e=>()=>e;function JK(e,t){return function(n){return e+n*t}}function eG(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function tG(e){return(e=+e)==1?yI:function(t,n){return n-t?eG(t,n,e):yS(isNaN(t)?n:t)}}function yI(e,t){var n=t-e;return n?JK(e,n):yS(isNaN(e)?t:e)}const eA=function e(t){var n=tG(t);function r(a,i){var o=n((a=_w(a)).r,(i=_w(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),u=yI(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function nG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function rG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Fd(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function iG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function s0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function oG(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Fd(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mb=new RegExp(Lw.source,"g");function sG(e){return function(){return e}}function lG(e){return function(t){return e(t)+""}}function cG(e,t){var n=Lw.lastIndex=mb.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Lw.exec(e))&&(a=mb.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:s0(r,a)})),n=mb.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?lG(l[0].x):sG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Fd(e,t){var n=typeof t,r;return t==null||n==="boolean"?yS(t):(n==="number"?s0:n==="string"?(r=Dp(t))?(t=r,eA):cG:t instanceof Dp?eA:t instanceof Date?iG:rG(t)?nG:Array.isArray(t)?aG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oG:s0)(e,t)}function vS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function uG(e,t){t===void 0&&(t=e,e=Fd);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function dG(e){return function(){return e}}function l0(e){return+e}var tA=[0,1];function Ha(e){return e}function Fw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:dG(isNaN(t)?NaN:.5)}function fG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function pG(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Fw(a,r),i=n(o,i)):(r=Fw(r,a),i=n(i,o)),function(s){return i(r(s))}}function mG(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Fw(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=em(e,s,1,r)-1;return i[l](a[l](s))}}function nm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $y(){var e=tA,t=tA,n=Fd,r,a,i,o=Ha,s,l,u;function d(){var p=Math.min(e.length,t.length);return o!==Ha&&(o=fG(e[0],e[p-1])),s=p>2?mG:pG,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((u||(u=s(t,e.map(r),s0)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,l0),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=vS,d()},f.clamp=function(p){return arguments.length?(o=p?!0:Ha,d()):o!==Ha},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function bS(){return $y()(Ha,Ha)}function hG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function c0(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Nd(e){return e=c0(Math.abs(e)),e?e[1]:NaN}function gG(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function yG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var vG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tp(e){if(!(t=vG.exec(e)))throw new Error("invalid format: "+e);var t;return new xS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tp.prototype=xS.prototype;function xS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bG(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var u0;function xG(e,t){var n=c0(e,t);if(!n)return u0=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(u0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+c0(e,Math.max(0,t+i-1))[0]}function nA(e,t){var n=c0(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const rA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nA(e*100,t),r:nA,s:xG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aA(e){return e}var iA=Array.prototype.map,oA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wG(e){var t=e.grouping===void 0||e.thousands===void 0?aA:gG(iA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?aA:yG(iA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,p){f=Tp(f);var m=f.fill,h=f.align,v=f.sign,b=f.symbol,y=f.zero,x=f.width,w=f.comma,S=f.precision,C=f.trim,j=f.type;j==="n"?(w=!0,j="g"):rA[j]||(S===void 0&&(S=12),C=!0,j="g"),(y||m==="0"&&h==="=")&&(y=!0,m="0",h="=");var A=(p&&p.prefix!==void 0?p.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),T=(b==="$"?r:/[%p]/.test(j)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),R=rA[j],D=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(O){var q=A,Y=T,ie,ke,te;if(j==="c")Y=R(O)+Y,O="";else{O=+O;var H=O<0||1/O<0;if(O=isNaN(O)?l:R(Math.abs(O),S),C&&(O=bG(O)),H&&+O==0&&v!=="+"&&(H=!1),q=(H?v==="("?v:s:v==="-"||v==="("?"":v)+q,Y=(j==="s"&&!isNaN(O)&&u0!==void 0?oA[8+u0/3]:"")+Y+(H&&v==="("?")":""),D){for(ie=-1,ke=O.length;++ie<ke;)if(te=O.charCodeAt(ie),48>te||te>57){Y=(te===46?a+O.slice(ie+1):O.slice(ie))+Y,O=O.slice(0,ie);break}}}w&&!y&&(O=t(O,1/0));var W=q.length+O.length+Y.length,k=W<x?new Array(x-W+1).join(m):"";switch(w&&y&&(O=t(k+O,k.length?x-Y.length:1/0),k=""),h){case"<":O=q+O+Y+k;break;case"=":O=q+k+O+Y;break;case"^":O=k.slice(0,W=k.length>>1)+q+O+Y+k.slice(W);break;default:O=k+q+O+Y;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Nd(p)/3)))*3,h=Math.pow(10,-m),v=u((f=Tp(f),f.type="f",f),{suffix:oA[8+m/3]});return function(b){return v(h*b)}}return{format:u,formatPrefix:d}}var wh,wS,vI;kG({thousands:",",grouping:[3],currency:["$",""]});function kG(e){return wh=wG(e),wS=wh.format,vI=wh.formatPrefix,wh}function SG(e){return Math.max(0,-Nd(Math.abs(e)))}function NG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nd(t)/3)))*3-Nd(Math.abs(e)))}function jG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nd(t)-Nd(e))+1}function bI(e,t,n,r){var a=Ow(e,t,n),i;switch(r=Tp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=NG(a,o))&&(r.precision=i),vI(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=jG(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=SG(a))&&(r.precision=i-(r.type==="%")*2);break}}return wS(r)}function rc(e){var t=e.domain;return e.ticks=function(n){var r=t();return Tw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return bI(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=Pw(o,s,n),u===l)return r[a]=o,r[i]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function xI(){var e=bS();return e.copy=function(){return nm(e,xI())},lo.apply(e,arguments),rc(e)}function wI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,l0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return wI(e).unknown(t)},e=arguments.length?Array.from(e,l0):[0,1],rc(n)}function kI(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function sA(e){return Math.log(e)}function lA(e){return Math.exp(e)}function CG(e){return-Math.log(-e)}function MG(e){return-Math.exp(-e)}function AG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EG(e){return e===10?AG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function DG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function cA(e){return(t,n)=>-e(-t,n)}function kS(e){const t=e(sA,lA),n=t.domain;let r=10,a,i;function o(){return a=DG(r),i=EG(r),n()[0]<0?(a=cA(a),i=cA(i),e(CG,MG)):e(sA,lA),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),m=a(d),h,v;const b=s==null?10:+s;let y=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(h=1;h<r;++h)if(v=p<0?h/i(-p):h*i(p),!(v<u)){if(v>d)break;y.push(v)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(v=p>0?h/i(-p):h*i(p),!(v<u)){if(v>d)break;y.push(v)}y.length*2<b&&(y=Tw(u,d,b))}else y=Tw(p,m,Math.min(m-p,b)).map(i);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Tp(l)).precision==null&&(l.trim=!0),l=wS(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(kI(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function SI(){const e=kS($y()).domain([1,10]);return e.copy=()=>nm(e,SI()).base(e.base()),lo.apply(e,arguments),e}function uA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function SS(e){var t=1,n=e(uA(t),dA(t));return n.constant=function(r){return arguments.length?e(uA(t=+r),dA(t)):t},rc(n)}function NI(){var e=SS($y());return e.copy=function(){return nm(e,NI()).constant(e.constant())},lo.apply(e,arguments)}function fA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PG(e){return e<0?-e*e:e*e}function NS(e){var t=e(Ha,Ha),n=1;function r(){return n===1?e(Ha,Ha):n===.5?e(TG,PG):e(fA(n),fA(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},rc(t)}function jS(){var e=NS($y());return e.copy=function(){return nm(e,jS()).exponent(e.exponent())},lo.apply(e,arguments),e}function OG(){return jS.apply(null,arguments).exponent(.5)}function pA(e){return Math.sign(e)*e*e}function IG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function jI(){var e=bS(),t=[0,1],n=!1,r;function a(i){var o=IG(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(pA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,l0)).map(pA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return jI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},lo.apply(a,arguments),rc(a)}function CI(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=$K(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[em(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Wl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return CI().domain(e).range(t).unknown(r)},lo.apply(i,arguments)}function MI(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[em(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return MI().domain([e,t]).range(a).unknown(i)},lo.apply(rc(o),arguments)}function AI(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[em(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return AI().domain(e).range(t).unknown(n)},lo.apply(a,arguments)}const hb=new Date,gb=new Date;function na(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>na(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(hb.setTime(+i),gb.setTime(+o),e(hb),e(gb),Math.floor(n(hb,gb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const d0=na(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);d0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?na(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):d0);d0.range;const Os=1e3,Qi=Os*60,Is=Qi*60,Gs=Is*24,CS=Gs*7,mA=Gs*30,yb=Gs*365,Fc=na(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCSeconds());Fc.range;const MS=na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Os)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getMinutes());MS.range;const AS=na(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCMinutes());AS.range;const ES=na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Os-e.getMinutes()*Qi)},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getHours());ES.range;const DS=na(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getUTCHours());DS.range;const rm=na(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qi)/Gs,e=>e.getDate()-1);rm.range;const Ry=na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gs,e=>e.getUTCDate()-1);Ry.range;const EI=na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gs,e=>Math.floor(e/Gs));EI.range;function fu(e){return na(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qi)/CS)}const By=fu(0),f0=fu(1),_G=fu(2),LG=fu(3),jd=fu(4),FG=fu(5),$G=fu(6);By.range;f0.range;_G.range;LG.range;jd.range;FG.range;$G.range;function pu(e){return na(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/CS)}const Uy=pu(0),p0=pu(1),RG=pu(2),BG=pu(3),Cd=pu(4),UG=pu(5),zG=pu(6);Uy.range;p0.range;RG.range;BG.range;Cd.range;UG.range;zG.range;const TS=na(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());TS.range;const PS=na(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());PS.range;const Ys=na(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:na(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ys.range;const Xs=na(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:na(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Xs.range;function DI(e,t,n,r,a,i){const o=[[Fc,1,Os],[Fc,5,5*Os],[Fc,15,15*Os],[Fc,30,30*Os],[i,1,Qi],[i,5,5*Qi],[i,15,15*Qi],[i,30,30*Qi],[a,1,Is],[a,3,3*Is],[a,6,6*Is],[a,12,12*Is],[r,1,Gs],[r,2,2*Gs],[n,1,CS],[t,1,mA],[t,3,3*mA],[e,1,yb]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),h=m?m.range(u,+d+1):[];return p?h.reverse():h}function l(u,d,f){const p=Math.abs(d-u)/f,m=pS(([,,b])=>b).right(o,p);if(m===o.length)return e.every(Ow(u/yb,d/yb,f));if(m===0)return d0.every(Math.max(Ow(u,d,f),1));const[h,v]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(v)}return[s,l]}const[VG,WG]=DI(Xs,PS,Uy,EI,DS,AS),[qG,HG]=DI(Ys,TS,By,rm,ES,MS);function vb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function KG(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=vf(a),d=bf(a),f=vf(i),p=bf(i),m=vf(o),h=bf(o),v=vf(s),b=bf(s),y=vf(l),x=bf(l),w={a:te,A:H,b:W,B:k,c:null,d:xA,e:xA,f:gY,g:CY,G:AY,H:pY,I:mY,j:hY,L:TI,m:yY,M:vY,p:V,q:P,Q:SA,s:NA,S:bY,u:xY,U:wY,V:kY,w:SY,W:NY,x:null,X:null,y:jY,Y:MY,Z:EY,"%":kA},S={a:N,A:F,b:z,B:Z,c:null,d:wA,e:wA,f:OY,g:VY,G:qY,H:DY,I:TY,j:PY,L:OI,m:IY,M:_Y,p:se,q:K,Q:SA,s:NA,S:LY,u:FY,U:$Y,V:RY,w:BY,W:UY,x:null,X:null,y:zY,Y:WY,Z:HY,"%":kA},C={a:D,A:I,b:O,B:q,c:Y,d:vA,e:vA,f:cY,g:yA,G:gA,H:bA,I:bA,j:iY,L:lY,m:aY,M:oY,p:R,q:rY,Q:dY,s:fY,S:sY,u:QG,U:JG,V:eY,w:ZG,W:tY,x:ie,X:ke,y:yA,Y:gA,Z:nY,"%":uY};w.x=j(n,w),w.X=j(r,w),w.c=j(t,w),S.x=j(n,S),S.X=j(r,S),S.c=j(t,S);function j(L,B){return function(ne){var $=[],le=-1,ye=0,G=L.length,me,Te,mt;for(ne instanceof Date||(ne=new Date(+ne));++le<G;)L.charCodeAt(le)===37&&($.push(L.slice(ye,le)),(Te=hA[me=L.charAt(++le)])!=null?me=L.charAt(++le):Te=me==="e"?" ":"0",(mt=B[me])&&(me=mt(ne,Te)),$.push(me),ye=le+1);return $.push(L.slice(ye,le)),$.join("")}}function A(L,B){return function(ne){var $=yf(1900,void 0,1),le=T($,L,ne+="",0),ye,G;if(le!=ne.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(B&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(ye=bb(yf($.y,0,1)),G=ye.getUTCDay(),ye=G>4||G===0?p0.ceil(ye):p0(ye),ye=Ry.offset(ye,($.V-1)*7),$.y=ye.getUTCFullYear(),$.m=ye.getUTCMonth(),$.d=ye.getUTCDate()+($.w+6)%7):(ye=vb(yf($.y,0,1)),G=ye.getDay(),ye=G>4||G===0?f0.ceil(ye):f0(ye),ye=rm.offset(ye,($.V-1)*7),$.y=ye.getFullYear(),$.m=ye.getMonth(),$.d=ye.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),G="Z"in $?bb(yf($.y,0,1)).getUTCDay():vb(yf($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(G+5)%7:$.w+$.U*7-(G+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,bb($)):vb($)}}function T(L,B,ne,$){for(var le=0,ye=B.length,G=ne.length,me,Te;le<ye;){if($>=G)return-1;if(me=B.charCodeAt(le++),me===37){if(me=B.charAt(le++),Te=C[me in hA?B.charAt(le++):me],!Te||($=Te(L,ne,$))<0)return-1}else if(me!=ne.charCodeAt($++))return-1}return $}function R(L,B,ne){var $=u.exec(B.slice(ne));return $?(L.p=d.get($[0].toLowerCase()),ne+$[0].length):-1}function D(L,B,ne){var $=m.exec(B.slice(ne));return $?(L.w=h.get($[0].toLowerCase()),ne+$[0].length):-1}function I(L,B,ne){var $=f.exec(B.slice(ne));return $?(L.w=p.get($[0].toLowerCase()),ne+$[0].length):-1}function O(L,B,ne){var $=y.exec(B.slice(ne));return $?(L.m=x.get($[0].toLowerCase()),ne+$[0].length):-1}function q(L,B,ne){var $=v.exec(B.slice(ne));return $?(L.m=b.get($[0].toLowerCase()),ne+$[0].length):-1}function Y(L,B,ne){return T(L,t,B,ne)}function ie(L,B,ne){return T(L,n,B,ne)}function ke(L,B,ne){return T(L,r,B,ne)}function te(L){return o[L.getDay()]}function H(L){return i[L.getDay()]}function W(L){return l[L.getMonth()]}function k(L){return s[L.getMonth()]}function V(L){return a[+(L.getHours()>=12)]}function P(L){return 1+~~(L.getMonth()/3)}function N(L){return o[L.getUTCDay()]}function F(L){return i[L.getUTCDay()]}function z(L){return l[L.getUTCMonth()]}function Z(L){return s[L.getUTCMonth()]}function se(L){return a[+(L.getUTCHours()>=12)]}function K(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var B=j(L+="",w);return B.toString=function(){return L},B},parse:function(L){var B=A(L+="",!1);return B.toString=function(){return L},B},utcFormat:function(L){var B=j(L+="",S);return B.toString=function(){return L},B},utcParse:function(L){var B=A(L+="",!0);return B.toString=function(){return L},B}}}var hA={"-":"",_:" ",0:"0"},xa=/^\s*\d+/,GG=/^%/,YG=/[\\^$*+?|[\]().{}]/g;function Dn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function XG(e){return e.replace(YG,"\\$&")}function vf(e){return new RegExp("^(?:"+e.map(XG).join("|")+")","i")}function bf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ZG(e,t,n){var r=xa.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function QG(e,t,n){var r=xa.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function JG(e,t,n){var r=xa.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function eY(e,t,n){var r=xa.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tY(e,t,n){var r=xa.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function gA(e,t,n){var r=xa.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function yA(e,t,n){var r=xa.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rY(e,t,n){var r=xa.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function aY(e,t,n){var r=xa.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function vA(e,t,n){var r=xa.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function iY(e,t,n){var r=xa.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function bA(e,t,n){var r=xa.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function oY(e,t,n){var r=xa.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function sY(e,t,n){var r=xa.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function lY(e,t,n){var r=xa.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cY(e,t,n){var r=xa.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uY(e,t,n){var r=GG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dY(e,t,n){var r=xa.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function fY(e,t,n){var r=xa.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function xA(e,t){return Dn(e.getDate(),t,2)}function pY(e,t){return Dn(e.getHours(),t,2)}function mY(e,t){return Dn(e.getHours()%12||12,t,2)}function hY(e,t){return Dn(1+rm.count(Ys(e),e),t,3)}function TI(e,t){return Dn(e.getMilliseconds(),t,3)}function gY(e,t){return TI(e,t)+"000"}function yY(e,t){return Dn(e.getMonth()+1,t,2)}function vY(e,t){return Dn(e.getMinutes(),t,2)}function bY(e,t){return Dn(e.getSeconds(),t,2)}function xY(e){var t=e.getDay();return t===0?7:t}function wY(e,t){return Dn(By.count(Ys(e)-1,e),t,2)}function PI(e){var t=e.getDay();return t>=4||t===0?jd(e):jd.ceil(e)}function kY(e,t){return e=PI(e),Dn(jd.count(Ys(e),e)+(Ys(e).getDay()===4),t,2)}function SY(e){return e.getDay()}function NY(e,t){return Dn(f0.count(Ys(e)-1,e),t,2)}function jY(e,t){return Dn(e.getFullYear()%100,t,2)}function CY(e,t){return e=PI(e),Dn(e.getFullYear()%100,t,2)}function MY(e,t){return Dn(e.getFullYear()%1e4,t,4)}function AY(e,t){var n=e.getDay();return e=n>=4||n===0?jd(e):jd.ceil(e),Dn(e.getFullYear()%1e4,t,4)}function EY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dn(t/60|0,"0",2)+Dn(t%60,"0",2)}function wA(e,t){return Dn(e.getUTCDate(),t,2)}function DY(e,t){return Dn(e.getUTCHours(),t,2)}function TY(e,t){return Dn(e.getUTCHours()%12||12,t,2)}function PY(e,t){return Dn(1+Ry.count(Xs(e),e),t,3)}function OI(e,t){return Dn(e.getUTCMilliseconds(),t,3)}function OY(e,t){return OI(e,t)+"000"}function IY(e,t){return Dn(e.getUTCMonth()+1,t,2)}function _Y(e,t){return Dn(e.getUTCMinutes(),t,2)}function LY(e,t){return Dn(e.getUTCSeconds(),t,2)}function FY(e){var t=e.getUTCDay();return t===0?7:t}function $Y(e,t){return Dn(Uy.count(Xs(e)-1,e),t,2)}function II(e){var t=e.getUTCDay();return t>=4||t===0?Cd(e):Cd.ceil(e)}function RY(e,t){return e=II(e),Dn(Cd.count(Xs(e),e)+(Xs(e).getUTCDay()===4),t,2)}function BY(e){return e.getUTCDay()}function UY(e,t){return Dn(p0.count(Xs(e)-1,e),t,2)}function zY(e,t){return Dn(e.getUTCFullYear()%100,t,2)}function VY(e,t){return e=II(e),Dn(e.getUTCFullYear()%100,t,2)}function WY(e,t){return Dn(e.getUTCFullYear()%1e4,t,4)}function qY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Cd(e):Cd.ceil(e),Dn(e.getUTCFullYear()%1e4,t,4)}function HY(){return"+0000"}function kA(){return"%"}function SA(e){return+e}function NA(e){return Math.floor(+e/1e3)}var Eu,_I,LI;KY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KY(e){return Eu=KG(e),_I=Eu.format,Eu.parse,LI=Eu.utcFormat,Eu.utcParse,Eu}function GY(e){return new Date(e)}function YY(e){return e instanceof Date?+e:+new Date(+e)}function OS(e,t,n,r,a,i,o,s,l,u){var d=bS(),f=d.invert,p=d.domain,m=u(".%L"),h=u(":%S"),v=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),x=u("%b %d"),w=u("%B"),S=u("%Y");function C(j){return(l(j)<j?m:s(j)<j?h:o(j)<j?v:i(j)<j?b:r(j)<j?a(j)<j?y:x:n(j)<j?w:S)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?p(Array.from(j,YY)):p().map(GY)},d.ticks=function(j){var A=p();return e(A[0],A[A.length-1],j??10)},d.tickFormat=function(j,A){return A==null?C:u(A)},d.nice=function(j){var A=p();return(!j||typeof j.range!="function")&&(j=t(A[0],A[A.length-1],j??10)),j?p(kI(A,j)):d},d.copy=function(){return nm(d,OS(e,t,n,r,a,i,o,s,l,u))},d}function XY(){return lo.apply(OS(qG,HG,Ys,TS,By,rm,ES,MS,Fc,_I).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZY(){return lo.apply(OS(VG,WG,Xs,PS,Uy,Ry,DS,AS,Fc,LI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zy(){var e=0,t=1,n,r,a,i,o=Ha,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),u):[o(0),o(1)]}}return u.range=d(Fd),u.rangeRound=d(vS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function ac(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FI(){var e=rc(zy()(Ha));return e.copy=function(){return ac(e,FI())},il.apply(e,arguments)}function $I(){var e=kS(zy()).domain([1,10]);return e.copy=function(){return ac(e,$I()).base(e.base())},il.apply(e,arguments)}function RI(){var e=SS(zy());return e.copy=function(){return ac(e,RI()).constant(e.constant())},il.apply(e,arguments)}function IS(){var e=NS(zy());return e.copy=function(){return ac(e,IS()).exponent(e.exponent())},il.apply(e,arguments)}function QY(){return IS.apply(null,arguments).exponent(.5)}function BI(){var e=[],t=Ha;function n(r){if(r!=null&&!isNaN(r=+r))return t((em(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>FK(e,i/r))},n.copy=function(){return BI(t).domain(e)},il.apply(n,arguments)}function Vy(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,u=Ha,d,f=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-i)*(r*v<r*i?s:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function h(v){return function(b){var y,x,w;return arguments.length?([y,x,w]=b,u=uG(v,[y,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=h(Fd),m.rangeRound=h(vS),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return d=v,a=v(e),i=v(t),o=v(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function UI(){var e=rc(Vy()(Ha));return e.copy=function(){return ac(e,UI())},il.apply(e,arguments)}function zI(){var e=kS(Vy()).domain([.1,1,10]);return e.copy=function(){return ac(e,zI()).base(e.base())},il.apply(e,arguments)}function VI(){var e=SS(Vy());return e.copy=function(){return ac(e,VI()).constant(e.constant())},il.apply(e,arguments)}function _S(){var e=NS(Vy());return e.copy=function(){return ac(e,_S()).exponent(e.exponent())},il.apply(e,arguments)}function JY(){return _S.apply(null,arguments).exponent(.5)}const Tf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hS,scaleDiverging:UI,scaleDivergingLog:zI,scaleDivergingPow:_S,scaleDivergingSqrt:JY,scaleDivergingSymlog:VI,scaleIdentity:wI,scaleImplicit:Iw,scaleLinear:xI,scaleLog:SI,scaleOrdinal:mS,scalePoint:BK,scalePow:jS,scaleQuantile:CI,scaleQuantize:MI,scaleRadial:jI,scaleSequential:FI,scaleSequentialLog:$I,scaleSequentialPow:IS,scaleSequentialQuantile:BI,scaleSequentialSqrt:QY,scaleSequentialSymlog:RI,scaleSqrt:OG,scaleSymlog:NI,scaleThreshold:AI,scaleTime:XY,scaleUtc:ZY,tickFormat:bI},Symbol.toStringTag,{value:"Module"}));var ic=e=>e.chartData,LS=be([ic],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),FS=(e,t,n,r)=>r?LS(e):ic(e);function Gl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(ur(t)&&ur(n))return!0}return!1}function jA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function WI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(ur(n))a=n;else if(typeof n=="function")return;if(ur(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(Gl(o))return o}}function eX(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Gl(r))return jA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if($t(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&WC.test(a)){var l=WC.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if($t(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&qC.test(i)){var d=qC.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(Gl(p))return t==null?p:jA(p,t,n)}}}var $d=1e9,tX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RS,dr=!0,so="[DecimalError] ",Hc=so+"Invalid argument: ",$S=so+"Exponent out of range: ",Rd=Math.floor,Mc=Math.pow,nX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ci,ma=1e7,ar=7,qI=9007199254740991,m0=Rd(qI/ar),At={};At.absoluteValue=At.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};At.comparedTo=At.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};At.decimalPlaces=At.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ar;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};At.dividedBy=At.div=function(e){return $s(this,new this.constructor(e))};At.dividedToIntegerBy=At.idiv=function(e){var t=this,n=t.constructor;return Hn($s(t,new n(e),0,1),n.precision)};At.equals=At.eq=function(e){return!this.cmp(e)};At.exponent=function(){return Hr(this)};At.greaterThan=At.gt=function(e){return this.cmp(e)>0};At.greaterThanOrEqualTo=At.gte=function(e){return this.cmp(e)>=0};At.isInteger=At.isint=function(){return this.e>this.d.length-2};At.isNegative=At.isneg=function(){return this.s<0};At.isPositive=At.ispos=function(){return this.s>0};At.isZero=function(){return this.s===0};At.lessThan=At.lt=function(e){return this.cmp(e)<0};At.lessThanOrEqualTo=At.lte=function(e){return this.cmp(e)<1};At.logarithm=At.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ci))throw Error(so+"NaN");if(n.s<1)throw Error(so+(n.s?"NaN":"-Infinity"));return n.eq(Ci)?new r(0):(dr=!1,t=$s(Pp(n,i),Pp(e,i),i),dr=!0,Hn(t,a))};At.minus=At.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GI(t,e):HI(t,(e.s=-e.s,e))};At.modulo=At.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(so+"NaN");return n.s?(dr=!1,t=$s(n,e,0,1).times(e),dr=!0,n.minus(t)):Hn(new r(n),a)};At.naturalExponential=At.exp=function(){return KI(this)};At.naturalLogarithm=At.ln=function(){return Pp(this)};At.negated=At.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};At.plus=At.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HI(t,e):GI(t,(e.s=-e.s,e))};At.precision=At.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hc+e);if(t=Hr(a)+1,r=a.d.length-1,n=r*ar+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};At.squareRoot=At.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(so+"NaN")}for(e=Hr(s),dr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=es(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Rd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus($s(s,i,o+2)).times(.5),es(i.d).slice(0,o)===(t=es(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Hn(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return dr=!0,Hn(r,n)};At.times=At.mul=function(e){var t,n,r,a,i,o,s,l,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,u=m.length,l<u&&(i=p,p=m,m=i,o=l,l=u,u=o),i=[],o=l+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%ma|0,t=s/ma|0;i[a]=(i[a]+t)%ma|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,dr?Hn(e,f.precision):e};At.toDecimalPlaces=At.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(os(e,0,$d),t===void 0?t=r.rounding:os(t,0,8),Hn(n,e+Hr(n)+1,t))};At.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=iu(r,!0):(os(e,0,$d),t===void 0?t=a.rounding:os(t,0,8),r=Hn(new a(r),e+1,t),n=iu(r,!0,e+1)),n};At.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?iu(a):(os(e,0,$d),t===void 0?t=i.rounding:os(t,0,8),r=Hn(new i(a),e+Hr(a)+1,t),n=iu(r.abs(),!1,e+Hr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};At.toInteger=At.toint=function(){var e=this,t=e.constructor;return Hn(new t(e),Hr(e)+1,t.rounding)};At.toNumber=function(){return+this};At.toPower=At.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Ci);if(s=new l(s),!s.s){if(e.s<1)throw Error(so+"Infinity");return s}if(s.eq(Ci))return s;if(r=l.precision,e.eq(Ci))return Hn(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=qI){for(a=new l(Ci),t=Math.ceil(r/ar+4),dr=!1;n%2&&(a=a.times(s),MA(a.d,t)),n=Rd(n/2),n!==0;)s=s.times(s),MA(s.d,t);return dr=!0,e.s<0?new l(Ci).div(a):Hn(a,r)}}else if(i<0)throw Error(so+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,dr=!1,a=e.times(Pp(s,r+u)),dr=!0,a=KI(a),a.s=i,a};At.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Hr(a),r=iu(a,n<=i.toExpNeg||n>=i.toExpPos)):(os(e,1,$d),t===void 0?t=i.rounding:os(t,0,8),a=Hn(new i(a),e,t),n=Hr(a),r=iu(a,e<=n||n<=i.toExpNeg,e)),r};At.toSignificantDigits=At.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(os(e,1,$d),t===void 0?t=r.rounding:os(t,0,8)),Hn(new r(n),e,t)};At.toString=At.valueOf=At.val=At.toJSON=At[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Hr(e),n=e.constructor;return iu(e,t<=n.toExpNeg||t>=n.toExpPos)};function HI(e,t){var n,r,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),dr?Hn(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=u.length):(r=u,a=o,s=l.length),o=Math.ceil(f/ar),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,r=u,u=l,l=r),n=0;i;)n=(l[--i]=l[i]+u[i]+n)/ma|0,l[i]%=ma;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,dr?Hn(t,f):t}function os(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Hc+e)}function es(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=ar-r.length,n&&(i+=jl(n)),i+=r;o=e[t],r=o+"",n=ar-r.length,n&&(i+=jl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var $s=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%ma|0,o=i/ma|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ma+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,u,d,f,p,m,h,v,b,y,x,w,S,C,j,A,T,R=r.constructor,D=r.s==a.s?1:-1,I=r.d,O=a.d;if(!r.s)return new R(r);if(!a.s)throw Error(so+"Division by zero");for(l=r.e-a.e,A=O.length,C=I.length,m=new R(D),h=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--l,i==null?x=i=R.precision:o?x=i+(Hr(r)-Hr(a))+1:x=i,x<0)return new R(0);if(x=x/ar+2|0,u=0,A==1)for(d=0,O=O[0],x++;(u<C||d)&&x--;u++)w=d*ma+(I[u]||0),h[u]=w/O|0,d=w%O|0;else{for(d=ma/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),A=O.length,C=I.length),S=A,v=I.slice(0,A),b=v.length;b<A;)v[b++]=0;T=O.slice(),T.unshift(0),j=O[0],O[1]>=ma/2&&++j;do d=0,s=t(O,v,A,b),s<0?(y=v[0],A!=b&&(y=y*ma+(v[1]||0)),d=y/j|0,d>1?(d>=ma&&(d=ma-1),f=e(O,d),p=f.length,b=v.length,s=t(f,v,p,b),s==1&&(d--,n(f,A<p?T:O,p))):(d==0&&(s=d=1),f=O.slice()),p=f.length,p<b&&f.unshift(0),n(v,f,b),s==-1&&(b=v.length,s=t(O,v,A,b),s<1&&(d++,n(v,A<b?T:O,b))),b=v.length):s===0&&(d++,v=[0]),h[u++]=d,s&&v[0]?v[b++]=I[S]||0:(v=[I[S]],b=1);while((S++<C||v[0]!==void 0)&&x--)}return h[0]||h.shift(),m.e=l,Hn(m,o?i+Hr(m)+1:i)}}();function KI(e,t){var n,r,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(Hr(e)>16)throw Error($S+Hr(e));if(!e.s)return new d(Ci);for(dr=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Mc(2,u))/Math.LN10*2+5|0,s+=r,n=a=i=new d(Ci),d.precision=s;;){if(a=Hn(a.times(e),s),n=n.times(++l),o=i.plus($s(a,n,s)),es(o.d).slice(0,s)===es(i.d).slice(0,s)){for(;u--;)i=Hn(i.times(i),s);return d.precision=f,t==null?(dr=!0,Hn(i,f)):i}i=o}}function Hr(e){for(var t=e.e*ar,n=e.d[0];n>=10;n/=10)t++;return t}function xb(e,t,n){if(t>e.LN10.sd())throw dr=!0,n&&(e.precision=n),Error(so+"LN10 precision limit exceeded");return Hn(new e(e.LN10),t)}function jl(e){for(var t="";e--;)t+="0";return t}function Pp(e,t){var n,r,a,i,o,s,l,u,d,f=1,p=10,m=e,h=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(so+(m.s?"NaN":"-Infinity"));if(m.eq(Ci))return new v(0);if(t==null?(dr=!1,u=b):u=t,m.eq(10))return t==null&&(dr=!0),xb(v,u);if(u+=p,v.precision=u,n=es(h),r=n.charAt(0),i=Hr(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=es(m.d),r=n.charAt(0),f++;i=Hr(m),r>1?(m=new v("0."+n),i++):m=new v(r+"."+n.slice(1))}else return l=xb(v,u+2,b).times(i+""),m=Pp(new v(r+"."+n.slice(1)),u-p).plus(l),v.precision=b,t==null?(dr=!0,Hn(m,b)):m;for(s=o=m=$s(m.minus(Ci),m.plus(Ci),u),d=Hn(m.times(m),u),a=3;;){if(o=Hn(o.times(d),u),l=s.plus($s(o,new v(a),u)),es(l.d).slice(0,u)===es(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(xb(v,u+2,b).times(i+""))),s=$s(s,new v(f),u),v.precision=b,t==null?(dr=!0,Hn(s,b)):s;s=l,a+=2}}function CA(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Rd(n/ar),e.d=[],r=(n+1)%ar,n<0&&(r+=ar),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=ar;r<a;)e.d.push(+t.slice(r,r+=ar));t=t.slice(r),r=ar-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),dr&&(e.e>m0||e.e<-m0))throw Error($S+n)}else e.s=0,e.e=0,e.d=[0];return e}function Hn(e,t,n){var r,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=ar,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/ar),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=ar,a=r-ar+o}if(n!==void 0&&(i=Mc(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?u/Mc(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=Hr(e),f.length=1,t=t-i-1,f[0]=Mc(10,(ar-t%ar)%ar),e.e=Rd(-t/ar)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Mc(10,ar-r),f[d]=a>0?(u/Mc(10,o-a)%Mc(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==ma&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ma)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(dr&&(e.e>m0||e.e<-m0))throw Error($S+Hr(e));return e}function GI(e,t){var n,r,a,i,o,s,l,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),dr?Hn(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),a=Math.max(Math.ceil(m/ar),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ma-1;--l[i],l[a]+=ma}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,dr?Hn(t,m):t):new p(0)}function iu(e,t,n){var r,a=Hr(e),i=es(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+jl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+jl(-a-1)+i,n&&(r=n-o)>0&&(i+=jl(r))):a>=o?(i+=jl(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+jl(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=jl(r))),e.s<0?"-"+i:i}function MA(e,t){if(e.length>t)return e.length=t,!0}function YI(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return CA(o,i.toString())}else if(typeof i!="string")throw Error(Hc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,nX.test(i))CA(o,i);else throw Error(Hc+i)}if(a.prototype=At,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=YI,a.config=a.set=rX,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function rX(e){if(!e||typeof e!="object")throw Error(so+"Object expected");var t,n,r,a=["precision",1,$d,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Rd(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Hc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hc+n+": "+r);return this}var RS=YI(tX);Ci=new RS(1);const Fn=RS;var aX=e=>e,XI={},ZI=e=>e===XI,AA=e=>function t(){return arguments.length===0||arguments.length===1&&ZI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},QI=(e,t)=>e===1?t:AA(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==XI).length;return i>=e?t(...r):QI(e-i,AA(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=r.map(d=>ZI(d)?s.shift():d);return t(...u,...s)}))}),iX=e=>QI(e.length,e),$w=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},oX=iX((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),sX=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return aX;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function JI(e){var t;return e===0?t=1:t=Math.floor(new Fn(e).abs().log(10).toNumber())+1,t}function e_(e,t,n){for(var r=new Fn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var t_=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},n_=(e,t,n)=>{if(e.lte(0))return new Fn(0);var r=JI(e.toNumber()),a=new Fn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new Fn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new Fn(l.toNumber()):new Fn(Math.ceil(l.toNumber()))},lX=(e,t,n)=>{var r=new Fn(1),a=new Fn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Fn(10).pow(JI(e)-1),a=new Fn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Fn(Math.floor(e)))}else e===0?a=new Fn(Math.floor((t-1)/2)):n||(a=new Fn(Math.floor(e)));var o=Math.floor((t-1)/2),s=sX(oX(l=>a.add(new Fn(l-o).mul(r)).toNumber()),$w);return s(0,t)},r_=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Fn(0),tickMin:new Fn(0),tickMax:new Fn(0)};var i=n_(new Fn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Fn(0):(o=new Fn(e).add(t).div(2),o=o.sub(new Fn(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Fn(t).sub(o).div(i).toNumber()),u=s+l+1;return u>n?r_(e,t,n,r,a+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:i,tickMin:o.sub(new Fn(s).mul(i)),tickMax:o.add(new Fn(l).mul(i))})},cX=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=t_([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...$w(0,r-1).map(()=>1/0)]:[...$w(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return lX(o,r,a);var{step:u,tickMin:d,tickMax:f}=r_(o,s,i,a,0),p=e_(d,f.add(new Fn(.1).mul(u)),u);return t>n?p.reverse():p},uX=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=t_([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=n_(new Fn(o).sub(i).div(s-1),a,0),u=[...e_(new Fn(i),new Fn(o),l),o];return a===!1&&(u=u.map(d=>Math.round(d))),n>r?u.reverse():u},dX=e=>e.rootProps.barCategoryGap,am=e=>e.rootProps.stackOffset,a_=e=>e.rootProps.reverseStackOrder,BS=e=>e.options.chartName,US=e=>e.rootProps.syncId,i_=e=>e.rootProps.syncMethod,zS=e=>e.options.eventEmitter,ga={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Es={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ji={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Wy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},fX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:Es.reversed,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:Es.type,unit:void 0},pX={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:ji.type,unit:void 0},mX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},hX={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:"category",unit:void 0},VS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?mX:fX,WS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?hX:pX,qy=e=>e.polarOptions,qS=be([rl,al,ba],rI),o_=be([qy,qS],(e,t)=>{if(e!=null)return eo(e.innerRadius,t,0)}),s_=be([qy,qS],(e,t)=>{if(e!=null)return eo(e.outerRadius,t,t*.8)}),gX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},l_=be([qy],gX);be([VS,l_],Wy);var c_=be([qS,o_,s_],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});be([WS,c_],Wy);var u_=be([Wn,qy,o_,s_,rl,al],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:eo(o,a,a/2),cy:eo(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),fr=(e,t)=>t,im=(e,t,n)=>n;function d_(e){return e==null?void 0:e.id}function f_(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=d_(s);u.forEach((f,p)=>{var m=i==null||a?p:String(or(f,i,null)),h=or(f,s.dataKey,0),v;o.has(m)?v=o.get(m):v={},Object.assign(v,{[d]:h}),o.set(m,v)})}}),Array.from(o.values())}function HS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Hy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ky(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function yX(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ra=e=>{var t=Wn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Bd=e=>e.tooltip.settings.axisId;function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function h0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){vX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vX(e,t,n){return(t=bX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rw=[0,"auto"],da={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},p_=(e,t)=>e.cartesianAxis.xAxis[t],ss=(e,t)=>{var n=p_(e,t);return n??da},fa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Rw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xp},m_=(e,t)=>e.cartesianAxis.yAxis[t],ls=(e,t)=>{var n=m_(e,t);return n??fa},wX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},KS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??wX},kr=(e,t,n)=>{switch(t){case"xAxis":return ss(e,n);case"yAxis":return ls(e,n);case"zAxis":return KS(e,n);case"angleAxis":return VS(e,n);case"radiusAxis":return WS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},kX=(e,t,n)=>{switch(t){case"xAxis":return ss(e,n);case"yAxis":return ls(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},om=(e,t,n)=>{switch(t){case"xAxis":return ss(e,n);case"yAxis":return ls(e,n);case"angleAxis":return VS(e,n);case"radiusAxis":return WS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},h_=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function GS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var g_=e=>e.graphicalItems.cartesianItems,SX=be([fr,im],GS),YS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),sm=be([g_,kr,SX],YS,{memoizeOptions:{resultEqualityCheck:Ky}}),y_=be([sm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(HS)),v_=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),NX=be([sm],v_),XS=e=>e.map(t=>t.data).filter(Boolean).flat(1),jX=be([sm],XS,{memoizeOptions:{resultEqualityCheck:Ky}}),ZS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},QS=be([jX,FS],ZS),JS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:or(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:or(a,r)}))):e.map(r=>({value:r})),Gy=be([QS,kr,sm],JS);function b_(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Qh(e){if(io(e)||e instanceof Date){var t=Number(e);if(ur(t))return t}}function DA(e){if(Array.isArray(e)){var t=[Qh(e[0]),Qh(e[1])];return Gl(t)?t:void 0}var n=Qh(e);if(n!=null)return[n,n]}function Zs(e){return e.map(Qh).filter(U9)}function CX(e,t,n){return!n||typeof t!="number"||ao(t)?[]:n.length?Zs(n.flatMap(r=>{var a=or(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!ur(i)||!ur(o)))return[t-i,t+o]})):[]}var aa=e=>{var t=ra(e),n=Bd(e);return om(e,t,n)},lm=be([aa],e=>e==null?void 0:e.dataKey),MX=be([y_,FS,aa],f_),x_=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,u=r?[...l].reverse():l,d=u.map(d_);return[s,{stackedData:rq(e,d,n),graphicalItems:u}]}))},AX=be([MX,y_,am,a_],x_),w_=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=oq(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},EX=be([kr],e=>e.allowDataOverflow),eN=e=>{var t;if(e==null||!("domain"in e))return Rw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Zs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Rw},tN=be([kr],eN),nN=be([tN,EX],WI),DX=be([AX,ic,fr,nN],w_,{memoizeOptions:{resultEqualityCheck:Hy}}),Yy=e=>e.errorBars,TX=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>b_(n,r)),g0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},rN=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(y=>b_(a,y)),p=or(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=CX(s,p,f);if(m.length>=2){var h=Math.min(...m),v=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||v>o)&&(o=v)}var b=DA(p);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=DA(or(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),ur(i)&&ur(o))return[i,o]},PX=be([QS,kr,NX,Yy,fr],rN,{memoizeOptions:{resultEqualityCheck:Hy}});function OX(e){var{value:t}=e;if(io(t)||t instanceof Date)return t}var IX=(e,t,n)=>{var r=e.map(OX).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&hO(r))?uI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},k_=e=>e.referenceElements.dots,Ud=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),_X=be([k_,fr,im],Ud),S_=e=>e.referenceElements.areas,LX=be([S_,fr,im],Ud),N_=e=>e.referenceElements.lines,FX=be([N_,fr,im],Ud),j_=(e,t)=>{if(e!=null){var n=Zs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},$X=be(_X,fr,j_),C_=(e,t)=>{if(e!=null){var n=Zs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},RX=be([LX,fr],C_);function BX(e){var t;if(e.x!=null)return Zs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Zs(n)}function UX(e){var t;if(e.y!=null)return Zs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Zs(n)}var M_=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?BX(r):UX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},zX=be([FX,fr],M_),VX=be($X,zX,RX,(e,t,n)=>g0(e,n,t)),aN=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?g0(r,i,a):g0(i,a);return eX(t,u,e.allowDataOverflow)},WX=be([kr,tN,nN,DX,PX,VX,Wn,fr],aN,{memoizeOptions:{resultEqualityCheck:Hy}}),qX=[0,1],iN=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=nc(t,i);if(u&&s==null){var d;return uI(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?IX(r,e,u):a==="expand"?qX:o}},oN=be([kr,Wn,QS,Gy,am,fr,WX],iN),A_=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(Hp(i));return s in Tf?s:"point"}}},zd=be([kr,Wn,h_,BS,fr],A_);function HX(e){if(e!=null){if(e in Tf)return Tf[e]();var t="scale".concat(Hp(e));if(t in Tf)return Tf[t]()}}function sN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=HX(t);if(a!=null){var i=a.domain(n).range(r);return JW(i),i}}}var lN=(e,t,n)=>{var r=eN(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Gl(e))return cX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Gl(e))return uX(e,t.tickCount,t.allowDecimals)}},cN=be([oN,om,zd],lN),uN=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Gl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},KX=be([kr,oN,cN,fr],uN),GX=be(Gy,kr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Zs(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var d=u-l;n=Math.min(n,d)}}return n/o}}),E_=be(GX,Wn,dX,ba,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!ur(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=eo(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),YX=(e,t,n)=>{var r=ss(e,t);return r==null||typeof r.padding!="string"?0:E_(e,"xAxis",t,n,r.padding)},XX=(e,t,n)=>{var r=ls(e,t);return r==null||typeof r.padding!="string"?0:E_(e,"yAxis",t,n,r.padding)},ZX=be(ss,YX,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),QX=be(ls,XX,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),JX=be([ba,ZX,Dy,Ey,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),eZ=be([ba,Wn,QX,Dy,Ey,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),cm=(e,t,n,r)=>{var a;switch(t){case"xAxis":return JX(e,n,r);case"yAxis":return eZ(e,n,r);case"zAxis":return(a=KS(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return l_(e);case"radiusAxis":return c_(e,n);default:return}},D_=be([kr,cm],Wy),Md=be([kr,zd,KX,D_],sN);be([sm,Yy,fr],TX);function T_(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Xy=(e,t)=>t,Zy=(e,t,n)=>n,tZ=be(My,Xy,Zy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(T_)),nZ=be(Ay,Xy,Zy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(T_)),P_=(e,t)=>({width:e.width,height:t.height}),rZ=(e,t)=>{var n=typeof t.width=="number"?t.width:Xp;return{width:n,height:e.height}},aZ=be(ba,ss,P_),iZ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},oZ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},sZ=be(al,ba,tZ,Xy,Zy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=P_(t,s);o==null&&(o=iZ(t,r,e));var u=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),i}),lZ=be(rl,ba,nZ,Xy,Zy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=rZ(t,s);o==null&&(o=oZ(t,r,e));var u=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),i}),cZ=(e,t)=>{var n=ss(e,t);if(n!=null)return sZ(e,n.orientation,n.mirror)},uZ=be([ba,ss,cZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),dZ=(e,t)=>{var n=ls(e,t);if(n!=null)return lZ(e,n.orientation,n.mirror)},fZ=be([ba,ls,dZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),pZ=be(ba,ls,(e,t)=>{var n=typeof t.width=="number"?t.width:Xp;return{width:n,height:e.height}}),O_=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=nc(e,r),l=t.map(u=>u.value);if(o&&s&&i==="category"&&a&&hO(l))return l}},dN=be([Wn,Gy,kr,fr],O_),I_=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=nc(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},fN=be([Wn,Gy,om,fr],I_),TA=be([Wn,kX,zd,Md,dN,fN,cm,cN,fr],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var u=nc(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:n,scale:r}}}),mZ=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var u=nc(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?Fa(i[0]-i[1])*2*h:h;var v=f||a;if(v){var b=v.map((y,x)=>{var w=o?o.indexOf(y):y;return{index:x,coordinate:r(w)+h,value:y,offset:h}});return b.filter(y=>ur(y.coordinate))}return u&&s?s.map((y,x)=>({coordinate:r(y)+h,value:y,index:x,offset:h})).filter(y=>ur(y.coordinate)):r.ticks?r.ticks(p).map(y=>({coordinate:r(y)+h,value:y,offset:h})):r.domain().map((y,x)=>({coordinate:r(y)+h,value:o?o[y]:y,index:x,offset:h}))}},__=be([Wn,om,zd,Md,cN,cm,dN,fN,fr],mZ),hZ=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=nc(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Fa(r[0]-r[1])*2*u:u,s&&i?i.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:a?a[d]:d,index:f,offset:u}))}},L_=be([Wn,om,Md,cm,dN,fN,fr],hZ),F_=be(kr,Md,(e,t)=>{if(!(e==null||t==null))return h0(h0({},e),{},{scale:t})}),gZ=be([kr,zd,oN,D_],sN);be((e,t,n)=>KS(e,n),gZ,(e,t)=>{if(!(e==null||t==null))return h0(h0({},e),{},{scale:t})});var yZ=be([Wn,My,Ay],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$_=e=>e.options.defaultTooltipEventType,R_=e=>e.options.validateTooltipEventTypes;function B_(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function pN(e,t){var n=$_(e),r=R_(e);return B_(t,n,r)}function vZ(e){return Et(t=>pN(t,e))}var U_=(e,t)=>{var n,r=Number(t);if(!(ao(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},bZ=e=>e.tooltip.settings,Dl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},xZ={itemInteraction:{click:Dl,hover:Dl},axisInteraction:{click:Dl,hover:Dl},keyboardInteraction:Dl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},z_=pi({name:"tooltip",initialState:xZ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:lr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=No(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:lr()},removeTooltipEntrySettings:{reducer(e,t){var n=No(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:lr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:wZ,replaceTooltipEntrySettings:kZ,removeTooltipEntrySettings:SZ,setTooltipSettingsState:NZ,setActiveMouseOverItemIndex:V_,mouseLeaveItem:jZ,mouseLeaveChart:W_,setActiveClickItemIndex:CZ,setMouseOverAxisIndex:q_,setMouseClickAxisIndex:MZ,setSyncInteraction:Bw,setKeyboardInteraction:Uw}=z_.actions,AZ=z_.reducer;function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){EZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EZ(e,t,n){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DZ(e){var t=TZ(e,"string");return typeof t=="symbol"?t:t+""}function TZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PZ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function OZ(e){return e.index!=null}var H_=(e,t,n,r)=>{if(t==null)return Dl;var a=PZ(e,t,n);if(a==null)return Dl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(OZ(a)){if(i)return kh(kh({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return kh(kh({},Dl),{},{coordinate:a.coordinate})};function IZ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function _Z(e,t){var n=IZ(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function LZ(e,t,n){if(n==null||t==null)return!0;var r=or(e,t);return r==null||!Gl(n)?!0:_Z(r,n)}var mN=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!ur(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),u=t[l];return u==null||LZ(u,n,r)?String(l):null},K_=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},G_=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},um=e=>e.options.tooltipPayloadSearcher,Vd=e=>e.tooltip;function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function IA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){FZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FZ(e,t,n){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Z(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZ(e,t){return e??t}var Y_=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:v,settings:b}=m,y=BZ(v,s),x=Array.isArray(y)?j4(y,u,d):y,w=(h=b==null?void 0:b.dataKey)!==null&&h!==void 0?h:r,S=b==null?void 0:b.nameKey,C;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?C=gO(x,r,a):C=i(x,t,l,S),Array.isArray(C))C.forEach(A=>{var T=IA(IA({},b),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(HC({tooltipEntrySettings:T,dataKey:A.dataKey,payload:A.payload,value:or(A.payload,A.dataKey),name:A.name}))});else{var j;p.push(HC({tooltipEntrySettings:b,dataKey:w,payload:C,value:or(C,w),name:(j=or(C,S))!==null&&j!==void 0?j:b==null?void 0:b.name}))}return p},f)}},hN=be([aa,Wn,h_,BS,ra],A_),UZ=be([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),zZ=be([ra,Bd],GS),Wd=be([UZ,aa,zZ],YS,{memoizeOptions:{resultEqualityCheck:Ky}}),VZ=be([Wd],e=>e.filter(HS)),WZ=be([Wd],XS,{memoizeOptions:{resultEqualityCheck:Ky}}),qd=be([WZ,ic],ZS),qZ=be([VZ,ic,aa],f_),gN=be([qd,aa,Wd],JS),X_=be([aa],eN),HZ=be([aa],e=>e.allowDataOverflow),Z_=be([X_,HZ],WI),KZ=be([Wd],e=>e.filter(HS)),GZ=be([qZ,KZ,am,a_],x_),YZ=be([GZ,ic,ra,Z_],w_),XZ=be([Wd],v_),ZZ=be([qd,aa,XZ,Yy,ra],rN,{memoizeOptions:{resultEqualityCheck:Hy}}),QZ=be([k_,ra,Bd],Ud),JZ=be([QZ,ra],j_),eQ=be([S_,ra,Bd],Ud),tQ=be([eQ,ra],C_),nQ=be([N_,ra,Bd],Ud),rQ=be([nQ,ra],M_),aQ=be([JZ,rQ,tQ],g0),iQ=be([aa,X_,Z_,YZ,ZZ,aQ,Wn,ra],aN),dm=be([aa,Wn,qd,gN,am,ra,iQ],iN),oQ=be([dm,aa,hN],lN),sQ=be([aa,dm,oQ,ra],uN),Q_=e=>{var t=ra(e),n=Bd(e),r=!1;return cm(e,t,n,r)},J_=be([aa,Q_],Wy),eL=be([aa,hN,sQ,J_],sN),lQ=be([Wn,gN,aa,ra],O_),cQ=be([Wn,gN,aa,ra],I_),uQ=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,u=nc(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Fa(a[0]-a[1])*2*f:f,u&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},ol=be([Wn,aa,hN,eL,Q_,lQ,cQ,ra],uQ),yN=be([$_,R_,bZ],(e,t,n)=>B_(n.shared,e,t)),tL=e=>e.tooltip.settings.trigger,vN=e=>e.tooltip.settings.defaultIndex,fm=be([Vd,yN,tL,vN],H_),Ad=be([fm,qd,lm,dm],mN),nL=be([ol,Ad],U_),rL=be([fm],e=>{if(e)return e.dataKey}),dQ=be([fm],e=>{if(e)return e.graphicalItemId}),aL=be([Vd,yN,tL,vN],G_),fQ=be([rl,al,Wn,ba,ol,vN,aL,um],K_),pQ=be([fm,fQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),mQ=be([fm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),hQ=be([aL,Ad,ic,lm,nL,um,yN],Y_),gQ=be([hQ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function LA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(r){yQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yQ(e,t,n){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xQ=()=>Et(aa),wQ=()=>{var e=xQ(),t=Et(ol),n=Et(eL);return gw(!e||!n?void 0:LA(LA({},e),{},{scale:n}),t)};function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){kQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kQ(e,t,n){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jQ=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},CQ=(e,t,n,r)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Du(Du(Du({},r),qr(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Du(Du(Du({},r),qr(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function MQ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var iL=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[o-1])===null||u===void 0?void 0:u.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,v=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,b=void 0;if(!(m==null||h==null||v==null))if(Fa(h-m)!==Fa(v-h)){var y=[];if(Fa(v-h)===Fa(a[1]-a[0])){b=v;var x=h+a[1]-a[0];y[0]=Math.min(x,(x+m)/2),y[1]=Math.max(x,(x+m)/2)}else{b=m;var w=v+a[1]-a[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){var C;return(C=n[s])===null||C===void 0?void 0:C.index}}else{var j=Math.min(m,v),A=Math.max(m,v);if(e>(j+h)/2&&e<=(A+h)/2){var T;return(T=n[s])===null||T===void 0?void 0:T.index}}}else if(t)for(var R=0;R<o;R++){var D=t[R];if(D!=null){var I=t[R+1],O=t[R-1];if(R===0&&I!=null&&e<=(D.coordinate+I.coordinate)/2||R===o-1&&O!=null&&e>(D.coordinate+O.coordinate)/2||R>0&&R<o-1&&O!=null&&I!=null&&e>(D.coordinate+O.coordinate)/2&&e<=(D.coordinate+I.coordinate)/2)return D.index}}return-1},AQ=()=>Et(BS),bN=(e,t)=>t,oL=(e,t,n)=>n,xN=(e,t,n,r)=>r,EQ=be(ol,e=>gy(e,t=>t.coordinate)),wN=be([Vd,bN,oL,xN],H_),kN=be([wN,qd,lm,dm],mN),DQ=(e,t,n)=>{if(t!=null){var r=Vd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},sL=be([Vd,bN,oL,xN],G_),y0=be([rl,al,Wn,ba,ol,xN,sL,um],K_),TQ=be([wN,y0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),lL=be([ol,kN],U_),PQ=be([sL,kN,ic,lm,lL,um,bN],Y_),OQ=be([wN,kN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),IQ=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&MQ(e,o)){var s=sq(e,t),l=iL(s,i,a,n,r),u=jQ(t,a,l,e);return{activeIndex:String(l),activeCoordinate:u}}},_Q=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=xK(e,n);if(s){var l=lq(s,t),u=iL(l,o,i,r,a),d=CQ(t,i,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},LQ=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?IQ(e,t,r,a,i,o,s):_Q(e,t,n,r,a,i,o)},FQ=be(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),$Q=be(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ga)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:yX}});function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){RQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RQ(e,t,n){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BQ(e){var t=UQ(e,"string");return typeof t=="symbol"?t:t+""}function UQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zQ={},VQ={zIndexMap:Object.values(ga).reduce((e,t)=>RA(RA({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),zQ)},WQ=new Set(Object.values(ga));function qQ(e){return WQ.has(e)}var cL=pi({name:"zIndex",initialState:VQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:lr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!qQ(n)&&delete e.zIndexMap[n])},prepare:lr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:lr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:lr()}}}),{registerZIndexPortal:HQ,unregisterZIndexPortal:KQ,registerZIndexPortalElement:GQ,unregisterZIndexPortalElement:YQ}=cL.actions,XQ=cL.reducer;function co(e){var{zIndex:t,children:n}=e,r=_q(),a=r&&t!==void 0&&t!==0,i=Qa(),o=Gn();g.useLayoutEffect(()=>a?(o(HQ({zIndex:t})),()=>{o(KQ({zIndex:t}))}):Kp,[o,t,a]);var s=Et(l=>FQ(l,t,i));return a?s?Ld.createPortal(n,s):null:n}function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zw.apply(null,arguments)}function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){ZQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZQ(e,t,n){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QQ(e){var t=JQ(e,"string");return typeof t=="symbol"?t:t+""}function JQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eJ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return g.isValidElement(t)?g.cloneElement(t,r):g.createElement(n,r)}function tJ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var h,v,b;if(d==="ScatterChart")h=f,v=IH,b=ga.cursorLine;else if(d==="BarChart")h=_H(s,f,i,o),v=nI,b=ga.cursorRectangle;else if(s==="radial"&&vO(f)){var{cx:y,cy:x,radius:w,startAngle:S,endAngle:C}=aI(f);h={cx:y,cy:x,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},v=oI,b=ga.cursorLine}else h={points:NK(s,f,i)},v=fS,b=ga.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,A=Sh(Sh(Sh(Sh({stroke:"#ccc",pointerEvents:"none"},i),h),bd(l)),{},{payload:p,payloadIndex:m,className:En("recharts-tooltip-cursor",j)});return g.createElement(co,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},g.createElement(eJ,{cursor:l,cursorComp:v,cursorProps:A}))}function nJ(e){var t=wQ(),n=R4(),r=Qp(),a=AQ();return t==null||n==null||r==null||a==null?null:g.createElement(tJ,zw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var uL=g.createContext(null),rJ=()=>g.useContext(uL),dL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+u:u;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)t.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,u,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var v=this._events[h],b=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,p),!0;case 6:return v.fn.call(v.context,u,d,f,p,m),!0}for(x=1,y=new Array(b-1);x<b;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var w=v.length,S;for(x=0;x<w;x++)switch(v[x].once&&this.removeListener(l,v[x].fn,void 0,!0),b){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,u);break;case 3:v[x].fn.call(v[x].context,u,d);break;case 4:v[x].fn.call(v[x].context,u,d,f);break;default:if(!y)for(S=1,y=new Array(b-1);S<b;S++)y[S-1]=arguments[S];v[x].fn.apply(v[x].context,y)}}return!0},s.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},s.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},s.prototype.removeListener=function(l,u,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,v=[],b=m.length;h<b;h++)(m[h].fn!==u||f&&!m[h].once||d&&m[h].context!==d)&&v.push(m[h]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(dL);var aJ=dL.exports;const iJ=Io(aJ);var Op=new iJ,Vw="recharts.syncEvent.tooltip",UA="recharts.syncEvent.brush";function fL(e,t){if(t){var n=Number.parseInt(t,10);if(!ao(n))return e==null?void 0:e[n]}}var oJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pL=pi({name:"options",initialState:oJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sJ=pL.reducer,{createEventEmitter:lJ}=pL.actions;function cJ(e){return e.tooltip.syncInteraction}var uJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},mL=pi({name:"chartData",initialState:uJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:zA,setDataStartEndIndexes:dJ,setComputedData:pye}=mL.actions,fJ=mL.reducer,pJ=["x","y"];function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){mJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mJ(e,t,n){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yJ(e,t){if(e==null)return{};var n,r,a=vJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bJ(){var e=Et(US),t=Et(zS),n=Gn(),r=Et(i_),a=Et(ol),i=Qp(),o=Zp(),s=Et(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return Kp;var l=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y:v}=m,b=yJ(m,pJ),{x:y,y:x,width:w,height:S}=d.payload.sourceViewBox,C=Tu(Tu({},b),{},{x:o.x+(w?(h-y)/w:0)*o.width,y:o.y+(S?(v-x)/S:0)*o.height});n(Tu(Tu({},d),{},{payload:Tu(Tu({},d.payload),{},{coordinate:C})}))}else n(d);return}if(a!=null){var j;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=r(a,A);j=a[T]}else r==="value"&&(j=a.find(ke=>String(ke.value)===d.payload.label));var{coordinate:R}=d.payload;if(j==null||d.payload.active===!1||R==null||o==null){n(Bw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:I}=R,O=Math.min(D,o.x+o.width),q=Math.min(I,o.y+o.height),Y={x:i==="horizontal"?j.coordinate:O,y:i==="horizontal"?q:j.coordinate},ie=Bw({active:d.payload.active,coordinate:Y,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ie)}}};return Op.on(Vw,l),()=>{Op.off(Vw,l)}},[s,n,t,e,r,a,i,o])}function xJ(){var e=Et(US),t=Et(zS),n=Gn();g.useEffect(()=>{if(e==null)return Kp;var r=(a,i,o)=>{t!==o&&e===a&&n(dJ(i))};return Op.on(UA,r),()=>{Op.off(UA,r)}},[n,t,e])}function wJ(){var e=Gn();g.useEffect(()=>{e(lJ())},[e]),bJ(),xJ()}function kJ(e,t,n,r,a,i){var o=Et(m=>DQ(m,e,t)),s=Et(zS),l=Et(US),u=Et(i_),d=Et(cJ),f=d==null?void 0:d.active,p=Zp();g.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Bw({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Op.emit(Vw,l,m,s)}},[f,n,o,a,r,s,l,u,i,p])}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){SJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SJ(e,t,n){return(t=NJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NJ(e){var t=jJ(e,"string");return typeof t=="symbol"?t:t+""}function jJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CJ(e){return e.dataKey}function MJ(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(pH,t)}var HA=[],AJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Do(e){var t,n,r=Kr(e,AJ),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:v,wrapperStyle:b,cursor:y,shared:x,trigger:w,defaultIndex:S,portal:C,axisId:j}=r,A=Gn(),T=typeof S=="number"?String(S):S;g.useEffect(()=>{A(NZ({shared:x,trigger:w,axisId:j,active:a,defaultIndex:T}))},[A,x,w,j,a,T]);var R=Zp(),D=Z4(),I=vZ(x),{activeIndex:O,isActive:q}=(t=Et(se=>OQ(se,I,w,T)))!==null&&t!==void 0?t:{},Y=Et(se=>PQ(se,I,w,T)),ie=Et(se=>lL(se,I,w,T)),ke=Et(se=>TQ(se,I,w,T)),te=Y,H=rJ(),W=(n=a??q)!==null&&n!==void 0?n:!1,[k,V]=YO([te,W]),P=I==="axis"?ie:void 0;kJ(I,w,ke,P,O,W);var N=C??H;if(N==null||R==null||I==null)return null;var F=te??HA;W||(F=HA),u&&F.length&&(F=FO(F.filter(se=>se.value!=null&&(se.hide!==!0||r.includeHidden)),p,CJ));var z=F.length>0,Z=g.createElement(xH,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:W,coordinate:ke,hasPayload:z,offset:f,position:m,reverseDirection:h,useTranslate3d:v,viewBox:R,wrapperStyle:b,lastBoundingBox:k,innerRef:V,hasPortalFromProps:!!C},MJ(l,qA(qA({},r),{},{payload:F,label:P,active:W,activeIndex:O,coordinate:ke,accessibilityLayer:D})));return g.createElement(g.Fragment,null,Ld.createPortal(Z,N),W&&g.createElement(nJ,{cursor:y,tooltipEventType:I,coordinate:ke,payload:F,index:O}))}var Ed=e=>null;Ed.displayName="Cell";function EJ(e,t,n){return(t=DJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DJ(e){var t=TJ(e,"string");return typeof t=="symbol"?t:t+""}function TJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PJ{constructor(t){EJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function OJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){IJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IJ(e,t,n){return(t=_J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _J(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FJ={cacheSize:2e3,enableCache:!0},hL=OJ({},FJ),GA=new PJ(hL.cacheSize),$J={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YA="recharts_measurement_span";function RJ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var XA=(e,t)=>{try{var n=document.getElementById(YA);n||(n=document.createElement("span"),n.setAttribute("id",YA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,$J,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Wf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_y.isSsr)return{width:0,height:0};if(!hL.enableCache)return XA(e,t);var n=RJ(e,t),r=GA.get(n);if(r)return r;var a=XA(e,t);return GA.set(n,a),a},gL;function BJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,WJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},HJ=["cm","mm","pt","pc","in","Q","px"];function KJ(e){return HJ.includes(e)}var Yu="NaN";function GJ(e,t){return e*qJ[t]}class Na{static parse(t){var n,[,r,a]=(n=WJ.exec(t))!==null&&n!==void 0?n:[];return r==null?Na.NaN:new Na(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ao(t)&&(this.unit=""),n!==""&&!VJ.test(n)&&(this.num=NaN,this.unit=""),KJ(n)&&(this.num=GJ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Na(NaN,""):new Na(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Na(NaN,""):new Na(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Na(NaN,""):new Na(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Na(NaN,""):new Na(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ao(this.num)}}gL=Na;BJ(Na,"NaN",new gL(NaN,""));function yL(e){if(e==null||e.includes(Yu))return Yu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=ZA.exec(t))!==null&&n!==void 0?n:[],o=Na.parse(r??""),s=Na.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Yu;t=t.replace(ZA,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,p]=(u=QA.exec(t))!==null&&u!==void 0?u:[],m=Na.parse(d??""),h=Na.parse(p??""),v=f==="+"?m.add(h):m.subtract(h);if(v.isNaN())return Yu;t=t.replace(QA,v.toString())}return t}var JA=/\(([^()]*)\)/;function YJ(e){for(var t=e,n;(n=JA.exec(t))!=null;){var[,r]=n;t=t.replace(JA,yL(r))}return t}function XJ(e){var t=e.replace(/\s+/g,"");return t=YJ(t),t=yL(t),t}function ZJ(e){try{return XJ(e)}catch{return Yu}}function wb(e){var t=ZJ(e.slice(5,-1));return t===Yu?"":t}var QJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],JJ=["dx","dy","angle","className","breakAll"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ww.apply(null,arguments)}function e5(e,t){if(e==null)return{};var n,r,a=eee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vL=/[ \f\n\r\t\v\u2028\u2029]+/,bL=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];ta(t)||(n?a=t.toString().split(""):a=t.toString().split(vL));var i=a.map(s=>({word:s,width:Wf(s,r).width})),o=n?0:Wf("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function tee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var xL=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var u={words:[o],width:s};a.push(u)}return a},[]),wL=e=>e.reduce((t,n)=>t.width>n.width?t:n),nee="",t5=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),u=bL({breakAll:n,style:r,children:l+nee});if(!u)return[!1,[]];var d=xL(u.wordsWithComputedWidth,i,o,s),f=d.length>a||wL(d).width>Number(i);return[f,d]},ree=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,u=$t(i),d=String(o),f=xL(t,r,n,a);if(!u||a)return f;var p=f.length>i||wL(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,v=0,b;m<=h&&v<=d.length-1;){var y=Math.floor((m+h)/2),x=y-1,[w,S]=t5(d,x,l,s,i,r,n,a),[C]=t5(d,y,l,s,i,r,n,a);if(!w&&!C&&(m=y+1),w&&C&&(h=y-1),!w&&C){b=S;break}v++}return b||f},n5=e=>{var t=ta(e)?[]:e.toString().split(vL);return[{words:t,width:void 0}]},aee=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!_y.isSsr){var s,l,u=bL({breakAll:i,children:r,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,l=f}else return n5(r);return ree({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return n5(r)},kL="#808080",iee={angle:0,breakAll:!1,capHeight:"0.71em",fill:kL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Qy=g.forwardRef((e,t)=>{var n=Kr(e,iee),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,f=e5(n,QJ),p=g.useMemo(()=>aee({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:v,className:b,breakAll:y}=f,x=e5(f,JJ);if(!io(r)||!io(a)||p.length===0)return null;var w=Number(r)+($t(m)?m:0),S=Number(a)+($t(h)?h:0);if(!ur(w)||!ur(S))return null;var C;switch(d){case"start":C=wb("calc(".concat(o,")"));break;case"middle":C=wb("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=wb("calc(".concat(p.length-1," * -").concat(i,")"));break}var j=[];if(l){var A=p[0].width,{width:T}=f;j.push("scale(".concat($t(T)&&$t(A)?T/A:1,")"))}return v&&j.push("rotate(".concat(v,", ").concat(w,", ").concat(S,")")),j.length&&(x.transform=j.join(" ")),g.createElement("text",Ww({},Ba(x),{ref:t,x:w,y:S,className:En("recharts-text",b),textAnchor:u,fill:s.includes("url")?kL:s}),p.map((R,D)=>{var I=R.words.join(y?"":" ");return g.createElement("tspan",{x:w,dy:D===0?C:i,key:"".concat(I,"-").concat(D)},I)}))});Qy.displayName="Text";var oee=["labelRef"],see=["content"];function r5(e,t){if(e==null)return{};var n,r,a=lee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function a5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(n),!0).forEach(function(r){cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cee(e,t,n){return(t=uee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uee(e){var t=dee(e,"string");return typeof t=="symbol"?t:t+""}function dee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(null,arguments)}var SL=g.createContext(null),NL=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=g.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return g.createElement(SL.Provider,{value:l},s)},jL=()=>{var e=g.useContext(SL),t=Zp();return e||$4(t)},fee=g.createContext(null),pee=()=>{var e=g.useContext(fee),t=Et(u_);return e||t},mee=e=>{var{value:t,formatter:n}=e,r=ta(e.children)?t:e.children;return typeof n=="function"?n(r):r},SN=e=>e!=null&&typeof e=="function",hee=(e,t)=>{var n=Fa(t-e),r=Math.min(Math.abs(t-e),360);return n*r},gee=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(u+d)/2,v=hee(f,p),b=v>=0?1:-1,y,x;switch(t){case"insideStart":y=f+b*i,x=m;break;case"insideEnd":y=p-b*i,x=!m;break;case"end":y=p+b*i,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=v<=0?x:!x;var w=qr(s,l,h,y),S=qr(s,l,h,y+(x?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(x?0:1,`,
    `).concat(S.x,",").concat(S.y),j=ta(e.id)?xp("recharts-radial-line-"):e.id;return g.createElement("text",Ds({},r,{dominantBaseline:"central",className:En("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:j,d:C})),g.createElement("textPath",{xlinkHref:"#".concat(j)},n))},yee=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(n==="outside"){var{x:d,y:f}=qr(r,a,o+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=qr(r,a,p,u);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},qw=e=>"cx"in e&&$t(e.cx),vee=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!qw(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:d}=t,f=o,p=o+(l-u)/2,m=(f+p)/2,h=(l+u)/2,v=f+l/2,b=d>=0?1:-1,y=b*r,x=b>0?"end":"start",w=b>0?"start":"end",S=l>=0?1:-1,C=S*r,j=S>0?"end":"start",A=S>0?"start":"end";if(a==="top"){var T={x:f+l/2,y:s-y,textAnchor:"middle",verticalAnchor:x};return Or(Or({},T),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var R={x:p+u/2,y:s+d+y,textAnchor:"middle",verticalAnchor:w};return Or(Or({},R),i?{height:Math.max(i.y+i.height-(s+d),0),width:u}:{})}if(a==="left"){var D={x:m-C,y:s+d/2,textAnchor:j,verticalAnchor:"middle"};return Or(Or({},D),i?{width:Math.max(D.x-i.x,0),height:d}:{})}if(a==="right"){var I={x:m+h+C,y:s+d/2,textAnchor:A,verticalAnchor:"middle"};return Or(Or({},I),i?{width:Math.max(i.x+i.width-I.x,0),height:d}:{})}var O=i?{width:h,height:d}:{};return a==="insideLeft"?Or({x:m+C,y:s+d/2,textAnchor:A,verticalAnchor:"middle"},O):a==="insideRight"?Or({x:m+h-C,y:s+d/2,textAnchor:j,verticalAnchor:"middle"},O):a==="insideTop"?Or({x:f+l/2,y:s+y,textAnchor:"middle",verticalAnchor:w},O):a==="insideBottom"?Or({x:p+u/2,y:s+d-y,textAnchor:"middle",verticalAnchor:x},O):a==="insideTopLeft"?Or({x:f+C,y:s+y,textAnchor:A,verticalAnchor:w},O):a==="insideTopRight"?Or({x:f+l-C,y:s+y,textAnchor:j,verticalAnchor:w},O):a==="insideBottomLeft"?Or({x:p+C,y:s+d-y,textAnchor:A,verticalAnchor:x},O):a==="insideBottomRight"?Or({x:p+u-C,y:s+d-y,textAnchor:j,verticalAnchor:x},O):a&&typeof a=="object"&&($t(a.x)||Hs(a.x))&&($t(a.y)||Hs(a.y))?Or({x:o+eo(a.x,h),y:s+eo(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):Or({x:v,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},bee={angle:0,offset:5,zIndex:ga.label,position:"middle",textBreakAll:!1};function Cl(e){var t=Kr(e,bee),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:u}=t,d=pee(),f=jL(),p=r==="center"?f:d??f,m,h,v;if(n==null?m=p:qw(n)?m=n:m=$4(n),!m||ta(a)&&ta(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var b=Or(Or({},t),{},{viewBox:m});if(g.isValidElement(o)){var{labelRef:y}=b,x=r5(b,oee);return g.cloneElement(o,x)}if(typeof o=="function"){var{content:w}=b,S=r5(b,see);if(h=g.createElement(o,S),g.isValidElement(h))return h}else h=mee(t);var C=Ba(t);if(qw(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return gee(t,r,h,C,m);v=yee(m,t.offset,t.position)}else v=vee(t,m);return g.createElement(co,{zIndex:t.zIndex},g.createElement(Qy,Ds({ref:u,className:En("recharts-label",s)},C,v,{textAnchor:tee(C.textAnchor)?C.textAnchor:v.textAnchor,breakAll:l}),h))}Cl.displayName="Label";var xee=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(Cl,Ds({key:"label-implicit"},r)):io(e)?g.createElement(Cl,Ds({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===Cl?g.cloneElement(e,Or({key:"label-implicit"},r)):g.createElement(Cl,Ds({key:"label-implicit",content:e},r)):SN(e)?g.createElement(Cl,Ds({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(Cl,Ds({},e,{key:"label-implicit"},r)):null};function CL(e){var{label:t,labelRef:n}=e,r=jL();return xee(t,r,n)||null}var ML={},AL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(AL);var EL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(EL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AL,n=EL,r=py;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(ML);var wee=ML.last;const kee=Io(wee);var See=["valueAccessor"],Nee=["dataKey","clockWise","id","textBreakAll","zIndex"];function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(null,arguments)}function i5(e,t){if(e==null)return{};var n,r,a=jee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function jee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Cee=e=>Array.isArray(e.value)?kee(e.value):e.value,DL=g.createContext(void 0),Mee=DL.Provider,TL=g.createContext(void 0),Aee=TL.Provider;function Eee(){return g.useContext(DL)}function Dee(){return g.useContext(TL)}function Jh(e){var{valueAccessor:t=Cee}=e,n=i5(e,See),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=i5(n,Nee),u=Eee(),d=Dee(),f=u||d;return!f||!f.length?null:g.createElement(co,{zIndex:s??ga.label},g.createElement(Ga,{className:"recharts-label-list"},f.map((p,m)=>{var h,v=ta(r)?t(p,m):or(p&&p.payload,r),b=ta(i)?{}:{id:"".concat(i,"-").concat(m)};return g.createElement(Cl,v0({key:"label-".concat(m)},Ba(p),l,b,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:v,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}Jh.displayName="LabelList";function PL(e){var{label:t}=e;return t?t===!0?g.createElement(Jh,{key:"labelList-implicit"}):g.isValidElement(t)||SN(t)?g.createElement(Jh,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Jh,v0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hw.apply(null,arguments)}var OL=e=>{var{cx:t,cy:n,r,className:a}=e,i=En("recharts-dot",a);return $t(t)&&$t(n)&&$t(r)?g.createElement("circle",Hw({},ro(e),zk(e),{className:i,cx:t,cy:n,r})):null},IL=e=>e.graphicalItems.polarItems,Tee=be([fr,im],GS),Jy=be([IL,kr,Tee],YS),Pee=be([Jy],XS),ev=be([Pee,LS],ZS),Oee=be([ev,kr,Jy],JS);be([ev,kr,Jy],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=or(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:or(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var o5=()=>{},Iee=be([ev,kr,Jy,Yy,fr],rN),_ee=be([kr,tN,nN,o5,Iee,o5,Wn,fr],aN),_L=be([kr,Wn,ev,Oee,am,fr,_ee],iN),Lee=be([_L,kr,zd],lN);be([kr,_L,Lee,fr],uN);var Fee={radiusAxis:{},angleAxis:{}},LL=pi({name:"polarAxis",initialState:Fee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:mye,removeRadiusAxis:hye,addAngleAxis:gye,removeAngleAxis:yye}=LL.actions,$ee=LL.reducer;function s5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(n),!0).forEach(function(r){Ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ree(e,t,n){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zee=(e,t)=>t,NN=be([IL,zee],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Vee=[],jN=(e,t,n)=>(n==null?void 0:n.length)===0?Vee:n,FL=be([LS,NN,jN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>l5(l5({},t.presentationProps),i.props))),a!=null)return a}}),Wee=be([FL,NN,jN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=or(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:Cy(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),qee=be([FL,NN,jN,ba],(e,t,n,r)=>{if(!(t==null||e==null))return ane({offset:r,pieSettings:t,displayedData:e,cells:n})}),$L={exports:{}},Yn={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tv=60103,nv=60106,pm=60107,mm=60108,hm=60114,gm=60109,ym=60110,vm=60112,bm=60113,CN=60120,xm=60115,wm=60116,RL=60121,BL=60122,UL=60117,zL=60129,VL=60131;if(typeof Symbol=="function"&&Symbol.for){var wa=Symbol.for;tv=wa("react.element"),nv=wa("react.portal"),pm=wa("react.fragment"),mm=wa("react.strict_mode"),hm=wa("react.profiler"),gm=wa("react.provider"),ym=wa("react.context"),vm=wa("react.forward_ref"),bm=wa("react.suspense"),CN=wa("react.suspense_list"),xm=wa("react.memo"),wm=wa("react.lazy"),RL=wa("react.block"),BL=wa("react.server.block"),UL=wa("react.fundamental"),zL=wa("react.debug_trace_mode"),VL=wa("react.legacy_hidden")}function Lo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tv:switch(e=e.type,e){case pm:case hm:case mm:case bm:case CN:return e;default:switch(e=e&&e.$$typeof,e){case ym:case vm:case wm:case xm:case gm:return e;default:return t}}case nv:return t}}}var Hee=gm,Kee=tv,Gee=vm,Yee=pm,Xee=wm,Zee=xm,Qee=nv,Jee=hm,ete=mm,tte=bm;Yn.ContextConsumer=ym;Yn.ContextProvider=Hee;Yn.Element=Kee;Yn.ForwardRef=Gee;Yn.Fragment=Yee;Yn.Lazy=Xee;Yn.Memo=Zee;Yn.Portal=Qee;Yn.Profiler=Jee;Yn.StrictMode=ete;Yn.Suspense=tte;Yn.isAsyncMode=function(){return!1};Yn.isConcurrentMode=function(){return!1};Yn.isContextConsumer=function(e){return Lo(e)===ym};Yn.isContextProvider=function(e){return Lo(e)===gm};Yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tv};Yn.isForwardRef=function(e){return Lo(e)===vm};Yn.isFragment=function(e){return Lo(e)===pm};Yn.isLazy=function(e){return Lo(e)===wm};Yn.isMemo=function(e){return Lo(e)===xm};Yn.isPortal=function(e){return Lo(e)===nv};Yn.isProfiler=function(e){return Lo(e)===hm};Yn.isStrictMode=function(e){return Lo(e)===mm};Yn.isSuspense=function(e){return Lo(e)===bm};Yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pm||e===hm||e===zL||e===mm||e===bm||e===CN||e===VL||typeof e=="object"&&e!==null&&(e.$$typeof===wm||e.$$typeof===xm||e.$$typeof===gm||e.$$typeof===ym||e.$$typeof===vm||e.$$typeof===UL||e.$$typeof===RL||e[0]===BL)};Yn.typeOf=Lo;$L.exports=Yn;var nte=$L.exports,c5=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",u5=null,kb=null,WL=e=>{if(e===u5&&Array.isArray(kb))return kb;var t=[];return g.Children.forEach(e,n=>{ta(n)||(nte.isFragment(n)?t=t.concat(WL(n.props.children)):t.push(n))}),kb=t,u5=e,t};function qL(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>c5(a)):r=[c5(t)],WL(e).forEach(a=>{var i=tu(a,"type.displayName")||tu(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var HL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,KL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(KL);var rte=KL.isPlainObject;const ate=Io(rte);var d5,f5,p5,m5,h5;function g5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function y5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(n),!0).forEach(function(r){ite(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ite(e,t,n){return(t=ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ote(e){var t=ste(e,"string");return typeof t=="symbol"?t:t+""}function ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b0.apply(null,arguments)}function xf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v5=(e,t,n,r,a)=>{var i=n-r,o;return o=Cr(d5||(d5=xf(["M ",",",""])),e,t),o+=Cr(f5||(f5=xf(["L ",",",""])),e+n,t),o+=Cr(p5||(p5=xf(["L ",",",""])),e+n-i/2,t+a),o+=Cr(m5||(m5=xf(["L ",",",""])),e+n-i/2-r,t+a),o+=Cr(h5||(h5=xf(["L ",","," Z"])),e,t),o},lte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cte=e=>{var t=Kr(e,lte),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,p=g.useRef(null),[m,h]=g.useState(-1),v=g.useRef(a),b=g.useRef(i),y=g.useRef(o),x=g.useRef(n),w=g.useRef(r),S=Fy(e,"trapezoid-");if(g.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Y=p.current.getTotalLength();Y&&h(Y)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var C=En("recharts-trapezoid",s);if(!f)return g.createElement("g",null,g.createElement("path",b0({},Ba(t),{className:C,d:v5(n,r,a,i,o)})));var j=v.current,A=b.current,T=y.current,R=x.current,D=w.current,I="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),q=Q4(["strokeDasharray"],u,l);return g.createElement(Ly,{animationId:S,key:S,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},Y=>{var ie=La(j,a,Y),ke=La(A,i,Y),te=La(T,o,Y),H=La(R,n,Y),W=La(D,r,Y);p.current&&(v.current=ie,b.current=ke,y.current=te,x.current=H,w.current=W);var k=Y>0?{transition:q,strokeDasharray:O}:{strokeDasharray:I};return g.createElement("path",b0({},Ba(t),{className:C,d:v5(H,W,ie,ke,te),ref:p,style:y5(y5({},k),t.style)}))})},ute=["option","shapeType","activeClassName"];function dte(e,t){if(e==null)return{};var n,r,a=fte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function b5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function x0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gte(e,t){return x0(x0({},t),e)}function yte(e,t){return e==="symbols"}function x5(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(nI,n);case"trapezoid":return g.createElement(cte,n);case"sector":return g.createElement(oI,n);case"symbols":if(yte(t))return g.createElement(Uk,n);break;case"curve":return g.createElement(fS,n);default:return null}}function vte(e){return g.isValidElement(e)?e.props:e}function GL(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=dte(e,ute),i;if(g.isValidElement(t))i=g.cloneElement(t,x0(x0({},a),vte(t)));else if(typeof t=="function")i=t(a,a.index);else if(ate(t)&&typeof t!="boolean"){var o=gte(t,a);i=g.createElement(x5,{shapeType:n,elementProps:o})}else{var s=a;i=g.createElement(x5,{shapeType:n,elementProps:s})}return a.isActive?g.createElement(Ga,{className:r},i):i}var bte=(e,t,n)=>{var r=Gn();return(a,i)=>o=>{e==null||e(a,i,o),r(V_({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},xte=e=>{var t=Gn();return(n,r)=>a=>{e==null||e(n,r,a),t(jZ())}},wte=(e,t,n)=>{var r=Gn();return(a,i)=>o=>{e==null||e(a,i,o),r(CZ({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function YL(e){var{tooltipEntrySettings:t}=e,n=Gn(),r=Qa(),a=g.useRef(null);return g.useLayoutEffect(()=>{r||(a.current===null?n(wZ(t)):a.current!==t&&n(kZ({prev:a.current,next:t})),a.current=t)},[t,n,r]),g.useLayoutEffect(()=>()=>{a.current&&(n(SZ(a.current)),a.current=null)},[n]),null}function kte(e){var{legendPayload:t}=e,n=Gn(),r=Qa(),a=g.useRef(null);return g.useLayoutEffect(()=>{r||(a.current===null?n(K4(t)):a.current!==t&&n(G4({prev:a.current,next:t})),a.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{a.current&&(n(Y4(a.current)),a.current=null)},[n]),null}function Ste(e){var{legendPayload:t}=e,n=Gn(),r=Et(Wn),a=g.useRef(null);return g.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(K4(t)):a.current!==t&&n(G4({prev:a.current,next:t})),a.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{a.current&&(n(Y4(a.current)),a.current=null)},[n]),null}var Sb,Nte=()=>{var[e]=g.useState(()=>xp("uid-"));return e},jte=(Sb=LB.useId)!==null&&Sb!==void 0?Sb:Nte;function Cte(e,t){var n=jte();return t||(e?"".concat(e,"-").concat(n):n)}var Mte=g.createContext(void 0),XL=e=>{var{id:t,type:n,children:r}=e,a=Cte("recharts-".concat(n),t);return g.createElement(Mte.Provider,{value:a},r(a))},Ate={cartesianItems:[],polarItems:[]},ZL=pi({name:"graphicalItems",initialState:Ate,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:lr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=No(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:lr()},removeCartesianGraphicalItem:{reducer(e,t){var n=No(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:lr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:lr()},removePolarGraphicalItem:{reducer(e,t){var n=No(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:lr()}}}),{addCartesianGraphicalItem:Ete,replaceCartesianGraphicalItem:Dte,removeCartesianGraphicalItem:Tte,addPolarGraphicalItem:Pte,removePolarGraphicalItem:Ote}=ZL.actions,Ite=ZL.reducer,_te=e=>{var t=Gn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Ete(e)):n.current!==e&&t(Dte({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(Tte(n.current)),n.current=null)},[t]),null},Lte=g.memo(_te);function Fte(e){var t=Gn();return g.useLayoutEffect(()=>(t(Pte(e)),()=>{t(Ote(e))}),[t,e]),null}var $te=["key"],Rte=["onMouseEnter","onClick","onMouseLeave"],Bte=["id"],Ute=["id"];function w5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w5(Object(n),!0).forEach(function(r){zte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zte(e,t,n){return(t=Vte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vte(e){var t=Wte(e,"string");return typeof t=="symbol"?t:t+""}function Wte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yl.apply(null,arguments)}function rv(e,t){if(e==null)return{};var n,r,a=qte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hte(e){var t=g.useMemo(()=>qL(e.children,Ed),[e.children]),n=Et(r=>Wee(r,e.id,t));return n==null?null:g.createElement(Ste,{legendPayload:n})}var Kte=g.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:Cy(s,t),hide:l,type:u,color:o,unit:"",graphicalItemId:d}};return g.createElement(YL,{tooltipEntrySettings:f})}),Gte=(e,t)=>e>t?"start":e<t?"end":"middle",Yte=(e,t,n)=>eo(typeof t=="function"?t(e):t,n,n*.8),Xte=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=rI(i,o),l=a+eo(e.cx,i,i/2),u=r+eo(e.cy,o,o/2),d=eo(e.innerRadius,s,0),f=Yte(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:p}},Zte=(e,t)=>{var n=Fa(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Qte(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Jte=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=En("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=rv(t,$te);return g.createElement(fS,Yl({},a,{type:"linear",className:n}))},ene=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var a=En("recharts-pie-label-text",Qte(e));return g.createElement(Qy,Yl({},t,{alignmentBaseline:"middle",className:a}),r)};function tne(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=ro(n),l=bd(a),u=bd(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,v=qr(p.cx,p.cy,p.outerRadius+d,h),b=Ar(Ar(Ar(Ar({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:Gte(v.x,p.cx)},v),y=Ar(Ar(Ar(Ar({},s),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[qr(p.cx,p.cy,p.outerRadius,h),v],key:"line"});return g.createElement(co,{zIndex:ga.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},g.createElement(Ga,null,i&&Jte(i,y),ene(a,b,or(p,o))))});return g.createElement(Ga,{className:"recharts-pie-labels"},f)}function nne(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?g.createElement(PL,{label:a}):g.createElement(tne,{sectors:t,props:n,showLabels:r})}function rne(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=Et(Ad),l=Et(rL),u=Et(dQ),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=rv(a,Rte),h=bte(d,a.dataKey,o),v=xte(p),b=wte(f,a.dataKey,o);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((y,x)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=u==null||u===o,S=String(x)===s&&(l==null||a.dataKey===l)&&w,C=s?r:null,j=n&&S?n:C,A=Ar(Ar({},y),{},{stroke:y.stroke,tabIndex:-1,[E4]:x,[D4]:o});return g.createElement(Ga,Yl({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},Vk(m,y,x),{onMouseEnter:h(y,x),onMouseLeave:v(y,x),onClick:b(y,x)}),g.createElement(GL,Yl({option:i??j,index:x,shapeType:"sector",isActive:S},A)))}))}function ane(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=Zte(s,l),h=Math.abs(m),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=r.filter(j=>or(j,u,0)!==0).length,y=(h>=360?b:b-1)*v,x=h-b*p-y,w=r.reduce((j,A)=>{var T=or(A,u,0);return j+($t(T)?T:0)},0),S;if(w>0){var C;S=r.map((j,A)=>{var T=or(j,u,0),R=or(j,d,A),D=Xte(n,i,j),I=($t(T)?T:0)/w,O,q=Ar(Ar({},j),a&&a[A]&&a[A].props);A?O=C.endAngle+Fa(m)*v*(T!==0?1:0):O=s;var Y=O+Fa(m)*((T!==0?p:0)+I*x),ie=(O+Y)/2,ke=(D.innerRadius+D.outerRadius)/2,te=[{name:R,value:T,payload:q,dataKey:u,type:f,graphicalItemId:n.id}],H=qr(D.cx,D.cy,ke,ie);return C=Ar(Ar(Ar(Ar({},n.presentationProps),{},{percent:I,cornerRadius:typeof o=="string"?parseFloat(o):o,name:R,tooltipPayload:te,midAngle:ie,middleRadius:ke,tooltipPosition:H},q),D),{},{value:T,dataKey:u,startAngle:O,endAngle:Y,payload:q,paddingAngle:Fa(m)*v}),C})}return S}function ine(e){var{showLabels:t,sectors:n,children:r}=e,a=g.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return g.createElement(Aee,{value:t?a:void 0},r)}function one(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=Fy(t,"recharts-pie-"),h=n.current,[v,b]=g.useState(!1),y=g.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),x=g.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return g.createElement(ine,{showLabels:!v,sectors:a},g.createElement(Ly,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:x,onAnimationEnd:y,key:m},w=>{var S=[],C=a&&a[0],j=C==null?void 0:C.startAngle;return a==null||a.forEach((A,T)=>{var R=h&&h[T],D=T>0?tu(A,"paddingAngle",0):0;if(R){var I=La(R.endAngle-R.startAngle,A.endAngle-A.startAngle,w),O=Ar(Ar({},A),{},{startAngle:j+D,endAngle:j+I+D});S.push(O),j=O.endAngle}else{var{endAngle:q,startAngle:Y}=A,ie=La(0,q-Y,w),ke=Ar(Ar({},A),{},{startAngle:j+D,endAngle:j+ie+D});S.push(ke),j=ke.endAngle}}),n.current=S,g.createElement(Ga,null,g.createElement(rne,{sectors:S,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),g.createElement(nne,{showLabels:!v,sectors:a,props:t}),t.children)}var sne={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ga.area};function lne(e){var{id:t}=e,n=rv(e,Bte),{hide:r,className:a,rootTabIndex:i}=e,o=g.useMemo(()=>qL(e.children,Ed),[e.children]),s=Et(d=>qee(d,t,o)),l=g.useRef(null),u=En("recharts-pie",a);return r||s==null?(l.current=null,g.createElement(Ga,{tabIndex:i,className:u})):g.createElement(co,{zIndex:e.zIndex},g.createElement(Kte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(Ga,{tabIndex:i,className:u},g.createElement(one,{props:Ar(Ar({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function w0(e){var t=Kr(e,sne),{id:n}=t,r=rv(t,Ute),a=ro(r);return g.createElement(XL,{id:n,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(Fte,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),g.createElement(Hte,Yl({},r,{id:i})),g.createElement(lne,Yl({},r,{id:i}))))}w0.displayName="Pie";var cne=["points"];function k5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(n),!0).forEach(function(r){une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function une(e,t,n){return(t=dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function pne(e,t){if(e==null)return{};var n,r,a=mne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hne(e){var{option:t,dotProps:n,className:r}=e;if(g.isValidElement(t))return g.cloneElement(t,n);if(typeof t=="function")return t(n);var a=En(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=pne(i,cne);return g.createElement(OL,k0({},s,{className:a}))}function gne(e,t){return e==null?!1:t?!0:e.length===1}function yne(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:u=ga.scatter}=e;if(!gne(t,n))return null;var d=HL(n),f=Z7(n),p=t.map((h,v)=>{var b,y,x=Nb(Nb(Nb({r:3},o),f),{},{index:v,cx:(b=h.x)!==null&&b!==void 0?b:void 0,cy:(y=h.y)!==null&&y!==void 0?y:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return g.createElement(hne,{key:"dot-".concat(v),option:n,dotProps:x,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),g.createElement(co,{zIndex:u},g.createElement(Ga,k0({className:r},m),p))}function S5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function N5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(n),!0).forEach(function(r){vne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vne(e,t,n){return(t=bne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bne(e){var t=xne(e,"string");return typeof t=="symbol"?t:t+""}function xne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wne={xAxis:{},yAxis:{},zAxis:{}},QL=pi({name:"cartesianAxis",initialState:wne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:lr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:lr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:lr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:lr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:lr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:lr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:lr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:lr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:lr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=N5(N5({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:kne,replaceXAxis:Sne,removeXAxis:Nne,addYAxis:jne,replaceYAxis:Cne,removeYAxis:Mne,addZAxis:vye,replaceZAxis:bye,removeZAxis:xye,updateYAxisWidth:Ane}=QL.actions,Ene=QL.reducer,Dne=be([ba],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Tne=be([Dne,rl,al],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),MN=()=>Et(Tne),Pne=()=>Et(gQ);function j5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(n),!0).forEach(function(r){One(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function One(e,t,n){return(t=Ine(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ine(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lne=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=jb(jb(jb({},s),bd(a)),zk(a)),u;return g.isValidElement(a)?u=g.cloneElement(a,l):typeof a=="function"?u=a(l):u=g.createElement(OL,l),g.createElement(Ga,{className:"recharts-active-dot",clipPath:o},u)};function Fne(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=ga.activeDot}=e,s=Et(Ad),l=Pne();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return ta(u)?null:g.createElement(co,{zIndex:o},g.createElement(Lne,{point:u,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var JL=e=>{var{chartData:t}=e,n=Gn(),r=Qa();return g.useEffect(()=>r?()=>{}:(n(zA(t)),()=>{n(zA(void 0))}),[t,n,r]),null},C5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},eF=pi({name:"brush",initialState:C5,reducers:{setBrushSettings(e,t){return t.payload==null?C5:t.payload}}}),{setBrushSettings:wye}=eF.actions,$ne=eF.reducer;function M5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(n),!0).forEach(function(r){tF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tF(e,t,n){return(t=Rne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rne(e){var t=Bne(e,"string");return typeof t=="symbol"?t:t+""}function Bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Une=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},zne=e=>{var{x1:t,y1:n,x2:r,y2:a}=e;return Une({x:t,y:n},{x:r,y:a})};class av{static create(t){return new av(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}tF(av,"EPS",1e-4);var Vne=e=>{var t=Object.keys(e).reduce((n,r)=>Nh(Nh({},n),{},{[r]:av.create(e[r])}),{});return Nh(Nh({},t),{},{apply(n){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(i=>{var[o,s]=i;return[o,t[o].apply(s,{bandAware:r,position:a})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function Wne(e){return(e%180+180)%180}var qne=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Wne(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},Hne={dots:[],areas:[],lines:[]},nF=pi({name:"referenceElements",initialState:Hne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=No(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=No(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=No(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:kye,removeDot:Sye,addArea:Nye,removeArea:jye,addLine:Kne,removeLine:Gne}=nF.actions,Yne=nF.reducer,rF=g.createContext(void 0),Xne=e=>{var{children:t}=e,[n]=g.useState("".concat(xp("recharts"),"-clip")),r=MN();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return g.createElement(rF.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:a,y:i,height:s,width:o}))),t)},Zne=()=>g.useContext(rF);function A5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function E5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(n),!0).forEach(function(r){Qne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qne(e,t,n){return(t=Jne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jne(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}var tre=(e,t)=>{var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!ur(t.x1)||!ur(t.y1)||!ur(t.x2)||!ur(t.y2))return null;n=g.createElement("line",S0({},t,{className:"recharts-reference-line-line"}))}return n},nre=(e,t,n,r,a,i)=>{var{x:o,width:s}=i,l=a.y.apply(e,{position:n});if(ao(l)||t==="discard"&&!a.y.isInRange(l))return null;var u=[{x:o+s,y:l},{x:o,y:l}];return r==="left"?u.reverse():u},rre=(e,t,n,r,a,i)=>{var{y:o,height:s}=i,l=a.x.apply(e,{position:n});if(ao(l)||t==="discard"&&!a.x.isInRange(l))return null;var u=[{x:l,y:o+s},{x:l,y:o}];return r==="top"?u.reverse():u},are=(e,t,n,r)=>{var a=e.map(i=>r.apply(i,{position:n}));return t==="discard"&&a.some(i=>!r.isInRange(i))?null:a},ire=(e,t,n,r,a,i)=>{var{x:o,y:s,segment:l,ifOverflow:u}=i,d=io(o),f=io(s);return f?nre(s,u,n,a,e,t):d?rre(o,u,n,r,e,t):l!=null&&l.length===2?are(l,u,n,e):null};function ore(e){var t=Gn();return g.useEffect(()=>(t(Kne(e)),()=>{t(Gne(e))})),null}function sre(e){var{xAxisId:t,yAxisId:n,shape:r,className:a,ifOverflow:i}=e,o=Qa(),s=Zne(),l=Et(j=>ss(j,t)),u=Et(j=>ls(j,n)),d=Et(j=>Md(j,"xAxis",t,o)),f=Et(j=>Md(j,"yAxis",n,o)),p=Zp();if(!s||!p||l==null||u==null||d==null||f==null)return null;var m=Vne({x:d,y:f}),h=ire(m,p,e.position,l.orientation,u.orientation,e);if(!h)return null;var[{x:v,y:b},{x:y,y:x}]=h,w=i==="hidden"?"url(#".concat(s,")"):void 0,S=E5(E5({clipPath:w},Ba(e)),{},{x1:v,y1:b,x2:y,y2:x}),C=zne({x1:v,y1:b,x2:y,y2:x});return g.createElement(co,{zIndex:e.zIndex},g.createElement(Ga,{className:En("recharts-reference-line",a)},tre(r,S),g.createElement(NL,S0({},C,{lowerWidth:C.width,upperWidth:C.width}),g.createElement(CL,{label:e.label}),e.children)))}var lre={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:ga.line};function Kw(e){var t=Kr(e,lre);return g.createElement(g.Fragment,null,g.createElement(ore,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(sre,t))}Kw.displayName="ReferenceLine";function aF(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function cre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return qne(r,n)}function ure(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function Ip(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function dre(e,t){return aF(e,t+1)}function fre(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,u=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:aF(r,u)};var h=l,v,b=()=>(v===void 0&&(v=n(m,h)),v),y=m.coordinate,x=l===0||Ip(e,y,b,d,s);x||(l=0,d=o,u+=1),x&&(d=y+e*(b()/2+a),l+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function pre(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=s,p=!0,m=function(){var y=r[h],x=h,w,S=()=>(w===void 0&&(w=n(y,x)),w),C=y.coordinate,j=h===d||Ip(e,C,S,f,l);if(!j)return p=!1,1;j&&(f=C+e*(S()/2+a))},h=d;h<o&&!m();h+=u);if(p){for(var v=[],b=d;b<o;b+=u)v.push(r[b]);return v}}return[]}function D5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(n),!0).forEach(function(r){mre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mre(e,t,n){return(t=hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hre(e){var t=gre(e,"string");return typeof t=="symbol"?t:t+""}function gre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yre(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,u=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var v=e*(p.coordinate+e*h()/2-l);i[f]=p=Oa(Oa({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[f]=p=Oa(Oa({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var b=Ip(e,p.tickCoord,h,s,l);b&&(l=p.tickCoord-e*(h()/2+a),i[f]=Oa(Oa({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function vre(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:u}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-u);if(o[s-1]=d=Oa(Oa({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=Ip(e,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Oa(Oa({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,v=function(y){var x=o[y],w,S=()=>(w===void 0&&(w=n(x,y)),w);if(y===0){var C=e*(x.coordinate-e*S()/2-l);o[y]=x=Oa(Oa({},x),{},{tickCoord:C<0?x.coordinate-C*e:x.coordinate})}else o[y]=x=Oa(Oa({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var j=Ip(e,x.tickCoord,S,l,u);j&&(l=x.tickCoord+e*(S()/2+a),o[y]=Oa(Oa({},x),{},{isShow:!0}))}},b=0;b<h;b++)v(b);return o}function AN(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if($t(l)||_y.isSsr){var p;return(p=dre(a,$t(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",v=d&&h==="width"?Wf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(w,S)=>{var C=typeof u=="function"?u(w.value,S):w.value;return h==="width"?cre(Wf(C,{fontSize:t,letterSpacing:n}),v,f):Wf(C,{fontSize:t,letterSpacing:n})[h]},y=a.length>=2?Fa(a[1].coordinate-a[0].coordinate):1,x=ure(i,y,h);return l==="equidistantPreserveStart"?fre(y,x,b,a,o):l==="equidistantPreserveEnd"?pre(y,x,b,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=vre(y,x,b,a,o,l==="preserveStartEnd"):m=yre(y,x,b,a,o),m.filter(w=>w.isShow))}var bre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,u=o+l+s+(n?r:0);return Math.round(u)}return 0},xre=["axisLine","width","height","className","hide","ticks","axisType"];function wre(e,t){if(e==null)return{};var n,r,a=kre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(null,arguments)}function T5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T5(Object(n),!0).forEach(function(r){Sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sre(e,t,n){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nre(e){var t=jre(e,"string");return typeof t=="symbol"?t:t+""}function jre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ga.axis};function Cre(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=Vr(Vr(Vr({},l),ro(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Vr(Vr({},u),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Vr(Vr({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return g.createElement("line",ou({},u,{className:En("recharts-cartesian-axis-line",tu(s,"className"))}))}function Mre(e,t,n,r,a,i,o,s,l){var u,d,f,p,m,h,v=s?-1:1,b=e.tickSize||o,y=$t(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,p=n+ +!s*a,f=p-v*b,h=f-v*l,m=y;break;case"left":f=p=e.coordinate,d=t+ +!s*r,u=d-v*b,m=u-v*l,h=y;break;case"right":f=p=e.coordinate,d=t+ +s*r,u=d+v*b,m=u+v*l,h=y;break;default:u=d=e.coordinate,p=n+ +s*a,f=p+v*b,h=f+v*l,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function Are(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ere(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Dre(e){var{option:t,tickProps:n,value:r}=e,a,i=En(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,Vr(Vr({},n),{},{className:i}));else if(typeof t=="function")a=t(Vr(Vr({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=En(o,t==null?void 0:t.className)),a=g.createElement(Qy,ou({},n,{className:o}),r)}return a}var Tre=g.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:d,mirror:f,x:p,y:m,width:h,height:v,tickSize:b,tickMargin:y,fontSize:x,letterSpacing:w,getTicksConfig:S,events:C,axisType:j}=e,A=AN(Vr(Vr({},S),{},{ticks:n}),x,w),T=Are(d,f),R=Ere(d,f),D=ro(S),I=bd(r),O={};typeof a=="object"&&(O=a);var q=Vr(Vr({},D),{},{fill:"none"},O),Y=A.map(te=>Vr({entry:te},Mre(te,p,m,h,v,d,b,f,y))),ie=Y.map(te=>{var{entry:H,line:W}=te;return g.createElement(Ga,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},a&&g.createElement("line",ou({},q,W,{className:En("recharts-cartesian-axis-tick-line",tu(a,"className"))})))}),ke=Y.map((te,H)=>{var{entry:W,tick:k}=te,V=Vr(Vr(Vr(Vr({textAnchor:T,verticalAnchor:R},D),{},{stroke:"none",fill:i},I),k),{},{index:H,payload:W,visibleTicksCount:A.length,tickFormatter:o,padding:l},u);return g.createElement(Ga,ou({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},Vk(C,W,H)),r&&g.createElement(Dre,{option:r,tickProps:V,value:"".concat(typeof o=="function"?o(W.value,H):W.value).concat(s||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},ke.length>0&&g.createElement(co,{zIndex:ga.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},ke)),ie.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},ie))}),Pre=g.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,u=wre(e,xre),[d,f]=g.useState(""),[p,m]=g.useState(""),h=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return bre({ticks:h.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=g.useCallback(b=>{if(b){var y=b.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=y;var x=y[0];if(x){var w=window.getComputedStyle(x),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==p)&&(f(S),m(C))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:g.createElement(co,{zIndex:e.zIndex},g.createElement(Ga,{className:En("recharts-cartesian-axis",i)},g.createElement(Cre,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ro(e)}),g.createElement(Tre,{ref:v,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(NL,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(CL,{label:e.label,labelRef:e.labelRef}),e.children)))}),EN=g.forwardRef((e,t)=>{var n=Kr(e,Rs);return g.createElement(Pre,ou({},n,{ref:t}))});EN.displayName="CartesianAxis";var Ore=["x1","y1","x2","y2","key"],Ire=["offset"],_re=["xAxisId","yAxisId"],Lre=["xAxisId","yAxisId"];function P5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(n),!0).forEach(function(r){Fre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fre(e,t,n){return(t=$re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $re(e){var t=Rre(e,"string");return typeof t=="symbol"?t:t+""}function Rre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$c.apply(null,arguments)}function N0(e,t){if(e==null)return{};var n,r,a=Bre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Bre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ure=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return g.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iF(e){var{option:t,lineItemProps:n}=e,r;if(g.isValidElement(t))r=g.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:u}=n,d=N0(n,Ore),f=(a=ro(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=N0(f,Ire);r=g.createElement("line",$c({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:u}))}return r}function zre(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=N0(e,_re),l=a.map((u,d)=>{var f=_a(_a({},s),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(iF,{key:"line-".concat(d),option:r,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Vre(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=N0(e,Lre),l=a.map((u,d)=>{var f=_a(_a({},s),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return g.createElement(iF,{option:r,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Wre(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],h=m?a+o-f:u[p+1]-f;if(h<=0)return null;var v=p%t.length;return g.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function qre(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],h=m?a+o-f:u[p+1]-f;if(h<=0)return null;var v=p%n.length;return g.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Hre=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return C4(AN(_a(_a(_a({},Rs),n),{},{ticks:M4(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},Kre=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return C4(AN(_a(_a(_a({},Rs),n),{},{ticks:M4(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},Gre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ga.grid};function Qs(e){var t=lS(),n=cS(),r=R4(),a=_a(_a({},Kr(e,Gre)),{},{x:$t(e.x)?e.x:r.left,y:$t(e.y)?e.y:r.top,width:$t(e.width)?e.width:r.width,height:$t(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=Qa(),v=Et(R=>TA(R,"xAxis",i,h)),b=Et(R=>TA(R,"yAxis",o,h));if(!is(u)||!is(d)||!$t(s)||!$t(l))return null;var y=a.verticalCoordinatesGenerator||Hre,x=a.horizontalCoordinatesGenerator||Kre,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof x=="function"){var C=p&&p.length,j=x({yAxis:b?_a(_a({},b),{},{ticks:C?p:b.ticks}):void 0,width:t??u,height:n??d,offset:r},C?!0:f);Yg(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(w=j)}if((!S||!S.length)&&typeof y=="function"){var A=m&&m.length,T=y({xAxis:v?_a(_a({},v),{},{ticks:A?m:v.ticks}):void 0,width:t??u,height:n??d,offset:r},A?!0:f);Yg(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(S=T)}return g.createElement(co,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Ure,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(Wre,$c({},a,{horizontalPoints:w})),g.createElement(qre,$c({},a,{verticalPoints:S})),g.createElement(zre,$c({},a,{offset:r,horizontalPoints:w,xAxis:v,yAxis:b})),g.createElement(Vre,$c({},a,{offset:r,verticalPoints:S,xAxis:v,yAxis:b}))))}Qs.displayName="CartesianGrid";var Yre={},oF=pi({name:"errorBars",initialState:Yre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Cye,replaceErrorBar:Mye,removeErrorBar:Aye}=oF.actions,Xre=oF.reducer,Zre=["children"];function Qre(e,t){if(e==null)return{};var n,r,a=Jre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},tae=g.createContext(eae);function nae(e){var{children:t}=e,n=Qre(e,Zre);return g.createElement(tae.Provider,{value:n},t)}function sF(e,t){var n,r,a=Et(u=>ss(u,e)),i=Et(u=>ls(u,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:da.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:fa.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function rae(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=MN(),{needClipX:i,needClipY:o,needClip:s}=sF(t,n);if(!s||!a)return null;var{x:l,y:u,width:d,height:f}=a;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:i?l:l-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var lF=(e,t,n,r)=>F_(e,"xAxis",t,r),cF=(e,t,n,r)=>L_(e,"xAxis",t,r),uF=(e,t,n,r)=>F_(e,"yAxis",n,r),dF=(e,t,n,r)=>L_(e,"yAxis",n,r),aae=be([Wn,lF,uF,cF,dF],(e,t,n,r,a)=>nc(e,"xAxis")?gw(t,r,!1):gw(n,a,!1)),iae=(e,t,n,r,a)=>a;function oae(e){return e.type==="line"}var sae=be([g_,iae],(e,t)=>e.filter(oae).find(n=>n.id===t)),lae=be([Wn,lF,uF,cF,dF,sae,aae,FS],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(u,d+1),m!=null)return qae({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function cae(e){var t=bd(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var km=g;km.useSyncExternalStore;km.useRef;km.useEffect;km.useMemo;km.useDebugValue;function uae(e){e()}function dae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){uae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var O5={notify(){},get:()=>[]};function fae(e,t){let n,r=O5,a=0,i=!1;function o(v){d();const b=r.subscribe(v);let y=!1;return()=>{y||(y=!0,b(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function u(){return i}function d(){a++,n||(n=e.subscribe(l),r=dae())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=O5)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var pae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mae=pae(),hae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gae=hae(),yae=()=>mae||gae?g.useLayoutEffect:g.useEffect,vae=yae();function I5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function bae(e,t){if(I5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!I5(e[n[a]],t[n[a]]))return!1;return!0}var _5=Symbol.for("react-redux-context"),L5=typeof globalThis<"u"?globalThis:{};function xae(){if(!g.createContext)return{};const e=L5[_5]??(L5[_5]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var wae=xae();function kae(e){const{children:t,context:n,serverState:r,store:a}=e,i=g.useMemo(()=>{const l=fae(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=g.useMemo(()=>a.getState(),[a]);vae(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||wae;return g.createElement(s.Provider,{value:i},t)}var Sae=kae,Nae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function jae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function DN(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Nae.has(r)){if(e[r]==null&&t[r]==null)continue;if(!bae(e[r],t[r]))return!1}else if(!jae(e[r],t[r]))return!1;return!0}var Cae=["id"],Mae=["type","layout","connectNulls","needClip","shape"],Aae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_p.apply(null,arguments)}function F5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(n),!0).forEach(function(r){Eae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eae(e,t,n){return(t=Dae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dae(e){var t=Tae(e,"string");return typeof t=="symbol"?t:t+""}function Tae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TN(e,t){if(e==null)return{};var n,r,a=Pae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Oae=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Cy(n,t),payload:e}]},Iae=g.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Cy(o,t),hide:s,type:u,color:r,unit:l,graphicalItemId:d}};return g.createElement(YL,{tooltipEntrySettings:f})}),fF=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function _ae(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Lae=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return fF(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>i){s=[...n.slice(0,l),i-u];break}var d=s.length%2===0?[0,o]:[o];return[..._ae(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function Fae(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=TN(r,Cae),u=ro(l);return g.createElement(yne,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:o,clipPathId:t})}function $ae(e){var{showLabels:t,children:n,points:r}=e,a=g.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Qo(Qo({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(Mee,{value:t?a:void 0},n)}function $5(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:u,shape:d}=i,f=TN(i,Mae),p=Qo(Qo({},Ba(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(GL,_p({shapeType:"curve",option:d},p,{pathRef:n})),g.createElement(Fae,{points:r,clipPathId:t,props:i}))}function Rae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Bae(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:v,onAnimationStart:b}=n,y=a.current,x=Fy(o,"recharts-line-"),w=g.useRef(x),[S,C]=g.useState(!1),j=!S,A=g.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),T=g.useCallback(()=>{typeof b=="function"&&b(),C(!0)},[b]),R=Rae(r.current),D=g.useRef(0);w.current!==x&&(D.current=i.current,w.current=x);var I=D.current;return g.createElement($ae,{points:o,showLabels:j},n.children,g.createElement(Ly,{animationId:x,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:T,key:x},O=>{var q=La(I,R+I,O),Y=Math.min(q,R),ie;if(l)if(s){var ke="".concat(s).split(/[,\s]+/gim).map(W=>parseFloat(W));ie=Lae(Y,R,ke)}else ie=fF(R,Y);else ie=s==null?void 0:String(s);if(O>0&&R>0&&(a.current=o,i.current=Math.max(i.current,Y)),y){var te=y.length/o.length,H=O===1?o:o.map((W,k)=>{var V=Math.floor(k*te);if(y[V]){var P=y[V];return Qo(Qo({},W),{},{x:La(P.x,W.x,O),y:La(P.y,W.y,O)})}return p?Qo(Qo({},W),{},{x:La(m*2,W.x,O),y:La(h/2,W.y,O)}):Qo(Qo({},W),{},{x:W.x,y:W.y})});return a.current=H,g.createElement($5,{props:n,points:H,clipPathId:t,pathRef:r,strokeDasharray:ie})}return g.createElement($5,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:ie})}),g.createElement(PL,{label:n.label}))}function Uae(e){var{clipPathId:t,props:n}=e,r=g.useRef(null),a=g.useRef(0),i=g.useRef(null);return g.createElement(Bae,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var zae=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:or(e.payload,t)}};class Vae extends g.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:u,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=En("recharts-line",a),v=f,{r:b,strokeWidth:y}=cae(n),x=HL(n),w=b*2+y,S=p?"url(#clipPath-".concat(x?"":"dots-").concat(v,")"):void 0;return g.createElement(co,{zIndex:m},g.createElement(Ga,{className:h},p&&g.createElement("defs",null,g.createElement(rae,{clipPathId:v,xAxisId:i,yAxisId:o}),!x&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-w/2,y:s-w/2,width:u+w,height:d+w}))),g.createElement(nae,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:zae,errorBarOffset:0},g.createElement(Uae,{props:this.props,clipPathId:v}))),g.createElement(Fne,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var pF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ga.line,type:"linear"};function Wae(e){var t=Kr(e,pF),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:v}=t,b=TN(t,Aae),{needClip:y}=sF(m,h),x=MN(),w=Qp(),S=Qa(),C=Et(D=>lae(D,m,h,S,v));if(w!=="horizontal"&&w!=="vertical"||C==null||x==null)return null;var{height:j,width:A,x:T,y:R}=x;return g.createElement(Vae,_p({},b,{id:v,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:m,yAxisId:h,points:C,layout:w,height:j,width:A,left:T,top:R,needClip:y}))}function qae(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((u,d)=>{var f=or(u,o);if(t==="horizontal"){var p=VC({axis:n,ticks:a,bandSize:s,entry:u,index:d}),m=ta(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:u}}var h=ta(f)?null:n.scale(f),v=VC({axis:r,ticks:i,bandSize:s,entry:u,index:d});return h==null||v==null?null:{x:h,y:v,value:f,payload:u}}).filter(Boolean)}function Hae(e){var t=Kr(e,pF),n=Qa();return g.createElement(XL,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(kte,{legendPayload:Oae(t)}),g.createElement(Iae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),g.createElement(Lte,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(Wae,_p({},t,{id:r}))))}var ii=g.memo(Hae,DN);ii.displayName="Line";var Kae=["domain","range"],Gae=["domain","range"];function R5(e,t){if(e==null)return{};var n,r,a=Yae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function B5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function mF(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=R5(e,Kae),{domain:i,range:o}=t,s=R5(t,Gae);return!B5(n,i)||!B5(r,o)?!1:DN(a,s)}var Xae=["dangerouslySetInnerHTML","ticks","scale"],Zae=["id","scale"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gw.apply(null,arguments)}function U5(e,t){if(e==null)return{};var n,r,a=Qae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jae(e){var t=Gn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(kne(e)):n.current!==e&&t(Sne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Nne(n.current)),n.current=null)},[t]),null}var eie=e=>{var{xAxisId:t,className:n}=e,r=Et(T4),a=Qa(),i="xAxis",o=Et(y=>__(y,i,t,a)),s=Et(y=>aZ(y,t)),l=Et(y=>uZ(y,t)),u=Et(y=>p_(y,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=U5(e,Xae),{id:h,scale:v}=u,b=U5(u,Zae);return g.createElement(EN,Gw({},m,b,{x:l.x,y:l.y,width:s.width,height:s.height,className:En("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},tie={allowDataOverflow:da.allowDataOverflow,allowDecimals:da.allowDecimals,allowDuplicatedCategory:da.allowDuplicatedCategory,angle:da.angle,axisLine:Rs.axisLine,height:da.height,hide:!1,includeHidden:da.includeHidden,interval:da.interval,minTickGap:da.minTickGap,mirror:da.mirror,orientation:da.orientation,padding:da.padding,reversed:da.reversed,scale:da.scale,tick:da.tick,tickCount:da.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:da.type,xAxisId:0},nie=e=>{var t=Kr(e,tie);return g.createElement(g.Fragment,null,g.createElement(Jae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(eie,t))},Js=g.memo(nie,mF);Js.displayName="XAxis";var rie=["dangerouslySetInnerHTML","ticks","scale"],aie=["id","scale"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(null,arguments)}function z5(e,t){if(e==null)return{};var n,r,a=iie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function iie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oie(e){var t=Gn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(jne(e)):n.current!==e&&t(Cne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Mne(n.current)),n.current=null)},[t]),null}var sie=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=g.useRef(null),o=g.useRef(null),s=Et(T4),l=Qa(),u=Gn(),d="yAxis",f=Et(j=>pZ(j,t)),p=Et(j=>fZ(j,t)),m=Et(j=>__(j,d,t,l)),h=Et(j=>m_(j,t));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||SN(a)||g.isValidElement(a)||h==null)){var j=i.current;if(j){var A=j.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&u(Ane({id:t,width:A}))}}},[m,f,u,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:v,ticks:b,scale:y}=e,x=z5(e,rie),{id:w,scale:S}=h,C=z5(h,aie);return g.createElement(EN,Yw({},x,C,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:En("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},lie={allowDataOverflow:fa.allowDataOverflow,allowDecimals:fa.allowDecimals,allowDuplicatedCategory:fa.allowDuplicatedCategory,angle:fa.angle,axisLine:Rs.axisLine,hide:!1,includeHidden:fa.includeHidden,interval:fa.interval,minTickGap:fa.minTickGap,mirror:fa.mirror,orientation:fa.orientation,padding:fa.padding,reversed:fa.reversed,scale:fa.scale,tick:fa.tick,tickCount:fa.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:fa.type,width:fa.width,yAxisId:0},cie=e=>{var t=Kr(e,lie);return g.createElement(g.Fragment,null,g.createElement(oie,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(sie,t))},el=g.memo(cie,mF);el.displayName="YAxis";var uie=(e,t)=>t,PN=be([uie,Wn,u_,ra,J_,ol,EQ,ba],LQ),ON=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},hF=oo("mouseClick"),gF=Yp();gF.startListening({actionCreator:hF,effect:(e,t)=>{var n=e.payload,r=PN(t.getState(),ON(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(MZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Xw=oo("mouseMove"),yF=Yp(),jh=null;yF.startListening({actionCreator:Xw,effect:(e,t)=>{var n=e.payload;jh!==null&&cancelAnimationFrame(jh);var r=ON(n);jh=requestAnimationFrame(()=>{var a=t.getState(),i=pN(a,a.tooltip.settings.shared);if(i==="axis"){var o=PN(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(q_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(W_())}jh=null})}});function die(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var V5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},vF=pi({name:"rootProps",initialState:V5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:V5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),fie=vF.reducer,{updateOptions:pie}=vF.actions,bF=pi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:mie}=bF.actions,hie=bF.reducer,xF=oo("keyDown"),wF=oo("focus"),IN=Yp();IN.startListening({actionCreator:xF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=mN(a,qd(n),lm(n),dm(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=ol(n);if(i==="Enter"){var u=y0(n,"axis","hover",String(a.index));t.dispatch(Uw({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=yZ(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=y0(n,"axis","hover",String(m));t.dispatch(Uw({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});IN.startListening({actionCreator:wF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=y0(n,"axis","hover",String(i));t.dispatch(Uw({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var qi=oo("externalEvent"),kF=Yp(),Cb=new Map;kF.startListening({actionCreator:qi,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=Cb.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:pQ(s),activeDataKey:rL(s),activeIndex:Ad(s),activeLabel:nL(s),activeTooltipIndex:Ad(s),isTooltipActive:mQ(s)};n(l,r)}finally{Cb.delete(a)}});Cb.set(a,o)}}});var gie=be([Vd],e=>e.tooltipItemPayloads),yie=be([gie,um,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),SF=oo("touchMove"),NF=Yp();NF.startListening({actionCreator:SF,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=pN(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=PN(r,ON({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(q_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(E4),f=(s=u.getAttribute(D4))!==null&&s!==void 0?s:void 0,p=Wd(r).find(v=>v.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=yie(r,d,f);t.dispatch(V_({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var vie=ZO({brush:$ne,cartesianAxis:Ene,chartData:fJ,errorBars:Xre,graphicalItems:Ite,layout:GW,legend:Yq,options:sJ,polarAxis:$ee,polarOptions:hie,referenceElements:Yne,rootProps:fie,tooltip:AZ,zIndex:XQ}),bie=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return bW({reducer:vie,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([gF.middleware,yF.middleware,IN.middleware,kF.middleware,NF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(f4({type:"raf"}))},devTools:{serialize:{replacer:die},name:"recharts-".concat(t)}})};function jF(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Qa(),i=g.useRef(null);if(a)return n;i.current==null&&(i.current=bie(t,r));var o=Qk;return g.createElement(Sae,{context:o,store:i.current},n)}function xie(e){var{layout:t,margin:n}=e,r=Gn(),a=Qa();return g.useEffect(()=>{a||(r(qW(t)),r(WW(n)))},[r,a,t,n]),null}var CF=g.memo(xie,DN);function MF(e){var t=Gn();return g.useEffect(()=>{t(pie(e))},[t,e]),null}function W5(e){var{zIndex:t,isPanorama:n}=e,r=g.useRef(null),a=Gn();return g.useLayoutEffect(()=>(r.current&&a(GQ({zIndex:t,element:r.current,isPanorama:n})),()=>{a(YQ({zIndex:t,isPanorama:n}))}),[a,t,n]),g.createElement("g",{tabIndex:-1,ref:r})}function q5(e){var{children:t,isPanorama:n}=e,r=Et($Q);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return g.createElement(g.Fragment,null,a.map(o=>g.createElement(W5,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>g.createElement(W5,{key:o,zIndex:o,isPanorama:n})))}var wie=["children"];function kie(e,t){if(e==null)return{};var n,r,a=Sie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Sie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(null,arguments)}var Nie={width:"100%",height:"100%",display:"block"},jie=g.forwardRef((e,t)=>{var n=lS(),r=cS(),a=Z4();if(!is(n)||!is(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),g.createElement(Lk,j0({},o,{title:s,desc:l,role:d,tabIndex:u,width:n,height:r,style:Nie,ref:t}),i)}),Cie=e=>{var{children:t}=e,n=Et(Dy);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return g.createElement(Lk,{width:r,height:a,x:o,y:i},t)},H5=g.forwardRef((e,t)=>{var{children:n}=e,r=kie(e,wie),a=Qa();return a?g.createElement(Cie,null,g.createElement(q5,{isPanorama:!0},n)):g.createElement(jie,j0({ref:t},r),g.createElement(q5,{isPanorama:!1},n))});function Mie(){var e=Gn(),[t,n]=g.useState(null),r=Et(cq);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;ur(i)&&i!==r&&e(KW(i))}},[t,e,r]),n}function K5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Aie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(n),!0).forEach(function(r){Eie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eie(e,t,n){return(t=Die(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Die(e){var t=Tie(e,"string");return typeof t=="symbol"?t:t+""}function Tie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(null,arguments)}var Pie=()=>(wJ(),null);function C0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Oie=g.forwardRef((e,t)=>{var n,r,a=g.useRef(null),[i,o]=g.useState({containerWidth:C0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:C0((r=e.style)===null||r===void 0?void 0:r.height)}),s=g.useCallback((u,d)=>{o(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var p=h=>{var{width:v,height:b}=h[0].contentRect;s(v,b)},m=new ResizeObserver(p);m.observe(u),a.current=m}},[t,s]);return g.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[s]),g.createElement(g.Fragment,null,g.createElement(Ty,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",su({ref:l},e)))}),Iie=g.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=g.useState({containerWidth:C0(n),containerHeight:C0(r)}),o=g.useCallback((l,u)=>{i(d=>{var f=Math.round(l),p=Math.round(u);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();o(u,d)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(Ty,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",su({ref:s},e)))}),_ie=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return g.createElement(g.Fragment,null,g.createElement(Ty,{width:n,height:r}),g.createElement("div",su({ref:t},e)))}),Lie=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return Hs(n)||Hs(r)?g.createElement(Iie,su({},e,{ref:t})):g.createElement(_ie,su({},e,{ref:t}))});function Fie(e){return e===!0?Oie:Lie}var $ie=g.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:v,style:b,width:y,responsive:x,dispatchTouchEvents:w=!0}=e,S=g.useRef(null),C=Gn(),[j,A]=g.useState(null),[T,R]=g.useState(null),D=Mie(),I=sS(),O=(I==null?void 0:I.width)>0?I.width:y,q=(I==null?void 0:I.height)>0?I.height:a,Y=g.useCallback(L=>{D(L),typeof t=="function"&&t(L),A(L),R(L),L!=null&&(S.current=L)},[D,t,A,R]),ie=g.useCallback(L=>{C(hF(L)),C(qi({handler:i,reactEvent:L}))},[C,i]),ke=g.useCallback(L=>{C(Xw(L)),C(qi({handler:u,reactEvent:L}))},[C,u]),te=g.useCallback(L=>{C(W_()),C(qi({handler:d,reactEvent:L}))},[C,d]),H=g.useCallback(L=>{C(Xw(L)),C(qi({handler:f,reactEvent:L}))},[C,f]),W=g.useCallback(()=>{C(wF())},[C]),k=g.useCallback(L=>{C(xF(L.key))},[C]),V=g.useCallback(L=>{C(qi({handler:o,reactEvent:L}))},[C,o]),P=g.useCallback(L=>{C(qi({handler:s,reactEvent:L}))},[C,s]),N=g.useCallback(L=>{C(qi({handler:l,reactEvent:L}))},[C,l]),F=g.useCallback(L=>{C(qi({handler:p,reactEvent:L}))},[C,p]),z=g.useCallback(L=>{C(qi({handler:v,reactEvent:L}))},[C,v]),Z=g.useCallback(L=>{w&&C(SF(L)),C(qi({handler:h,reactEvent:L}))},[C,w,h]),se=g.useCallback(L=>{C(qi({handler:m,reactEvent:L}))},[C,m]),K=Fie(x);return g.createElement(uL.Provider,{value:j},g.createElement(X3.Provider,{value:T},g.createElement(K,{width:O??(b==null?void 0:b.width),height:q??(b==null?void 0:b.height),className:En("recharts-wrapper",r),style:Aie({position:"relative",cursor:"default",width:O,height:q},b),onClick:ie,onContextMenu:V,onDoubleClick:P,onFocus:W,onKeyDown:k,onMouseDown:N,onMouseEnter:ke,onMouseLeave:te,onMouseMove:H,onMouseUp:F,onTouchEnd:se,onTouchMove:Z,onTouchStart:z,ref:Y},g.createElement(Pie,null),n)))}),Rie=["width","height","responsive","children","className","style","compact","title","desc"];function Bie(e,t){if(e==null)return{};var n,r,a=Uie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Uie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AF=g.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:u,desc:d}=e,f=Bie(e,Rie),p=ro(f);return l?g.createElement(g.Fragment,null,g.createElement(Ty,{width:n,height:r}),g.createElement(H5,{otherAttributes:p,title:u,desc:d},i)):g.createElement($ie,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(H5,{otherAttributes:p,title:u,desc:d,ref:t},g.createElement(Xne,null,i)))});function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zw.apply(null,arguments)}var zie={top:5,right:5,bottom:5,left:5},Vie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:zie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Wie=g.forwardRef(function(e,t){var n,r=Kr(e.categoricalChartProps,Vie),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,u={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return g.createElement(jF,{preloadedState:{options:u},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},g.createElement(JL,{chartData:l.data}),g.createElement(CF,{layout:r.layout,margin:r.margin}),g.createElement(MF,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),g.createElement(AF,Zw({},r,{ref:t})))}),qie=["axis"],Xl=g.forwardRef((e,t)=>g.createElement(Wie,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qie,tooltipPayloadSearcher:fL,categoricalChartProps:e,ref:t}));function Hie(e){var t=Gn();return g.useEffect(()=>{t(mie(e))},[t,e]),null}var Kie=["layout"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qw.apply(null,arguments)}function Gie(e,t){if(e==null)return{};var n,r,a=Yie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xie={top:5,right:5,bottom:5,left:5},EF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Zie=g.forwardRef(function(e,t){var n,r=Kr(e.categoricalChartProps,EF),{layout:a}=r,i=Gie(r,Kie),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(jF,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},g.createElement(JL,{chartData:r.data}),g.createElement(CF,{layout:a,margin:r.margin}),g.createElement(MF,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),g.createElement(Hie,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),g.createElement(AF,Qw({},i,{ref:t})))});function G5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Y5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G5(Object(n),!0).forEach(function(r){Qie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qie(e,t,n){return(t=Jie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jie(e){var t=eoe(e,"string");return typeof t=="symbol"?t:t+""}function eoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var toe=["item"],noe=Y5(Y5({},EF),{},{layout:"centric",startAngle:0,endAngle:360}),Jw=g.forwardRef((e,t)=>{var n=Kr(e,noe);return g.createElement(Zie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:toe,tooltipPayloadSearcher:fL,categoricalChartProps:n,ref:t})});const wn=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>c.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>c.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),X5="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",qf=new Map,cd=new Map,roe=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(qf.has(r)||cd.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&qf.set(r,o),o})();cd.set(r,a);try{await a}finally{cd.delete(r)}}))},aoe=e=>{const[t,n]=g.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:qf.get(e)||X5:null});return g.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=qf.get(e);if(a){n(a);return}let i=!0;const o=cd.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&qf.set(e,l),l})();return cd.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n(X5)}}).finally(()=>{cd.delete(e)}),()=>{i=!1}},[e]),t},ioe=(e,t,n,r)=>{const[a,i]=g.useState("bottom"),[o,s]=g.useState(0);return g.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(A=>{let T=(A==null?void 0:A.parentElement)||null;for(;T;){const R=window.getComputedStyle(T),D=`${R.overflow}${R.overflowY}${R.overflowX}`;if(/(auto|scroll|hidden)/.test(D))return T;T=T.parentElement}return null})(u),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},v=h.bottom-f.bottom,b=f.top-h.top,y=v<p.height+8&&b>v?"top":"bottom";i(y);const x=6,w=f.left+f.width/2,S=h.left+x+p.width/2,C=h.right-x-p.width/2,j=Math.min(Math.max(w,S),C);s(j-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},ooe=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},DF=(e,t,n,r,a=8)=>{const[i,o]=g.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return g.useEffect(()=>{if(!e)return;const s=()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,v=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),b=f.left+f.width/2,y=a+p.width/2,x=window.innerWidth-a-p.width/2,w=Math.min(Math.max(b,y),x);o({position:"fixed",top:v,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},soe=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Ic(a||"Unknown"),o=r.length>1,[s,l]=g.useState(!1),u=g.useRef(null),d=g.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=ioe(s,[r.length,f],u,d),h=Array.from(new Set(r.map(x=>Fs(x||"Unknown")))).slice(0,4),v=h.length>1?`conic-gradient(${h.map((x,w)=>`${x} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const b=p==="top"?"bottom-full mb-2":"top-full mt-2",y={transform:`translateX(calc(-50% + ${m}px))`};return c.jsxs("span",{ref:u,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[c.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&c.jsxs(c.Fragment,{children:[c.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:v},children:c.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),c.jsxs("div",{ref:d,style:y,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${b} ${s?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),c.jsx("div",{className:"space-y-1",children:r.map(x=>{const w=Ic(x||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[w?c.jsx("img",{src:w,alt:x||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:x||"Unknown"})]},x)})})]})]})]})},loe=(e,t,n="w-4 h-4 object-contain")=>c.jsx(soe,{profession:e,professionList:t,className:n}),Mb=({count:e,classCounts:t,label:n,className:r})=>{const a=ooe(t||{}),i=e>0,[o,s]=g.useState(!1),l=g.useRef(null),u=g.useRef(null),d=DF(o,[a.length,e],l,u);return c.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[c.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&Ld.createPortal(c.jsxs("div",{ref:u,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${o?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?c.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>c.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const v=Ic(m||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[v?c.jsx("img",{src:v,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):c.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},vr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a="",truncateText:i=!0})=>{const o=aoe(t);return c.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[o?c.jsx("img",{src:o,alt:e,className:`${r} shrink-0`}):null,c.jsx("span",{className:`${i?"truncate":""} ${a}`,children:e})]})},Z5=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=g.useState(!1),s=g.useRef(null),l=g.useRef(null),u=g.useRef(null),d=DF(i,[n.length],s,l),f=()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},p=()=>{f(),u.current=window.setTimeout(()=>{o(!1),u.current=null},140)},m=h=>{const v=h.currentTarget;if(v.scrollHeight<=v.clientHeight)return;const b=h.deltaY;b!==0&&(h.preventDefault(),h.stopPropagation(),v.scrollTop+=b)};return g.useEffect(()=>()=>f(),[]),c.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>{f(),o(!0)},onMouseLeave:()=>{p()},children:[c.jsx("span",{children:e}),a&&typeof document<"u"&&Ld.createPortal(c.jsxs("div",{ref:l,style:d,onMouseEnter:f,onMouseLeave:p,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-100 shadow-lg pointer-events-auto ${i?"block":"hidden"}`,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1 pr-2",style:{scrollbarGutter:"stable",overscrollBehavior:"contain"},onWheel:m,children:n.map(h=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate text-white",children:c.jsx(vr,{name:h.name,iconUrl:h.iconUrl,iconClassName:"h-6 w-6"})}),c.jsx("span",{className:"text-gray-100 font-mono",children:h.value})]},h.name))})]}),document.body)]})},coe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:u,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:v,setSkillUsagePlayerFilter:b,skillUsageView:y,setSkillUsageView:x,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:j,setSelectedSkillId:A,skillBarData:T,selectedSkillName:R,selectedSkillIcon:D,skillUsageReady:I,skillUsageAvailable:O,isSkillUsagePerSecond:q,skillChartData:Y,skillChartMaxY:ie,playerTotalsForSkill:ke,hoveredSkillPlayer:te,setHoveredSkillPlayer:H,getLineStrokeColor:W,getLineDashForPlayer:k,formatSkillUsageValue:V,renderProfessionIcon:P})=>c.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Nk,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(wn,{value:y,onChange:x,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]})]}),s.length>0&&c.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[c.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(N=>{const F=d.get(N);return F?c.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[c.jsx("span",{className:"truncate max-w-[140px]",children:F.displayName}),c.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[F.logs," ",F.logs===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>u(F.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:c.jsx(D3,{className:"w-3 h-3"})})]},F.key):null})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),c.jsx("input",{type:"search",value:v,onChange:N=>b(N.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(N=>{const F=p===N.profession,z=N.players.map(se=>se.key),Z=z.length>0&&z.every(se=>s.includes(se));return c.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[c.jsx("button",{type:"button",onClick:()=>{if(F){m(null);return}m(N.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${F?"bg-white/10":"hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[P(N.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:N.profession})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsxs("span",{className:"text-[10px]",children:[N.players.length,"p"]}),F?c.jsx(Yx,{className:"w-3.5 h-3.5"}):c.jsx(i8,{className:"w-3.5 h-3.5"})]})]})}),F&&c.jsxs("div",{className:"pb-2",children:[c.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[c.jsxs("span",{children:[N.players.length," ",N.players.length===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>{l(se=>{if(Z)return se.filter(L=>!z.includes(L));const K=new Set(se);return z.forEach(L=>K.add(L)),Array.from(K)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:Z?"Clear All":"Select All"})]}),N.players.map(se=>{const K=s.includes(se.key);return c.jsx("button",{type:"button",onClick:()=>h(se.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${K?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:se.displayName}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[se.account,"  ",se.profession,"  ",se.logs," ",se.logs===1?"log":"logs"]})]}),K&&c.jsx(M3,{className:"w-4 h-4 text-cyan-300"})]})},se.key)})]})]},N.profession)})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),c.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${q?"casts/sec":"total casts"}`:"Select players"})]}),c.jsx("input",{type:"search",value:S,onChange:N=>C(N.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):T.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const N=T.reduce((F,z)=>Math.max(F,z.total),0)||1;return c.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:T.map((F,z)=>{const Z=Math.min(100,F.total/N*100),se=j===F.skillId;return c.jsxs("button",{type:"button",onClick:()=>A(F.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${se?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${z+1}`}),c.jsx(vr,{name:F.name,iconUrl:F.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),c.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:V(F.total)})]}),c.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:c.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Z}%`,backgroundColor:F.color}})})]},F.skillId)})})})()})]})]}),c.jsx("div",{className:"space-y-3",children:I?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R?c.jsx(vr,{name:R,iconUrl:D,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",q?"casts per second":"casts per log",")"]})]}),c.jsx(Eo,{width:"100%",height:250,children:c.jsxs(Xl,{data:Y,children:[c.jsx(Qs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Js,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:N=>{const F=Y[N],z=String((F==null?void 0:F.shortLabel)??N);return z.length>20?`${z.slice(0,20)}`:z}}),c.jsx(el,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ie)],allowDecimals:!1}),c.jsx(Do,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:N,payload:F,label:z})=>{var Z;if(!N||!F||F.length===0)return null;const se=[...F].sort((B,ne)=>(ne.value||0)-(B.value||0)),K=se[0],L=((Z=K==null?void 0:K.payload)==null?void 0:Z.fullLabel)||z;return c.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[c.jsx("div",{className:"text-sm text-white mb-1",children:L}),c.jsx("div",{className:"space-y-1",children:se.map(B=>{const ne=String(B.name||""),$=d.get(ne),le=($==null?void 0:$.displayName)||ne||"Player",ye=V(Number(B.value||0)),G=B.color||"#38bdf8";return c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"truncate",style:{color:G},children:le}),c.jsx("span",{className:"text-gray-200 font-mono",children:ye})]},`${le}-${ye}`)})})]})}}),s.map(N=>{const F=te.includes(N),z=te.length>0,Z=W(N,F,z),se=k(N),K=te.length>0&&!F;return c.jsx(ii,{dataKey:N,stroke:Z,strokeWidth:F?4:3,strokeDasharray:se,opacity:K?.6:1,dot:!1,isAnimationActive:s.length<=16,animationDuration:420,animationEasing:"ease-out"},N)})]})})]}),s.length>0&&c.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((N,F)=>(ke.get(F)||0)-(ke.get(N)||0)).map(N=>{const F=d.get(N),z=ke.get(N)??0,Z=te.includes(N),se=te.length>0,K=W(N,Z,se);return c.jsxs("button",{type:"button",onClick:()=>{H(L=>L.includes(N)?L.filter(B=>B!==N):[...L,N])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${Z?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":Z,children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:c.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:K,strokeWidth:"2",strokeDasharray:k(N),strokeLinecap:"round"})}),P(F==null?void 0:F.profession,F==null?void 0:F.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),c.jsx("div",{className:"font-semibold text-white truncate",children:(F==null?void 0:F.displayName)||N}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[(F==null?void 0:F.logs)??0," ",((F==null?void 0:F.logs)??0)===1?"log":"logs"]})]})]}),c.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:V(z)})]},N)})})]})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),uoe=({containerRef:e,className:t=""})=>{const n=g.useRef(null),[r,a]=g.useState(0),[i,o]=g.useState(0),s=g.useRef(!1),l=g.useRef(0),u=g.useRef(0);g.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=p,j=w>S,A=n.current,T=(A==null?void 0:A.clientWidth)||0;if(!T){m=window.requestAnimationFrame(h);return}if(!j){a(T),o(0);return}const R=S/w,D=Math.max(20,Math.floor(T*R)),I=w-S,O=Math.max(0,T-D),q=I>0?Math.floor(C/I*O):0;a(D),o(q)};h();const v=()=>h(),b=new ResizeObserver(h);b.observe(p);const y=p.firstElementChild;y instanceof HTMLElement&&b.observe(y),n.current&&b.observe(n.current);const x=new MutationObserver(()=>h());return x.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",v),()=>{m&&window.cancelAnimationFrame(m),b.disconnect(),x.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",v)}},[e]),g.useEffect(()=>{const p=h=>{if(!s.current)return;const v=n.current,b=e.current;if(!v||!b)return;const y=v.getBoundingClientRect(),x=h.clientX-l.current,w=Math.max(0,y.width-r),S=Math.min(w,Math.max(0,u.current+x)),C=b.scrollWidth-b.clientWidth,j=w>0?S/w*C:0;b.scrollLeft=j},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const v=m.getBoundingClientRect(),b=p.clientX-v.left,y=Math.max(0,v.width-r),x=Math.min(y,Math.max(0,b-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=y>0?x/y*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,u.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return c.jsx("div",{className:`scroll-scrubber ${t}`,children:c.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:c.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},To=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const u=g.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return c.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&c.jsxs("div",{className:"dense-table__header",children:[e&&c.jsx("div",{className:"dense-table__title",children:e}),t&&c.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&c.jsx("div",{className:"dense-table__controls",children:n}),c.jsx("div",{ref:u,className:"dense-table__scroll",children:c.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[c.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:c.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return c.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?c.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[c.jsx("span",{className:"truncate",children:f.label}),m&&c.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):c.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>c.jsxs("div",{className:"dense-table__row",children:[c.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>c.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),c.jsx(uoe,{containerRef:u})]})},Po=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=g.useState(""),[s,l]=g.useState(!1),[u,d]=g.useState(0),f=g.useRef(null),p=g.useRef(null),m=g.useRef(new Map);g.useEffect(()=>{const y=x=>{f.current&&(f.current.contains(x.target)||l(!1))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const h=g.useMemo(()=>{const y=i.trim().toLowerCase();return y?e.filter(x=>x.label.toLowerCase().includes(y)).slice(0,50):e.slice(0,50)},[e,i]),v=g.useMemo(()=>{const y=new Map;return h.forEach((x,w)=>{y.set(`${x.type}-${x.id}`,w)}),y},[h]),b=g.useMemo(()=>{const y=h.filter(w=>w.type==="column"),x=h.filter(w=>w.type==="player");return{columns:y,players:x}},[h]);return g.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(y=>Math.min(Math.max(y,0),h.length-1))}},[h,s]),g.useEffect(()=>{if(!s)return;const y=h[u];if(!y)return;const x=`${y.type}-${y.id}`,w=m.current.get(x);w&&p.current&&w.scrollIntoView({block:"nearest"})},[u,h,s]),c.jsxs("div",{ref:f,className:`relative ${a}`,children:[c.jsx("input",{value:i,onChange:y=>{o(y.target.value),l(!0)},onKeyDown:y=>{if(!s&&(y.key==="ArrowDown"||y.key==="ArrowUp")){l(!0);return}if(s)if(y.key==="ArrowDown"){if(y.preventDefault(),h.length===0)return;d(x=>(x+1)%h.length)}else if(y.key==="ArrowUp"){if(y.preventDefault(),h.length===0)return;d(x=>(x-1+h.length)%h.length)}else if(y.key==="Enter"){y.preventDefault();const x=h[u];if(!x)return;r(x),o(""),l(!1)}else y.key==="Escape"&&(y.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&c.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):c.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[b.columns.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),b.columns.map(y=>{const x=(t==null?void 0:t.has(`${y.type}:${y.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${y.type}-${y.id}`,w)},onClick:()=>{r(y),o(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${y.type}-${y.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${y.type}-${y.id}`)?"bg-white/10 border-white/10":""} ${x?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[y.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:y.icon}):null,c.jsx("span",{className:"truncate",children:y.label})]})},`${y.type}-${y.id}`)})]}),b.players.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),b.players.map(y=>{const x=(t==null?void 0:t.has(`${y.type}:${y.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${y.type}-${y.id}`,w)},onClick:()=>{r(y),o(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${y.type}-${y.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${y.type}-${y.id}`)?"bg-white/10 border-white/10":""} ${x?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[y.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:y.icon}):null,c.jsx("span",{className:"truncate",children:y.label})]})},`${y.type}-${y.id}`)})]})]})})]})},br=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=g.useState(!1),u=g.useRef(null),d=new Set(t);return g.useEffect(()=>{const f=p=>{u.current&&(u.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),c.jsxs("div",{ref:u,className:`relative ${a}`,children:[c.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?c.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,c.jsx("span",{children:i}),t.length>0&&c.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&c.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[c.jsx("span",{children:"Filter Columns"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),c.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>c.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,c.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},doe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:u,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:v,setActiveApmSkillId:b,ALL_SKILLS_KEY:y,apmSkillSearch:x,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:j,apmView:A,setApmView:T,formatApmValue:R,formatCastRateValue:D,formatCastCountValue:I,renderProfessionIcon:O})=>{var q;const[Y,ie]=g.useState({key:"apm",dir:"desc"}),ke=e==="apm-stats",[te,H]=g.useState({columnId:"",dir:"desc"}),[W,k]=g.useState([]),[V,P]=g.useState([]),[N,F]=g.useState({}),z=ke?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,Z=K=>{ie(L=>({key:K,dir:L.key===K&&L.dir==="desc"?"asc":"desc"}))},se=g.useMemo(()=>{const K=[...(S==null?void 0:S.playerRows)||[]];return K.sort((L,B)=>{const ne=Y.key==="apm"?Number(A==="perSecond"?L.aps:L.apm):Number(A==="perSecond"?L.apsNoAuto:L.apmNoAuto),$=Y.key==="apm"?Number(A==="perSecond"?B.aps:B.apm):Number(A==="perSecond"?B.apsNoAuto:B.apmNoAuto);return(Y.dir==="desc"?$-ne:ne-$)||String(L.displayName||"").localeCompare(String(B.displayName||""))}),K},[S,Y,A]);return c.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ak,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),c.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:x,onChange:K=>w(K.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),c.jsx("div",{className:z,children:d.map(K=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const L=f!==K.profession;p(K.profession),h(L?K.profession:m===K.profession?null:K.profession),L&&(b(y),k([]),P([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===K.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(K.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:K.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[K.players.length,"p"]})})]})}),!ke&&m===K.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:N[K.profession]||"",onChange:L=>{const B=L.target.value;F(ne=>({...ne,[K.profession]:B}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),c.jsx("button",{type:"button",onClick:()=>{p(K.profession),b(y)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===K.profession&&j?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(K.skills||[]).filter(L=>{const B=(N[K.profession]||"").trim().toLowerCase();return B?String(L.name||"").toLowerCase().includes(B):!0}).map(L=>c.jsx("button",{type:"button",onClick:()=>{p(K.profession),b(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===K.profession&&v===L.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?c.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate",children:L.name})]})},L.id)),(K.skills||[]).filter(L=>{const B=(N[K.profession]||"").trim().toLowerCase();return B?String(L.name||"").toLowerCase().includes(B):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},K.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?c.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ke&&(()=>{const K=S.skills||[],L=(S.playerRows||[]).map(le=>({id:le.key,label:le.displayName||le.account||le.key,icon:O(le.profession,le.professionList,"w-3 h-3")})),B=K.map(le=>({id:le.id,label:le.name,icon:le.icon?c.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ne=[...K.map(le=>({id:le.id,label:le.name,type:"column",icon:le.icon?c.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(le=>({id:le.key,label:le.displayName||le.account||le.key,type:"player",icon:O(le.profession,le.professionList,"w-3 h-3")}))],$=new Set([...W.map(le=>`column:${le}`),...V.map(le=>`player:${le}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:ne,selectedIds:$,onSelect:le=>{le.type==="column"?k(ye=>ye.includes(le.id)?ye.filter(G=>G!==le.id):[...ye,le.id]):P(ye=>ye.includes(le.id)?ye.filter(G=>G!==le.id):[...ye,le.id])},className:"w-full sm:w-64"}),c.jsx(br,{options:B,selectedIds:W,onToggle:le=>{k(ye=>ye.includes(le)?ye.filter(G=>G!==le):[...ye,le])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(br,{options:L,selectedIds:V,onToggle:le=>{P(ye=>ye.includes(le)?ye.filter(G=>G!==le):[...ye,le])},onClear:()=>P([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(wn,{value:A,onChange:T,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(W.length>0||V.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{k([]),P([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),W.map(le=>{var ye;const G=((ye=K.find(me=>me.id===le))==null?void 0:ye.name)||le;return c.jsxs("button",{type:"button",onClick:()=>k(me=>me.filter(Te=>Te!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:G}),c.jsx("span",{className:"text-gray-400",children:""})]},le)}),V.map(le=>{var ye;const G=((ye=L.find(me=>me.id===le))==null?void 0:ye.label)||le;return c.jsxs("button",{type:"button",onClick:()=>P(me=>me.filter(Te=>Te!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:G}),c.jsx("span",{className:"text-gray-400",children:""})]},le)})]})]})})(),ke?(()=>{var K,L;const B=S.skills||[],ne=W.length>0?B.filter(G=>W.includes(G.id)):B,$=V.length>0?(S.playerRows||[]).filter(G=>V.includes(G.key)):S.playerRows||[];if(B.length===0)return c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const le=((K=ne.find(G=>G.id===te.columnId))==null?void 0:K.id)||((L=ne[0])==null?void 0:L.id)||"",ye=[...$].map(G=>{const me={},Te={};return ne.forEach(mt=>{var Pe;const ae=Number(((Pe=mt.playerCounts)==null?void 0:Pe.get(G.key))||0),Ue=A==="perSecond"?ae/Math.max(1,G.totalActiveSeconds||0):ae;Te[mt.id]=Ue,me[mt.id]=A==="perSecond"?D(Ue):I(Ue)}),{row:G,values:me,numericValues:Te}}).sort((G,me)=>{const Te=G.numericValues[le]??0,mt=me.numericValues[le]??0;return(te.dir==="desc"?mt-Te:Te-mt)||String(G.row.displayName||"").localeCompare(String(me.row.displayName||""))});return c.jsx(To,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:le,sortDirection:te.dir,onSortColumn:G=>{H(me=>({columnId:G,dir:me.columnId===G&&me.dir==="desc"?"asc":"desc"}))},columns:ne.map(G=>({id:G.id,label:c.jsx(vr,{name:G.name,iconUrl:G.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ye.map((G,me)=>({id:`${S.profession}-${G.row.key}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:me+1}),O(G.row.profession,G.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:G.row.displayName})]}),values:G.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(S.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:S.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),j||!C?c.jsx("span",{className:"truncate",children:"All Skills"}):c.jsx(vr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),c.jsx("div",{className:"text-[11px] text-gray-500",children:j||!C?`${((q=S.playerRows)==null?void 0:q.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),j||!C?c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>Z("apm"),className:`text-right transition-colors ${Y.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM",Y.key==="apm"?Y.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>Z("apmNoAuto"),className:`text-right transition-colors ${Y.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM"," (No Auto)",Y.key==="apmNoAuto"?Y.dir==="desc"?" ":" ":""]})]}):c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsx("div",{className:"text-right",children:"Casts"}),c.jsx("div",{className:"text-right",children:A==="perSecond"?"APS":"APM"})]})]}),j||!C?c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:se.map((K,L)=>c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),O(K.profession,K.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:K.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:R(A==="perSecond"?K.aps:K.apm)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:R(A==="perSecond"?K.apsNoAuto:K.apmNoAuto)})]},`${S.profession}-all-${K.key}`))})}):c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?c.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((K,L)=>c.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),O(K.profession,K.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:K.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:I(Number(K.count||0))}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:R(Number(A==="perSecond"?K.aps||0:K.apm||0))})]},`${S.profession}-${C.id}-${K.key}`))})})]})]}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:u?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},foe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:u,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:v,activePlayerSkillId:b,setActivePlayerSkillId:y,activeClassKey:x,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:j,setActiveClassSkillId:A,skillSearch:T,setSkillSearch:R,activePlayerBreakdown:D,activePlayerSkill:I,activeClassBreakdown:O,activeClassSkill:q,renderProfessionIcon:Y})=>{const ie=d.length,ke=((D==null?void 0:D.skills)||[]).reduce((G,me)=>G+(me.damage||0),0),te=(O==null?void 0:O.players)||[],[H,W]=g.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[V,P]=g.useState([]),[N,F]=g.useState([]),[z,Z]=g.useState({columnId:"",dir:"desc"}),[se,K]=g.useState({}),[L,B]=g.useState({}),ne=(G,me)=>{var Te;return me&&(((Te=G.skillMap)==null?void 0:Te[me])||G.skills.find(Pe=>Pe.id===me))||null},$=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,le=g.useMemo(()=>{if(!O||!q)return te;const G=[...te];return G.sort((me,Te)=>{const mt=ne(me,q.id),Pe=ne(Te,q.id),ae=Number((mt==null?void 0:mt.downContribution)||0),Ue=Number((Pe==null?void 0:Pe.downContribution)||0),Re=Number((mt==null?void 0:mt.damage)||0),de=Number((Pe==null?void 0:Pe.damage)||0),It=me.totalFightMs>0?Re/(me.totalFightMs/1e3):0,Tn=Te.totalFightMs>0?de/(Te.totalFightMs/1e3):0;let je=0;return H.key==="down"&&(je=ae-Ue),H.key==="damage"&&(je=Re-de),H.key==="dps"&&(je=It-Tn),H.dir==="asc"?je:-je}),G},[O,te,q,H]),ye=G=>{W(me=>me.key!==G?{key:G,dir:"desc"}:{key:G,dir:me.dir==="desc"?"asc":"desc"})};return c.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(jk,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ie," ",ie===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(G=>{const me=l===G.id;return c.jsx("button",{type:"button",onClick:()=>u(G.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${me?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:G.label},G.id)})})]}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:T,onChange:G=>R(G.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:$,children:(k?"class":l)==="player"?d.map(G=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const me=p!==G.key;me&&(y(null),P([]),F([])),m(G.key),v(me?G.key:h===G.key?null:G.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===G.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:G.displayName,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(G.profession,G.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate min-w-0",children:G.displayName})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:c.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[G.skills.length," skills"]})})]})}),!k&&h===G.key&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:se[G.key]||"",onChange:me=>{const Te=me.target.value;K(mt=>({...mt,[G.key]:Te}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),G.skills.filter(me=>{const Te=(se[G.key]||"").trim().toLowerCase();return Te?String(me.name||"").toLowerCase().includes(Te):!0}).map(me=>c.jsx("button",{type:"button",onClick:()=>{m(G.key),y(me.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===G.key&&b===me.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:me.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[me.icon?c.jsx("img",{src:me.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:me.name})]})},me.id)),G.skills.filter(me=>{const Te=(se[G.key]||"").trim().toLowerCase();return Te?String(me.name||"").toLowerCase().includes(Te):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},G.key)):f.map(G=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const me=x!==G.profession;me&&(A(null),P([]),F([])),w(G.profession),C(me?G.profession:S===G.profession?null:G.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${x===G.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(G.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:G.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[G.players.length,"p"]})})]})}),!k&&S===G.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:L[G.profession]||"",onChange:me=>{const Te=me.target.value;B(mt=>({...mt,[G.profession]:Te}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),G.skills.filter(me=>{const Te=(L[G.profession]||"").trim().toLowerCase();return Te?String(me.name||"").toLowerCase().includes(Te):!0}).map(me=>c.jsx("button",{type:"button",onClick:()=>{w(G.profession),A(me.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${x===G.profession&&j===me.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:me.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[me.icon?c.jsx("img",{src:me.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:me.name})]})},me.id)),G.skills.filter(me=>{const Te=(L[G.profession]||"").trim().toLowerCase();return Te?String(me.name||"").toLowerCase().includes(Te):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},G.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!D||!k&&!I?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const G=D.skills||[],me=d.map(ae=>({id:ae.key,label:ae.displayName||ae.key,icon:Y(ae.profession,ae.professionList,"w-3 h-3")})),Te=G.map(ae=>({id:ae.id,label:ae.name,icon:ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),mt=[...G.map(ae=>({id:ae.id,label:ae.name,type:"column",icon:ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ae=>({id:ae.key,label:ae.displayName||ae.key,type:"player",icon:Y(ae.profession,ae.professionList,"w-3 h-3")}))],Pe=new Set([...V.map(ae=>`column:${ae}`),...N.map(ae=>`player:${ae}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:mt,selectedIds:Pe,onSelect:ae=>{ae.type==="column"?P(Ue=>Ue.includes(ae.id)?Ue.filter(Re=>Re!==ae.id):[...Ue,ae.id]):F(Ue=>Ue.includes(ae.id)?Ue.filter(Re=>Re!==ae.id):[...Ue,ae.id])},className:"w-full sm:w-64"}),c.jsx(br,{options:Te,selectedIds:V,onToggle:ae=>{P(Ue=>Ue.includes(ae)?Ue.filter(Re=>Re!==ae):[...Ue,ae])},onClear:()=>P([]),buttonLabel:"Columns",buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(br,{options:me,selectedIds:N,onToggle:ae=>{F(Ue=>Ue.includes(ae)?Ue.filter(Re=>Re!==ae):[...Ue,ae])},onClear:()=>F([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})})]}),(V.length>0||N.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{P([]),F([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),V.map(ae=>{var Ue;const Re=((Ue=G.find(de=>de.id===ae))==null?void 0:Ue.name)||ae;return c.jsxs("button",{type:"button",onClick:()=>P(de=>de.filter(It=>It!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Re}),c.jsx("span",{className:"text-gray-400",children:""})]},ae)}),N.map(ae=>{var Ue;const Re=((Ue=me.find(de=>de.id===ae))==null?void 0:Ue.label)||ae;return c.jsxs("button",{type:"button",onClick:()=>F(de=>de.filter(It=>It!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Re}),c.jsx("span",{className:"text-gray-400",children:""})]},ae)})]})]})})(),k?(()=>{var G,me;const Te=D.skills||[],mt=V.length>0?Te.filter(Re=>V.includes(Re.id)):Te,Pe=N.length>0?d.filter(Re=>N.includes(Re.key)):d,ae=((G=mt.find(Re=>Re.id===z.columnId))==null?void 0:G.id)||((me=mt[0])==null?void 0:me.id)||"",Ue=Pe.map(Re=>{const de={},It={};return mt.forEach(Tn=>{const je=ne(Re,Tn.id),et=Number((je==null?void 0:je.damage)||0);It[Tn.id]=et,de[Tn.id]=wl(et)}),{player:Re,values:de,numericValues:It}}).sort((Re,de)=>{const It=Re.numericValues[ae]??0,Tn=de.numericValues[ae]??0;return(z.dir==="desc"?Tn-It:It-Tn)||String(Re.player.displayName||"").localeCompare(String(de.player.displayName||""))});return c.jsx(To,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:ae,sortDirection:z.dir,onSortColumn:Re=>{Z(de=>({columnId:Re,dir:de.columnId===Re&&de.dir==="desc"?"asc":"desc"}))},columns:mt.map(Re=>({id:Re.id,label:c.jsx(vr,{name:Re.name,iconUrl:Re.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ue.map((Re,de)=>({id:`${Re.player.key}-${de}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:de+1}),Y(Re.player.profession,Re.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Re.player.displayName})]}),values:Re.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[Y(D.profession,D.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.displayName}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(vr,{name:(I==null?void 0:I.name)||"",iconUrl:I==null?void 0:I.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[D.skills.length," skills | ",wl(ke)," total damage"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Metric"}),c.jsx("div",{className:"text-right",children:"Value"})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:wl((I==null?void 0:I.downContribution)||0)},{label:"Total Damage",value:wl((I==null?void 0:I.damage)||0)},{label:"DPS",value:pa(D.totalFightMs>0?((I==null?void 0:I.damage)||0)/(D.totalFightMs/1e3):0,1)}].map(G=>c.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"font-semibold text-white",children:G.label}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:G.value})]},G.label))})]})]}):!O||!k&&!q?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const G=O.skills||[],me=te.map(ae=>({id:ae.key,label:ae.displayName||ae.key,icon:Y(ae.profession,ae.professionList,"w-3 h-3")})),Te=G.map(ae=>({id:ae.id,label:ae.name,icon:ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),mt=[...G.map(ae=>({id:ae.id,label:ae.name,type:"column",icon:ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...te.map(ae=>({id:ae.key,label:ae.displayName||ae.key,type:"player",icon:Y(ae.profession,ae.professionList,"w-3 h-3")}))],Pe=new Set([...V.map(ae=>`column:${ae}`),...N.map(ae=>`player:${ae}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:mt,selectedIds:Pe,onSelect:ae=>{ae.type==="column"?P(Ue=>Ue.includes(ae.id)?Ue.filter(Re=>Re!==ae.id):[...Ue,ae.id]):F(Ue=>Ue.includes(ae.id)?Ue.filter(Re=>Re!==ae.id):[...Ue,ae.id])},className:"w-full sm:w-64"}),c.jsx(br,{options:Te,selectedIds:V,onToggle:ae=>{P(Ue=>Ue.includes(ae)?Ue.filter(Re=>Re!==ae):[...Ue,ae])},onClear:()=>P([]),buttonLabel:"Columns",buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(br,{options:me,selectedIds:N,onToggle:ae=>{F(Ue=>Ue.includes(ae)?Ue.filter(Re=>Re!==ae):[...Ue,ae])},onClear:()=>F([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})})]}),(V.length>0||N.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{P([]),F([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),V.map(ae=>{var Ue;const Re=((Ue=G.find(de=>de.id===ae))==null?void 0:Ue.name)||ae;return c.jsxs("button",{type:"button",onClick:()=>P(de=>de.filter(It=>It!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Re}),c.jsx("span",{className:"text-gray-400",children:""})]},ae)}),N.map(ae=>{var Ue;const Re=((Ue=me.find(de=>de.id===ae))==null?void 0:Ue.label)||ae;return c.jsxs("button",{type:"button",onClick:()=>F(de=>de.filter(It=>It!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Re}),c.jsx("span",{className:"text-gray-400",children:""})]},ae)})]})]})})(),k?(()=>{var G,me;const Te=O.skills||[],mt=V.length>0?Te.filter(Re=>V.includes(Re.id)):Te,Pe=N.length>0?te.filter(Re=>N.includes(Re.key)):te,ae=((G=mt.find(Re=>Re.id===z.columnId))==null?void 0:G.id)||((me=mt[0])==null?void 0:me.id)||"",Ue=Pe.map(Re=>{const de={},It={};return mt.forEach(Tn=>{const je=ne(Re,Tn.id),et=Number((je==null?void 0:je.damage)||0);It[Tn.id]=et,de[Tn.id]=wl(et)}),{player:Re,values:de,numericValues:It}}).sort((Re,de)=>{const It=Re.numericValues[ae]??0,Tn=de.numericValues[ae]??0;return(z.dir==="desc"?Tn-It:It-Tn)||String(Re.player.displayName||"").localeCompare(String(de.player.displayName||""))});return c.jsx(To,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:ae,sortDirection:z.dir,onSortColumn:Re=>{Z(de=>({columnId:Re,dir:de.columnId===Re&&de.dir==="desc"?"asc":"desc"}))},columns:mt.map(Re=>({id:Re.id,label:c.jsx(vr,{name:Re.name,iconUrl:Re.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ue.map((Re,de)=>({id:`${Re.player.key}-${de}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:de+1}),Y(Re.player.profession,Re.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Re.player.displayName})]}),values:Re.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[Y(O.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(vr,{name:(q==null?void 0:q.name)||"",iconUrl:q==null?void 0:q.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[te.length," players | ",O.skills.length," skills"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ye("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",c.jsx("span",{className:"text-[10px]",children:H.key==="down"?H.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ye("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",c.jsx("span",{className:"text-[10px]",children:H.key==="damage"?H.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ye("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",c.jsx("span",{className:"text-[10px]",children:H.key==="dps"?H.dir==="desc"?"":"":""})]})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:le.map(G=>{const me=ne(G,(q==null?void 0:q.id)||""),Te=Number((me==null?void 0:me.downContribution)||0),mt=Number((me==null?void 0:me.damage)||0),Pe=G.totalFightMs>0?mt/(G.totalFightMs/1e3):0;return c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(G.profession,G.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:G.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:wl(Te)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:wl(mt)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:pa(Pe,1)})]},`${O.profession}-${G.key}`)})})]})]})})]})})]})},poe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,playerSkillBreakdowns:s,renderProfessionIcon:l})=>{const u="damage-breakdown",d=e===u,[f,p]=g.useState("damage"),[m,h]=g.useState(""),[v,b]=g.useState(null),y=A=>Number(f==="damage"?A.damage||0:A.downContribution||0),x=A=>(A.skills||[]).reduce((T,R)=>T+y(R),0),w=g.useMemo(()=>{const A=m.trim().toLowerCase();return[...A?s.filter(T=>String(T.displayName||"").toLowerCase().includes(A)||String(T.account||"").toLowerCase().includes(A)||String(T.profession||"").toLowerCase().includes(A)):s].sort((T,R)=>{const D=x(R)-x(T);return D!==0?D:String(T.displayName||"").localeCompare(String(R.displayName||""))})},[s,m,f]),S=g.useMemo(()=>v&&w.find(A=>A.key===v)||null,[w,v]),C=g.useMemo(()=>S?[...S.skills||[]].filter(A=>y(A)>0).sort((A,T)=>y(T)-y(A)).map(A=>({...A,value:y(A)})):[],[S,f]),j=g.useMemo(()=>S?x(S):0,[S,f]);return g.useEffect(()=>{if(w.length===0){v!==null&&b(null);return}v&&!w.some(A=>A.key===v)&&b(null)},[w,v]),c.jsxs("div",{id:u,"data-section-visible":a(u),"data-section-first":i(u),className:o(u,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(kk,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),c.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[c.jsx(wn,{value:f,onChange:A=>p(A),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>d?r():n(u),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]})]}),s.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"search",value:m,onChange:A=>h(A.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:w.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):w.map(A=>{const T=v===A.key;return c.jsx("button",{type:"button",onClick:()=>b(A.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${T?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"truncate min-w-0",children:A.displayName})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(A.skills||[]).length," ",(A.skills||[]).length===1?"skill":"skills"]})]}),c.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:pa(x(A),0)})]})},A.key)})})]}),c.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:S?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),l(S.profession,S.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate font-semibold",children:S.displayName})]})}),c.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",C.length," ",C.length===1?"skill":"skills"]})]}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),c.jsx("div",{className:"text-right",children:"% Total"})]})]}),c.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:C.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):C.map((A,T)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"min-w-0",children:c.jsx(vr,{name:A.name,iconUrl:A.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:pa(Number(A.value||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:j>0?`${pa(Number(A.value||0)/j*100,1)}%`:"0.0%"})]},`${A.id}-${T}`))})]}):c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},moe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,boonSearch:s,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,timelineScope:p,setTimelineScope:m,playerFilter:h,setPlayerFilter:v,players:b,selectedPlayerKey:y,setSelectedPlayerKey:x,selectedPlayer:w,chartData:S,chartMaxY:C,selectedFightIndex:j,setSelectedFightIndex:A,drilldownTitle:T,drilldownData:R,formatWithCommas:D,renderProfessionIcon:I})=>{const O="boon-timeline",q=e===O,Y=w!=null&&w.profession&&w.profession!=="All"?Fs(w.profession):"#22d3ee",ie=p==="selfBuffs"?"Self":p==="groupBuffs"?"Group":p==="squadBuffs"?"Squad":"All",ke=W=>String(W||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),te=S.reduce((W,k)=>!W||k.total>W.total?k:W,null),H=W=>{if(!Number.isFinite(W)||W<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(W))}catch{return""}};return c.jsxs("div",{id:O,"data-section-visible":a(O),"data-section-first":i(O),className:o(O,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${q?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:q?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ek,{className:"w-5 h-5 text-cyan-300"}),"Boon Timeline"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player (or All) to chart generation totals by fight and 5-second buckets."})]}),c.jsx("button",{type:"button",onClick:()=>q?r():n(O),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${q?"absolute top-2 right-2 md:static":""}`,"aria-label":q?"Close Boon Timeline":"Expand Boon Timeline",title:q?"Close":"Expand",children:q?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:s,onChange:W=>l(W.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(wn,{value:p,onChange:W=>m(W),options:[{value:"selfBuffs",label:"Self"},{value:"squadBuffs",label:"Squad"},{value:"groupBuffs",label:"Group"},{value:"totalBuffs",label:"All"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(W=>{const k=d===W.id;return c.jsxs("button",{type:"button",onClick:()=>f(W.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${k?"border-cyan-300/60 bg-cyan-500/15 text-cyan-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[W.icon?c.jsx("img",{src:W.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(Vc,{className:"h-3.5 w-3.5 text-cyan-300"}),c.jsx("span",{children:W.name})]},W.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Boon Sources"}),c.jsx("input",{type:"search",value:h,onChange:W=>v(W.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:b.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player generation."}):c.jsx("div",{className:"p-1.5 space-y-1",children:b.map(W=>{const k=y===W.key;return c.jsx("button",{type:"button",onClick:()=>x(W.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${k?"border-cyan-300/60 bg-cyan-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[W.key==="__all__"?c.jsx(Vc,{className:"w-3.5 h-3.5 text-cyan-300"}):I(W.profession,W.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:W.displayName}),W.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:W.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[W.logs," ",W.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-cyan-200 shrink-0",children:D((W.total||0)/1e3,0)})]})},W.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",ie," Generation"]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[S.length," ",S.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!w||S.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon generation by fight."}):c.jsx(Eo,{width:"100%",height:"100%",children:c.jsxs(Xl,{data:S,onClick:W=>{const k=Number(W==null?void 0:W.activeTooltipIndex);Number.isFinite(k)&&A(j===k?null:k)},children:[c.jsx(Qs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Js,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(el,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,C)],tickFormatter:W=>D(W/1e3,0)}),c.jsx(Do,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(W,k)=>[D(Number(W||0)/1e3,0),String(k||"")],labelFormatter:(W,k)=>{var V;const P=(V=k==null?void 0:k[0])==null?void 0:V.payload;return ke(String((P==null?void 0:P.fullLabel)||""))}}),c.jsx(ii,{type:"monotone",dataKey:"total",name:w.displayName,stroke:Y,strokeWidth:3,dot:W=>{var k;const V=Number((k=W==null?void 0:W.payload)==null?void 0:k.index);if(!Number.isFinite(V))return null;const P=j===V;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:N=>{N.stopPropagation(),A(P?null:V)},children:[c.jsx("circle",{cx:W.cx,cy:W.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:W.cx,cy:W.cy,r:P?4:3,fill:Y,stroke:P?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:P?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(ii,{type:"monotone",dataKey:"maxTotal",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),w&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Source"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[w.key==="__all__"?c.jsx(Vc,{className:"w-4 h-4 text-cyan-300"}):I(w.profession,w.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:w.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight Generation"}),c.jsx("div",{className:"mt-1 text-lg font-black text-cyan-200 font-mono",children:D(Number((te==null?void 0:te.total)||0)/1e3,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const W=ke((te==null?void 0:te.fullLabel)||"N/A"),k=H(Number((te==null?void 0:te.timestamp)||0));return k?`${k} - ${W}`:W})()})]})]}),w&&j!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:T}),c.jsx("button",{type:"button",onClick:()=>A(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:R.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Eo,{width:"100%",height:"100%",children:c.jsxs(Xl,{data:R,children:[c.jsx(Qs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Js,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(el,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:W=>D(W/1e3,0)}),c.jsx(Do,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:W=>[D(Number(W||0)/1e3,0),"Generation"],labelFormatter:W=>String(W||"")}),c.jsx(ii,{type:"monotone",dataKey:"value",name:"Generation",stroke:Y,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}})]})})})]})]})},hoe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,boonSearch:s,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,playerFilter:p,setPlayerFilter:m,players:h,selectedPlayerKey:v,setSelectedPlayerKey:b,selectedPlayer:y,chartData:x,chartMaxY:w,selectedFightIndex:S,setSelectedFightIndex:C,drilldownTitle:j,drilldownData:A,overallUptimePercent:T,showStackCapLine:R=!1,formatWithCommas:D,renderProfessionIcon:I})=>{const O="boon-uptime",q=e===O,Y=y!=null&&y.profession&&y.profession!=="All"?Fs(y.profession):"#f59e0b",ie=N=>String(N||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ke=x.reduce((N,F)=>!N||F.peak>N.peak?F:N,null),te=R?Math.ceil(Math.max(1,w)+3):Math.max(1,w),H=Math.max(1,...A.map(N=>Math.max(0,Number((N==null?void 0:N.value)||0))),...R?[25]:[]),W=R?Math.ceil(Math.max(1,H)+3):Math.max(1,H),k=R?"average":"uptimePercent",V=R?"Per Fight Average Stacks":"Per Fight Uptime %",P=N=>{if(!Number.isFinite(N)||N<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(N))}catch{return""}};return c.jsxs("div",{id:O,"data-section-visible":a(O),"data-section-first":i(O),className:o(O,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${q?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:q?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Vf,{className:"w-5 h-5 text-amber-300"}),"Boon Uptime"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player to chart per-fight peak stacks and drill into 5-second fight buckets."})]}),c.jsx("button",{type:"button",onClick:()=>q?r():n(O),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${q?"absolute top-2 right-2 md:static":""}`,"aria-label":q?"Close Boon Uptime":"Expand Boon Uptime",title:q?"Close":"Expand",children:q?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:s,onChange:N=>l(N.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(N=>{const F=d===N.id;return c.jsxs("button",{type:"button",onClick:()=>f(N.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${F?"border-amber-300/60 bg-amber-500/15 text-amber-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[N.icon?c.jsx("img",{src:N.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(Vc,{className:"h-3.5 w-3.5 text-amber-300"}),c.jsx("span",{children:N.name})]},N.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Players"}),c.jsx("input",{type:"search",value:p,onChange:N=>m(N.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:h.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player uptime."}):c.jsx("div",{className:"p-1.5 space-y-1",children:h.map(N=>{const F=v===N.key;return c.jsx("button",{type:"button",onClick:()=>b(N.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${F?"border-amber-300/60 bg-amber-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[N.key==="__all__"?c.jsx(Vf,{className:"w-3.5 h-3.5 text-amber-300"}):I(N.profession,N.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:N.displayName}),N.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:N.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[N.logs," ",N.logs===1?"fight":"fights"]})]}),c.jsxs("div",{className:"text-xs font-mono text-amber-200 shrink-0",children:[D(Number(N.uptimePercent||0),1),"%"]})]})},N.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:V}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[x.length," ",x.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!y||x.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon uptime by fight."}):c.jsx(Eo,{width:"100%",height:"100%",children:c.jsxs(Xl,{data:x,onClick:N=>{const F=Number(N==null?void 0:N.activeTooltipIndex);Number.isFinite(F)&&C(S===F?null:F)},children:[c.jsx(Qs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Js,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(el,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,te],tickFormatter:N=>R?D(N,0):`${D(N,0)}%`}),c.jsx(Do,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(N,F)=>[R?D(Number(N||0),1):`${D(Number(N||0),1)}%`,String(F||"")],labelFormatter:(N,F)=>{var z;const Z=(z=F==null?void 0:F[0])==null?void 0:z.payload;return ie(String((Z==null?void 0:Z.fullLabel)||""))}}),c.jsx(ii,{type:"monotone",dataKey:k,name:y.displayName,stroke:Y,strokeWidth:3,dot:N=>{var F;const z=Number((F=N==null?void 0:N.payload)==null?void 0:F.index);if(!Number.isFinite(z))return null;const Z=S===z;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:se=>{se.stopPropagation(),C(Z?null:z)},children:[c.jsx("circle",{cx:N.cx,cy:N.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:N.cx,cy:N.cy,r:Z?4:3,fill:Y,stroke:Z?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Z?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),R&&c.jsx(Kw,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]}),y&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[y.key==="__all__"?c.jsx(Vf,{className:"w-4 h-4 text-amber-300"}):I(y.profession,y.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:y.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Overall Uptime"}),c.jsx("div",{className:"mt-1 text-lg font-black text-amber-200 font-mono",children:T===null?"--":`${D(Number(T||0),1)}%`})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const N=ie((ke==null?void 0:ke.fullLabel)||"N/A"),F=P(Number((ke==null?void 0:ke.timestamp)||0));return F?`${F} - ${N}`:N})()})]})]}),y&&S!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:j}),c.jsx("button",{type:"button",onClick:()=>C(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:A.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Eo,{width:"100%",height:"100%",children:c.jsxs(Xl,{data:A,children:[c.jsx(Qs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Js,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(el,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,W]}),c.jsx(Do,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(N,F)=>[D(Number(N||0),0),String(F||"")],labelFormatter:N=>String(N||"")}),c.jsx(ii,{type:"monotone",dataKey:"value",name:"Selected",stroke:Y,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}}),R&&c.jsx(Kw,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]})},TF=({className:e})=>c.jsx(v8,{className:e,style:{transform:"rotate(45deg)"}}),sl=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>c.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[c.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),c.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),Oo=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"stats-table-shell__header",children:e}),c.jsx("div",{className:"stats-table-shell__columns",children:t})]}),c.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),goe=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:y,sidebarListClass:x})=>{var w;const[S,C]=g.useState({key:"value",dir:"desc"}),[j,A]=g.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),T=f==="offense-detailed",[R,D]=g.useState([]),[I,O]=g.useState([]),q=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),Y=t.map(k=>({id:k.id,label:k.label})),ie=Y.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),ke=R.length>0?t.filter(k=>R.includes(k.id)):t,te=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),H=new Set([...R.map(k=>`column:${k}`),...I.map(k=>`player:${k}`)]),W=k=>{C(V=>({key:k,dir:V.key===k&&V.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"offense-detailed","data-section-visible":v("offense-detailed"),"data-section-first":b("offense-detailed"),className:y("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(TF,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):T?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:[...Y.map(k=>({...k,type:"column"})),...te.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?D(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id]):O(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id])},selectedIds:H,className:"w-full sm:w-64"}),c.jsx(br,{options:ie,selectedIds:R,onToggle:k=>{D(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>D([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(br,{options:te,selectedIds:I,onToggle:k=>{O(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(wn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(R.length>0||I.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{D([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(k=>{var V;const P=((V=Y.find(N=>N.id===k))==null?void 0:V.label)||k;return c.jsxs("button",{type:"button",onClick:()=>D(N=>N.filter(F=>F!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),I.map(k=>c.jsxs("button",{type:"button",onClick:()=>O(V=>V.filter(P=>P!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:q.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,V;const P=se=>Math.max(1,(se.totalFightMs||0)/1e3),N=(se,K,L)=>{var B,ne,$,le,ye;if(K==="downContributionPercent"){const G=((B=se.offenseTotals)==null?void 0:B.downContribution)||0,me=((ne=se.offenseTotals)==null?void 0:ne.damage)||0;return me>0?G/me*100:0}if(L.isRate){const G=(($=se.offenseRateWeights)==null?void 0:$[K])||0,me=((le=se.offenseTotals)==null?void 0:le[K])||0;return G>0?me/G*100:0}return((ye=se.offenseTotals)==null?void 0:ye[K])||0},F=(se,K)=>{const L=n&&!K.isPercent&&s==="total"?0:2,B=u(se,L);return K.isPercent?`${B}%`:B},z=((k=ke.find(se=>se.id===j.columnId))==null?void 0:k.id)||((V=ke[0])==null?void 0:V.id)||"",Z=[...e.offensePlayers].filter(se=>I.length===0||I.includes(se.account)).map(se=>{const K={},L={};return ke.forEach(B=>{const ne=N(se,B.id,B),$=s==="total"||B.isPercent||B.isRate?ne:s==="per1s"?ne/P(se):ne*60/P(se);L[B.id]=$,K[B.id]=F($,B)}),{row:se,values:K,numericValues:L}}).sort((se,K)=>{const L=se.numericValues[z]??0,B=K.numericValues[z]??0;return(j.dir==="desc"?B-L:L-B)||String(se.row.account||"").localeCompare(String(K.row.account||""))});return c.jsx(To,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:z,sortDirection:j.dir,onSortColumn:se=>{A(K=>({columnId:se,dir:K.columnId===se&&K.dir==="desc"?"asc":"desc"}))},columns:ke.map(se=>({id:se.id,label:se.label,align:"right",minWidth:90})),rows:Z.map((se,K)=>({id:`${se.row.account}-${K}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:K+1}),d(se.row.profession,se.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:se.row.account})]}),values:se.values}))})})()})]}):c.jsx(sl,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${x} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:q.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):q.map(k=>c.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const k=t.find(z=>z.id===i)||t[0],V=z=>Math.max(1,(z.totalFightMs||0)/1e3),P=z=>{var Z,se,K,L,B;if(k.id==="downContributionPercent"){const ne=((Z=z.offenseTotals)==null?void 0:Z.downContribution)||0,$=((se=z.offenseTotals)==null?void 0:se.damage)||0;return $>0?ne/$*100:0}if(k.isRate){const ne=((K=z.offenseRateWeights)==null?void 0:K[k.id])||0,$=((L=z.offenseTotals)==null?void 0:L[k.id])||0;return ne>0?$/ne*100:0}return((B=z.offenseTotals)==null?void 0:B[k.id])||0},N=z=>{const Z=n&&!k.isPercent&&s==="total"?0:2,se=u(z,Z);return k.isPercent?`${se}%`:se},F=[...e.offensePlayers].map(z=>({...z,total:P(z),per1s:k.isPercent||k.isRate?P(z):P(z)/V(z),per60s:k.isPercent||k.isRate?P(z):P(z)*60/V(z)})).sort((z,Z)=>{const se=S.key==="fightTime"?Number(z.totalFightMs||0):Number(s==="total"?z.total:s==="per1s"?z.per1s:z.per60s),K=S.key==="fightTime"?Number(Z.totalFightMs||0):Number(s==="total"?Z.total:s==="per1s"?Z.per1s:Z.per60s);return(S.dir==="desc"?K-se:se-K)||z.account.localeCompare(Z.account)});return c.jsx(Oo,{expanded:f==="offense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:c.jsx(wn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>W("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>W("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:F.map((z,Z)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:Z+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(z.profession,z.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:z.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const se=s==="total"?z.total:s==="per1s"?z.per1s:z.per60s;return N(se)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:z.totalFightMs?`${(z.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${z.account}-${Z}`))})})})()})})]})},yoe=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:u,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var C;const j=m==="conditions-outgoing",[A,T]=g.useState([]),[R,D]=g.useState([]),[I,O]=g.useState({columnId:"all",dir:"desc"}),q=k=>{if(!k)return 0;if(o!=="outgoing"){const F=Number(k.applicationsFromUptime);return Number.isFinite(F)&&F>0?F:Number(k.applications||0)}const V=Number(k.applicationsFromUptime);if(Number.isFinite(V)&&V>0)return V;const P=Number(k.applicationsFromBuffsActive);if(Number.isFinite(P)&&P>0)return P;const N=Number(k.applicationsFromBuffs);return Number.isFinite(N)&&N>0?N:Number(k.applications||0)},Y=[...e||[]].sort((k,V)=>(V.damage||0)-(k.damage||0)),ie=Y.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),ke=ie.map(k=>({id:k.name,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),te=A.length>0?Y.filter(k=>A.includes(k.name)):Y,H=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),W=new Set([...A.map(k=>`column:${k}`),...R.map(k=>`player:${k}`)]);return c.jsxs("div",{id:"conditions-outgoing","data-section-visible":y("conditions-outgoing"),"data-section-first":x("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ay,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),c.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?b():v("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),e&&e.length>0?j?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:[...Y.map(k=>({id:k.name,label:k.name,type:"column"})),...H.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?T(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id]):D(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id])},selectedIds:W,className:"w-full sm:w-64"}),c.jsx(br,{options:ke,selectedIds:A,onToggle:k=>{T(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>T([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(br,{options:H,selectedIds:R,onToggle:k=>{D(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(wn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&c.jsx(wn,{value:u.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ie.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=u.key,V=[{id:"all",label:"All Conditions",icon:null},...te],P=(t||[]).filter(z=>R.length===0||R.includes(z.account)).map(z=>{const Z=z.conditions||{},se={},K={};return V.forEach(L=>{if(L.id==="all"||L.name==="All Conditions"){const $=Object.values(Z).reduce((ye,G)=>{const me=q(G);return ye.applications+=Number(me||0),ye.damage+=Number((G==null?void 0:G.damage)||0),ye},{applications:0,damage:0}),le=k==="applications"?$.applications:$.damage;K.all=le||0,se.all=Math.round(le||0).toLocaleString();return}const B=Z[L.name],ne=k==="applications"?q(B):Number((B==null?void 0:B.damage)||0);K[L.name]=Number(ne||0),se[L.name]=Math.round(ne||0).toLocaleString()}),{player:z,values:se,numericValues:K}}).filter(z=>Object.values(z.values).some(Z=>Z!=="0")),N=["all",...te.map(z=>z.name)].includes(I.columnId)?I.columnId:"all",F=[...P].sort((z,Z)=>{const se=z.numericValues[N]??0,K=Z.numericValues[N]??0;return(I.dir==="desc"?K-se:se-K)||String(z.player.account||"").localeCompare(String(Z.player.account||""))});return c.jsx(To,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:N,sortDirection:I.dir,onSortColumn:z=>{O(Z=>({columnId:z,dir:Z.columnId===z&&Z.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...te.map(z=>({id:z.name,label:c.jsx(vr,{name:z.name,iconUrl:z.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:F.map((z,Z)=>({id:`${z.player.account}-${Z}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:Z+1}),p(z.player.profession,z.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:z.player.account})]}),values:z.values}))})})()}),(A.length>0||R.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(k=>c.jsxs("button",{type:"button",onClick:()=>T(V=>V.filter(P=>P!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k)),R.map(k=>c.jsxs("button",{type:"button",onClick:()=>D(V=>V.filter(P=>P!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):c.jsx(sl,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ie.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ie.map(k=>c.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(vr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:c.jsx(Oo,{expanded:m==="conditions-outgoing",header:c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":c.jsx(vr,{name:a,iconUrl:(C=e.find(k=>k.name===a))==null?void 0:C.icon,iconClassName:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),c.jsx(wn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:c.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:u.key==="applications"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",u.key==="applications"?u.dir==="desc"?"":"":""]}),f?c.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:u.key==="damage"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",u.key==="damage"?u.dir==="desc"?"":"":""]}):null]}),rows:c.jsx(c.Fragment,{children:(()=>{const k=(t||[]).map(V=>{const P=V.conditions||{};if(a==="all"){const F=Object.values(P).reduce((z,Z)=>{const se=q(Z);return z.applications+=Number(se||0),z.damage+=Number((Z==null?void 0:Z.damage)||0),z},{applications:0,damage:0});return{...V,applications:F.applications,damage:F.damage}}const N=P[a];return{...V,applications:q(N),damage:Number((N==null?void 0:N.damage)||0)}}).filter(V=>V.applications>0||V.damage>0).sort((V,P)=>{const N=u.key==="applications"?V.applications||0:V.damage||0,F=u.key==="applications"?P.applications||0:P.damage||0,z=u.dir==="desc"?F-N:N-F;if(z!==0)return z;const Z=u.key==="applications"?(P.damage||0)-(V.damage||0):(P.applications||0)-(V.applications||0);return Z!==0?Z:String(V.account||"").localeCompare(String(P.account||""))});return k.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map((V,P)=>{var N;const F=V.conditions||{};let z={};a==="all"?Object.values(F).forEach($=>{const le=($==null?void 0:$.skills)||{};Object.values(le).forEach(ye=>{const G=(ye==null?void 0:ye.name)||"Unknown",me=Number((ye==null?void 0:ye.hits)||0),Te=Number((ye==null?void 0:ye.damage)||0);if((!Number.isFinite(me)||me<=0)&&(!Number.isFinite(Te)||Te<=0))return;const mt=z[G]||{name:G,hits:0,damage:0,icon:ye==null?void 0:ye.icon};mt.hits+=Number.isFinite(me)?me:0,mt.damage+=Number.isFinite(Te)?Te:0,!mt.icon&&ye!=null&&ye.icon&&(mt.icon=ye.icon),z[G]=mt})}):z=((N=F[a])==null?void 0:N.skills)||{};const Z=Object.values(z).filter($=>Number.isFinite($.hits)&&$.hits>0).sort(($,le)=>le.hits-$.hits||$.name.localeCompare(le.name)),se=Object.values(z).filter($=>Number.isFinite($.damage)&&$.damage>0).sort(($,le)=>le.damage-$.damage||$.name.localeCompare(le.name)),K=a==="all"&&Z.length>0,L=a==="all"&&se.length>0,B=Math.round(V.applications||0).toLocaleString(),ne=Math.round(V.damage||0).toLocaleString();return c.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:P+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(V.profession,V.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:V.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:K?c.jsx(Z5,{value:B,label:"Condition Sources",items:Z.map($=>({name:$.name,iconUrl:$.icon,value:Math.round($.hits).toLocaleString()})),className:"justify-end"}):B}),f?c.jsx("div",{className:"text-right font-mono text-gray-300",children:L?c.jsx(Z5,{value:ne,label:"Condition Damage Sources",items:se.map($=>({name:$.name,iconUrl:$.icon,value:Math.round($.damage).toLocaleString()})),className:"justify-end"}):ne}):null]},`${V.account}-${P}`)})})()})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},voe=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:u,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:v,expandedSectionClosing:b,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:j})=>{const[A,T]=g.useState({key:"value",dir:"desc"}),[R,D]=g.useState({columnId:"",dir:"desc"}),I=v==="boon-output",[O,q]=g.useState([]),[Y,ie]=g.useState([]),ke=e.boonTables||[],te=O.length>0?ke.filter(P=>O.includes(P.id)):ke,H=l.map(P=>({id:P.id,label:P.name,icon:P.icon?c.jsx("img",{src:P.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),W=Array.from(new Map((e.boonTables||[]).flatMap(P=>P.rows||[]).filter(P=>P.account).map(P=>[P.account,P])).values()).map(P=>({id:P.account,label:P.account,icon:m(P.profession,P.professionList,"w-3 h-3")})),k=new Set([...O.map(P=>`column:${P}`),...Y.map(P=>`player:${P}`)]),V=P=>{T(N=>({key:P,dir:N.key===P&&N.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${v==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${b?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Vc,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),c.jsx("button",{type:"button",onClick:()=>v==="boon-output"?x():y("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":v==="boon-output"?"Close Boon Output":"Expand Boon Output",title:v==="boon-output"?"Close":"Expand",children:v==="boon-output"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),e.boonTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):I?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:[...ke.map(P=>({id:P.id,label:P.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(P=>P.rows||[]).filter(P=>P.account).map(P=>[P.account,P])).values()).map(P=>({id:P.account,label:P.account,type:"player",icon:m(P.profession,P.professionList,"w-3 h-3")}))],onSelect:P=>{P.type==="column"?q(N=>N.includes(P.id)?N.filter(F=>F!==P.id):[...N,P.id]):ie(N=>N.includes(P.id)?N.filter(F=>F!==P.id):[...N,P.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(br,{options:H,selectedIds:O,onToggle:P=>{q(N=>N.includes(P)?N.filter(F=>F!==P):[...N,P])},onClear:()=>q([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(br,{options:W,selectedIds:Y,onToggle:P=>{ie(N=>N.includes(P)?N.filter(F=>F!==P):[...N,P])},onClear:()=>ie([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(wn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||Y.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{q([]),ie([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(P=>{var N;const F=((N=ke.find(z=>z.id===P))==null?void 0:N.name)||P;return c.jsxs("button",{type:"button",onClick:()=>q(z=>z.filter(Z=>Z!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:F}),c.jsx("span",{className:"text-gray-400",children:""})]},P)}),Y.map(P=>c.jsxs("button",{type:"button",onClick:()=>ie(N=>N.filter(F=>F!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},P))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ke.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var P,N;const F=te,z=((P=F.find(L=>L.id===R.columnId))==null?void 0:P.id)||(i&&F.some(L=>L.id===i)?i:void 0)||((N=F[0])==null?void 0:N.id)||"",Z=new Map,se=new Map;F.forEach(L=>{const B=new Map;L.rows.forEach(ne=>{const $=ne.account||ne.name||ne.id;$&&(B.set($,ne),se.has($)||se.set($,ne))}),Z.set(L.id,B)});const K=Array.from(se.entries()).filter(([L])=>Y.length===0||Y.includes(String(L))).map(([L,B])=>{const ne={};return F.forEach($=>{var le;const ye=(le=Z.get($.id))==null?void 0:le.get(L);ne[$.id]=ye?f(ye,t,$.stacking,r,{roundCountStats:h}):"-"}),{key:L,row:B,values:ne}}).sort((L,B)=>{var ne,$;if(!z)return String(L.key).localeCompare(String(B.key));const le=F.find(mt=>mt.id===z),ye=le?(ne=Z.get(le.id))==null?void 0:ne.get(L.key):null,G=le?($=Z.get(le.id))==null?void 0:$.get(B.key):null,me=ye?p(ye,t,le==null?void 0:le.stacking,r):0,Te=G?p(G,t,le==null?void 0:le.stacking,r):0;return(R.dir==="desc"?Te-me:me-Te)||String(L.key).localeCompare(String(B.key))});return c.jsx(To,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:z,sortDirection:R.dir,onSortColumn:L=>{D(B=>({columnId:L,dir:B.columnId===L&&B.dir==="desc"?"asc":"desc"}))},columns:F.map(L=>({id:L.id,label:c.jsx(vr,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:K.map((L,B)=>({id:`${L.key}-${B}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),m(L.row.profession,L.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:L.row.account||L.row.name||L.key})]}),values:L.values}))})})()})]}):c.jsx(sl,{expanded:v==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${v==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${v==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsx("input",{value:u,onChange:P=>d(P.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${j} ${v==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(P=>c.jsx("button",{onClick:()=>o(P.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===P.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(vr,{name:P.name,iconUrl:P.icon,iconClassName:"h-3.5 w-3.5"})},P.id))})]}),content:s?c.jsx(Oo,{expanded:v==="boon-output",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(vr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[c.jsx(wn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>V("value"),className:`text-right transition-colors ${A.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",A.key==="value"?A.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>V("fightTime"),className:`text-right transition-colors ${A.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",A.key==="fightTime"?A.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:[...s.rows].sort((P,N)=>(()=>{const F=A.key==="fightTime"?Number(P.activeTimeMs||0):p(P,t,s.stacking,r),z=A.key==="fightTime"?Number(N.activeTimeMs||0):p(N,t,s.stacking,r);return(A.dir==="desc"?z-F:F-z)||String(P.account||"").localeCompare(String(N.account||""))})()).map((P,N)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(P.profession,P.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:P.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:f(P,t,s.stacking,r,{roundCountStats:h})}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:P.activeTimeMs?`${(P.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${P.account}-${N}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},boe=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:y,sidebarListClass:x})=>{var w;const[S,C]=g.useState({key:"value",dir:"desc"}),[j,A]=g.useState("combined"),[T,R]=g.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),D=f==="defense-detailed",[I,O]=g.useState([]),[q,Y]=g.useState([]),ie=t.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),ke=t.map(F=>({id:F.id,label:F.label})),te=ke.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),H=I.length>0?t.filter(F=>I.includes(F.id)):t,W=Array.from(new Map(e.defensePlayers.map(F=>[F.account,F])).values()).map(F=>({id:F.account,label:F.account,icon:d(F.profession,F.professionList,"w-3 h-3")})),k=new Set([...I.map(F=>`column:${F}`),...q.map(F=>`player:${F}`)]),V=F=>{C(z=>({key:F,dir:z.key===F&&z.dir==="desc"?"asc":"desc"}))},P=F=>F==="minionDamageTaken",N=(F,z)=>z==="combined"?F.map(Z=>({...Z,minionList:Object.entries((Z==null?void 0:Z.minionDamageTakenByMinion)||{}).filter(([,se])=>Number(se||0)>0).sort((se,K)=>Number(K[1]||0)-Number(se[1]||0)).map(([se])=>String(se))})):F.flatMap(Z=>{const se=Object.entries((Z==null?void 0:Z.minionDamageTakenByMinion)||{}).filter(([,K])=>Number(K||0)>0).sort((K,L)=>Number(L[1]||0)-Number(K[1]||0));return se.length===0?[]:se.map(([K,L])=>({...Z,minionName:String(K),defenseTotals:{...Z.defenseTotals||{},minionDamageTaken:Number(L||0)}}))});return c.jsxs("div",{id:"defense-detailed","data-section-visible":v("defense-detailed"),"data-section-first":b("defense-detailed"),className:y("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(vd,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):D?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:[...ke.map(F=>({...F,type:"column"})),...W.map(F=>({...F,type:"player"}))],onSelect:F=>{F.type==="column"?O(z=>z.includes(F.id)?z.filter(Z=>Z!==F.id):[...z,F.id]):Y(z=>z.includes(F.id)?z.filter(Z=>Z!==F.id):[...z,F.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(br,{options:te,selectedIds:I,onToggle:F=>{O(z=>z.includes(F)?z.filter(Z=>Z!==F):[...z,F])},onClear:()=>O([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(br,{options:W,selectedIds:q,onToggle:F=>{Y(z=>z.includes(F)?z.filter(Z=>Z!==F):[...z,F])},onClear:()=>Y([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(wn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),H.some(F=>P(F.id))&&c.jsx(wn,{value:j,onChange:F=>A(F),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||q.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),Y([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(F=>{var z;const Z=((z=ke.find(se=>se.id===F))==null?void 0:z.label)||F;return c.jsxs("button",{type:"button",onClick:()=>O(se=>se.filter(K=>K!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Z}),c.jsx("span",{className:"text-gray-400",children:""})]},F)}),q.map(F=>c.jsxs("button",{type:"button",onClick:()=>Y(z=>z.filter(Z=>Z!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:F}),c.jsx("span",{className:"text-gray-400",children:""})]},F))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ie.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var F,z;const Z=ne=>Math.max(1,(ne.activeMs||0)/1e3),se=(ne,$)=>{const le=$.isPercent,ye=u(ne,l&&!le&&o==="total"?0:2);return le?`${ye}%`:ye},K=((F=H.find(ne=>ne.id===T.columnId))==null?void 0:F.id)||((z=H[0])==null?void 0:z.id)||"",L=[...e.defensePlayers].filter(ne=>q.length===0||q.includes(ne.account)),B=[...H.some(ne=>P(ne.id))?N(L,j):L].map(ne=>{const $={},le={};return H.forEach(ye=>{var G;const me=((G=ne.defenseTotals)==null?void 0:G[ye.id])||0,Te=ye.isPercent,mt=o==="total"||Te?me:o==="per1s"?me/Z(ne):me*60/Z(ne);le[ye.id]=mt,$[ye.id]=se(mt,ye)}),{row:ne,values:$,numericValues:le}}).sort((ne,$)=>{const le=ne.numericValues[K]??0,ye=$.numericValues[K]??0;return(T.dir==="desc"?ye-le:le-ye)||String(ne.row.account||"").localeCompare(String($.row.account||""))});return c.jsx(To,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:K,sortDirection:T.dir,onSortColumn:ne=>{R($=>({columnId:ne,dir:$.columnId===ne&&$.dir==="desc"?"asc":"desc"}))},columns:H.map(ne=>({id:ne.id,label:ne.label,align:"right",minWidth:90})),rows:B.map((ne,$)=>({id:`${ne.row.account}-${$}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:$+1}),d(ne.row.profession,ne.row.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:ne.row.account}),j==="combined"&&Array.isArray(ne.row.minionList)&&ne.row.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:ne.row.minionList.join(", ")}),j==="separate"&&ne.row.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:ne.row.minionName})]})]}),values:ne.values}))})})()})]}):c.jsx(sl,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsx("input",{value:n,onChange:F=>r(F.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${x} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ie.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):ie.map(F=>c.jsx("button",{onClick:()=>i(F.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===F.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:F.label},F.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const F=t.find(K=>K.id===a)||t[0],z=K=>Math.max(1,(K.activeMs||0)/1e3),Z=[...e.defensePlayers],se=[...P(F.id)?N(Z,j):Z].map(K=>{var L,B,ne;return{...K,total:((L=K.defenseTotals)==null?void 0:L[F.id])||0,per1s:(((B=K.defenseTotals)==null?void 0:B[F.id])||0)/z(K),per60s:(((ne=K.defenseTotals)==null?void 0:ne[F.id])||0)*60/z(K)}}).sort((K,L)=>{const B=S.key==="fightTime"?Number(K.activeMs||0):Number(o==="total"?K.total:o==="per1s"?K.per1s:K.per60s),ne=S.key==="fightTime"?Number(L.activeMs||0):Number(o==="total"?L.total:o==="per1s"?L.per1s:L.per60s);return(S.dir==="desc"?ne-B:B-ne)||K.account.localeCompare(L.account)});return c.jsx(Oo,{expanded:f==="defense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:F.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${P(F.id)?"justify-between":"justify-end"}`,children:[P(F.id)&&c.jsx(wn,{value:j,onChange:K=>A(K),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:c.jsx(wn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>V("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>V("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:se.map((K,L)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:L+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(K.profession,K.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:K.account}),P(F.id)&&j==="combined"&&Array.isArray(K.minionList)&&K.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:K.minionList.join(", ")}),P(F.id)&&j==="separate"&&K.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:K.minionName})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const B=o==="total"?K.total:o==="per1s"?K.per1s:K.per60s;return u(B,l&&o==="total"?0:2)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:K.activeMs?`${(K.activeMs/1e3).toFixed(1)}s`:"-"})]},`${F.id}-${K.account}-${L}`))})})})()})})]})},xoe=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var C,j;const A=((C=t.find($=>$.id==="totalMitigation"))==null?void 0:C.id)||((j=t[0])==null?void 0:j.id)||"totalMitigation",[T,R]=g.useState({key:"value",dir:"desc"}),[D,I]=g.useState({columnId:A,dir:"desc"}),O=m==="defense-mitigation",[q,Y]=g.useState([]),[ie,ke]=g.useState([]),[te,H]=g.useState([]),W=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],V=l==="minions"?k:W,P=W.length>0||k.length>0,N=t.filter($=>$.label.toLowerCase().includes(n.trim().toLowerCase())),F=t.map($=>({id:$.id,label:$.label})),z=F.filter($=>$.label.toLowerCase().includes(n.trim().toLowerCase())),Z=q.length>0?t.filter($=>q.includes($.id)):t,se=Array.from(new Map(V.map($=>[$.account,$])).values()).map($=>({id:$.account,label:$.account,icon:p($.profession,$.professionList,"w-3 h-3")})),K=Array.from(new Map(k.map($=>[$.minion,$])).values()).filter($=>$==null?void 0:$.minion).map($=>({id:String($.minion),label:String($.minion)})),L=new Set([...q.map($=>`column:${$}`),...ie.map($=>`player:${$}`)]),B=$=>{R(le=>({key:$,dir:le.key===$&&le.dir==="desc"?"asc":"desc"}))},ne=$=>f($,d&&o==="total"?0:2);return c.jsxs("div",{id:"defense-mitigation","data-section-visible":y("defense-mitigation"),"data-section-first":x("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Dk,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),c.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?b():v("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),P?O?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:[...F.map($=>({...$,type:"column"})),...se.map($=>({...$,type:"player"}))],onSelect:$=>{$.type==="column"?Y(le=>le.includes($.id)?le.filter(ye=>ye!==$.id):[...le,$.id]):ke(le=>le.includes($.id)?le.filter(ye=>ye!==$.id):[...le,$.id])},selectedIds:L,className:"w-full sm:w-64"}),c.jsx(br,{options:z,selectedIds:q,onToggle:$=>{Y(le=>le.includes($)?le.filter(ye=>ye!==$):[...le,$])},onClear:()=>Y([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(br,{options:se,selectedIds:ie,onToggle:$=>{ke(le=>le.includes($)?le.filter(ye=>ye!==$):[...le,$])},onClear:()=>ke([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),l==="minions"&&c.jsx(br,{options:K,selectedIds:te,onToggle:$=>{H(le=>le.includes($)?le.filter(ye=>ye!==$):[...le,$])},onClear:()=>H([]),buttonLabel:"Minions"}),c.jsx(wn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(q.length>0||ie.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{Y([]),ke([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),q.map($=>{var le;const ye=((le=F.find(G=>G.id===$))==null?void 0:le.label)||$;return c.jsxs("button",{type:"button",onClick:()=>Y(G=>G.filter(me=>me!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ye}),c.jsx("span",{className:"text-gray-400",children:""})]},$)}),ie.map($=>c.jsxs("button",{type:"button",onClick:()=>ke(le=>le.filter(ye=>ye!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:$}),c.jsx("span",{className:"text-gray-400",children:""})]},$))]}),l==="minions"&&te.length>0&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>H([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),te.map($=>c.jsxs("button",{type:"button",onClick:()=>H(le=>le.filter(ye=>ye!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:$}),c.jsx("span",{className:"text-gray-400",children:""})]},$))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:V.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):N.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var $,le;const ye=Te=>Math.max(1,(Te.activeMs||0)/1e3),G=(($=Z.find(Te=>Te.id===D.columnId))==null?void 0:$.id)||((le=Z[0])==null?void 0:le.id)||"",me=[...V].filter(Te=>ie.length===0||ie.includes(Te.account)).filter(Te=>l!=="minions"||!te.length?!0:te.includes(String(Te.minion||""))).map(Te=>{const mt={},Pe={};return Z.forEach(ae=>{var Ue;const Re=((Ue=Te.mitigationTotals)==null?void 0:Ue[ae.id])||0,de=o==="total"?Re:o==="per1s"?Re/ye(Te):Re*60/ye(Te);Pe[ae.id]=de,mt[ae.id]=ne(de)}),{row:Te,values:mt,numericValues:Pe}}).sort((Te,mt)=>{const Pe=Te.numericValues[G]??0,ae=mt.numericValues[G]??0;return(D.dir==="desc"?ae-Pe:Pe-ae)||String(Te.row.account||"").localeCompare(String(mt.row.account||""))});return c.jsx(To,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:G,sortDirection:D.dir,onSortColumn:Te=>{I(mt=>({columnId:Te,dir:mt.columnId===Te&&mt.dir==="desc"?"asc":"desc"}))},columns:Z.map(Te=>({id:Te.id,label:Te.label,align:"right",minWidth:90})),rows:me.map((Te,mt)=>({id:`${Te.row.account}-${Te.row.minion||"player"}-${mt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:mt+1}),p(Te.row.profession,Te.row.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:Te.row.account}),Te.row.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Te.row.minion})]})]}),values:Te.values}))})})()})]}):c.jsx(sl,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsx("input",{value:n,onChange:$=>r($.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),c.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:N.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):N.map($=>c.jsx("button",{onClick:()=>i($.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===$.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:$.label},$.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const $=t.find(G=>G.id===a)||t[0],le=G=>Math.max(1,(G.activeMs||0)/1e3),ye=[...V].map(G=>{var me,Te,mt;return{...G,total:((me=G.mitigationTotals)==null?void 0:me[$.id])||0,per1s:(((Te=G.mitigationTotals)==null?void 0:Te[$.id])||0)/le(G),per60s:(((mt=G.mitigationTotals)==null?void 0:mt[$.id])||0)*60/le(G)}}).filter(G=>l!=="minions"||!te.length?!0:te.includes(String(G.minion||""))).sort((G,me)=>{const Te=T.key==="fightTime"?Number(G.activeMs||0):Number(o==="total"?G.total:o==="per1s"?G.per1s:G.per60s),mt=T.key==="fightTime"?Number(me.activeMs||0):Number(o==="total"?me.total:o==="per1s"?me.per1s:me.per60s);return(T.dir==="desc"?mt-Te:Te-mt)||G.account.localeCompare(me.account)});return c.jsx(Oo,{expanded:m==="defense-mitigation",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-4 py-2 bg-white/5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(wn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"ml-auto",children:c.jsx(wn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>B("value"),className:`text-right transition-colors ${T.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",T.key==="value"?T.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>B("fightTime"),className:`text-right transition-colors ${T.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",T.key==="fightTime"?T.dir==="desc"?" ":" ":""]})]})]}),rows:ye.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):c.jsx(c.Fragment,{children:ye.map((G,me)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:me+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(G.profession,G.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:G.account}),G.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:G.minion})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Te=o==="total"?G.total:o==="per1s"?G.per1s:G.per60s;return ne(Te)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:G.activeMs?`${(G.activeMs/1e3).toFixed(1)}s`:"-"})]},`${$.id}-${G.account}-${G.minion||"player"}-${me}`))})})})()})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},woe=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var C;const[j,A]=g.useState({key:"value",dir:"desc"}),[T,R]=g.useState({columnId:((C=t[0])==null?void 0:C.id)||"value",dir:"desc"}),D=m==="support-detailed",[I,O]=g.useState([]),[q,Y]=g.useState([]),ie=t.filter(P=>P.label.toLowerCase().includes(n.trim().toLowerCase())),ke=t.map(P=>({id:P.id,label:P.label})),te=ke.filter(P=>P.label.toLowerCase().includes(n.trim().toLowerCase())),H=I.length>0?t.filter(P=>I.includes(P.id)):t,W=Array.from(new Map(e.supportPlayers.map(P=>[P.account,P])).values()).map(P=>({id:P.account,label:P.account,icon:p(P.profession,P.professionList,"w-3 h-3")})),k=new Set([...I.map(P=>`column:${P}`),...q.map(P=>`player:${P}`)]),V=P=>{A(N=>({key:P,dir:N.key===P&&N.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"support-detailed","data-section-visible":y("support-detailed"),"data-section-first":x("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Mk,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?b():v("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):D?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:[...ke.map(P=>({...P,type:"column"})),...W.map(P=>({...P,type:"player"}))],onSelect:P=>{P.type==="column"?O(N=>N.includes(P.id)?N.filter(F=>F!==P.id):[...N,P.id]):Y(N=>N.includes(P.id)?N.filter(F=>F!==P.id):[...N,P.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(br,{options:te,selectedIds:I,onToggle:P=>{O(N=>N.includes(P)?N.filter(F=>F!==P):[...N,P])},onClear:()=>O([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(br,{options:W,selectedIds:q,onToggle:P=>{Y(N=>N.includes(P)?N.filter(F=>F!==P):[...N,P])},onClear:()=>Y([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(wn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&c.jsx(wn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||q.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),Y([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(P=>{var N;const F=((N=ke.find(z=>z.id===P))==null?void 0:N.label)||P;return c.jsxs("button",{type:"button",onClick:()=>O(z=>z.filter(Z=>Z!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:F}),c.jsx("span",{className:"text-gray-400",children:""})]},P)}),q.map(P=>c.jsxs("button",{type:"button",onClick:()=>Y(N=>N.filter(F=>F!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},P))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ie.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var P,N;const F=(L,B)=>{var ne,$,le;if(B==="condiCleanse"){const ye=((ne=L.supportTotals)==null?void 0:ne.condiCleanse)||0,G=(($=L.supportTotals)==null?void 0:$.condiCleanseSelf)||0;return l==="all"?ye+G:ye}return((le=L.supportTotals)==null?void 0:le[B])||0},z=L=>Math.max(1,(L.activeMs||0)/1e3),Z=(L,B)=>{const ne=L.isTime?1:d&&o==="total"?0:2;return f(B,ne)},se=((P=H.find(L=>L.id===T.columnId))==null?void 0:P.id)||((N=H[0])==null?void 0:N.id)||"",K=[...e.supportPlayers].filter(L=>q.length===0||q.includes(L.account)).map(L=>{const B={},ne={};return H.forEach($=>{const le=F(L,$.id),ye=o==="total"?le:o==="per1s"?le/z(L):le*60/z(L);ne[$.id]=ye,B[$.id]=Z($,ye)}),{row:L,values:B,numericValues:ne}}).sort((L,B)=>{const ne=L.numericValues[se]??0,$=B.numericValues[se]??0;return(T.dir==="desc"?$-ne:ne-$)||String(L.row.account||"").localeCompare(String(B.row.account||""))});return c.jsx(To,{title:"Support - Dense View",subtitle:"Support",sortColumnId:se,sortDirection:T.dir,onSortColumn:L=>{R(B=>({columnId:L,dir:B.columnId===L&&B.dir==="desc"?"asc":"desc"}))},columns:H.map(L=>({id:L.id,label:L.label,align:"right",minWidth:90})),rows:K.map((L,B)=>({id:`${L.row.account}-${B}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),p(L.row.profession,L.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:L.row.account})]}),values:L.values}))})})()})]}):c.jsx(sl,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsx("input",{value:n,onChange:P=>r(P.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ie.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ie.map(P=>c.jsx("button",{onClick:()=>i(P.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===P.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:P.label},P.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const P=t.find(Z=>Z.id===a)||t[0],N=Z=>{var se,K,L;if(P.id==="condiCleanse"){const B=((se=Z.supportTotals)==null?void 0:se.condiCleanse)||0,ne=((K=Z.supportTotals)==null?void 0:K.condiCleanseSelf)||0;return l==="all"?B+ne:B}return((L=Z.supportTotals)==null?void 0:L[P.id])||0},F=Z=>Math.max(1,(Z.activeMs||0)/1e3),z=[...e.supportPlayers].map(Z=>({...Z,total:N(Z),per1s:N(Z)/F(Z),per60s:N(Z)*60/F(Z)})).sort((Z,se)=>{const K=j.key==="fightTime"?Number(Z.activeMs||0):Number(o==="total"?Z.total:o==="per1s"?Z.per1s:Z.per60s),L=j.key==="fightTime"?Number(se.activeMs||0):Number(o==="total"?se.total:o==="per1s"?se.per1s:se.per60s);return(j.dir==="desc"?L-K:K-L)||Z.account.localeCompare(se.account)});return c.jsx(Oo,{expanded:m==="support-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:P.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:c.jsxs(c.Fragment,{children:[P.id==="condiCleanse"?c.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[c.jsx(wn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):c.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:c.jsx(wn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>V("value"),className:`text-right transition-colors ${j.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",j.key==="value"?j.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>V("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:z.map((Z,se)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:se+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(Z.profession,Z.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Z.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const K=o==="total"?Z.total:o==="per1s"?Z.per1s:Z.per60s,L=P.isTime?1:d&&o==="total"?0:2;return f(K,L)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:Z.activeMs?`${(Z.activeMs/1e3).toFixed(1)}s`:"-"})]},`${P.id}-${Z.account}-${se}`))})})})()})})]})},koe=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:y})=>{var x;const[w,S]=g.useState({key:"value",dir:"desc"}),[C,j]=g.useState({columnId:((x=t[0])==null?void 0:x.id)||"value",dir:"desc"}),A=f==="healing-stats",[T,R]=g.useState([]),[D,I]=g.useState([]),O=Array.from(new Map(e.healingPlayers.map(te=>[te.account,te])).values()).map(te=>({id:te.account,label:te.account,icon:d(te.profession,te.professionList,"w-3 h-3")})),q=new Set([...D.map(te=>`column:${te}`),...T.map(te=>`player:${te}`)]),Y=t.map(te=>({id:te.id,label:te.label})),ie=D.length>0?t.filter(te=>D.includes(te.id)):t,ke=te=>{S(H=>({key:te,dir:H.key===te&&H.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"healing-stats","data-section-visible":v("healing-stats"),"data-section-first":b("healing-stats"),className:y("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(j3,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),c.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:[...Y.map(te=>({...te,type:"column"})),...O.map(te=>({...te,type:"player"}))],onSelect:te=>{te.type==="column"?I(H=>H.includes(te.id)?H.filter(W=>W!==te.id):[...H,te.id]):R(H=>H.includes(te.id)?H.filter(W=>W!==te.id):[...H,te.id])},selectedIds:q,className:"w-full sm:w-64"}),c.jsx(wn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(br,{options:Y,selectedIds:D,onToggle:te=>{I(H=>H.includes(te)?H.filter(W=>W!==te):[...H,te])},onClear:()=>I([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wn,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(te=>({value:te.id,label:te.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(br,{options:O,selectedIds:T,onToggle:te=>{R(H=>H.includes(te)?H.filter(W=>W!==te):[...H,te])},onClear:()=>R([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})})]}),(D.length>0||T.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{I([]),R([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(te=>{var H;const W=((H=Y.find(k=>k.id===te))==null?void 0:H.label)||te;return c.jsxs("button",{type:"button",onClick:()=>I(k=>k.filter(V=>V!==te)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:W}),c.jsx("span",{className:"text-gray-400",children:""})]},te)}),T.map(te=>c.jsxs("button",{type:"button",onClick:()=>R(H=>H.filter(W=>W!==te)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:te}),c.jsx("span",{className:"text-gray-400",children:""})]},te))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var te,H;const W=N=>Math.max(1,(N.activeMs||0)/1e3),k=N=>{const F=N.baseField==="resUtility",z=F||a==="total"?"":a==="offSquad"?"offSquad":a;return F?o==="all"?"resUtility":`resUtility_${o}`:z?`${z}${N.baseField[0].toUpperCase()}${N.baseField.slice(1)}`:N.baseField},V=[...e.healingPlayers].filter(N=>T.length===0||T.includes(N.account)).filter(N=>Object.values(N.healingTotals||{}).some(F=>Number(F)>0)).map(N=>{const F={},z={};return ie.forEach(Z=>{var se;const K=k(Z),L=Number(((se=N.healingTotals)==null?void 0:se[K])??0),B=Z.perSecond?L/W(N):L;z[Z.id]=B,F[Z.id]=u(B,Z.decimals)}),{row:N,values:F,numericValues:z}}).sort((N,F)=>{var z,Z;const se=((z=ie.find(B=>B.id===C.columnId))==null?void 0:z.id)||((Z=ie[0])==null?void 0:Z.id)||"",K=N.numericValues[se]??0,L=F.numericValues[se]??0;return(C.dir==="desc"?L-K:K-L)||String(N.row.account||"").localeCompare(String(F.row.account||""))}),P=((te=ie.find(N=>N.id===C.columnId))==null?void 0:te.id)||((H=ie[0])==null?void 0:H.id)||"";return c.jsx(To,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:P,sortDirection:C.dir,onSortColumn:N=>{j(F=>({columnId:N,dir:F.columnId===N&&F.dir==="desc"?"asc":"desc"}))},columns:ie.map(N=>({id:N.id,label:N.label,align:"right",minWidth:90})),rows:V.map((N,F)=>({id:`${N.row.account}-${F}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(N.row.profession,N.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:N.row.account})]}),values:N.values}))})})()})]}):c.jsx(sl,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(te=>c.jsx("button",{onClick:()=>r(te.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===te.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:te.label},te.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const te=t.find(N=>N.id===n)||t[0],H=te.baseField==="resUtility",W=N=>Math.max(1,(N.activeMs||0)/1e3),k=H||a==="total"?"":a==="offSquad"?"offSquad":a,V=H?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${te.baseField[0].toUpperCase()}${te.baseField.slice(1)}`:te.baseField,P=[...e.healingPlayers].filter(N=>Object.values(N.healingTotals||{}).some(F=>Number(F)>0)).map(N=>{var F;const z=Number(((F=N.healingTotals)==null?void 0:F[V])??0),Z=te.perSecond?z/W(N):z;return{...N,value:Z}}).sort((N,F)=>{const z=w.key==="fightTime"?Number(N.activeMs||0):Number(N.value||0),Z=w.key==="fightTime"?Number(F.activeMs||0):Number(F.value||0);return(w.dir==="desc"?Z-z:z-Z)||N.account.localeCompare(F.account)});return c.jsx(Oo,{expanded:f==="healing-stats",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:te.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:c.jsxs(c.Fragment,{children:[H&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:c.jsx(wn,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(N=>({value:N.id,label:N.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!H&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:c.jsx(wn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ke("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[te.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>ke("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:P.length===0?c.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):P.map((N,F)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:F+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(N.profession,N.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:N.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:u(N.value,te.decimals)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:N.activeMs?`${(N.activeMs/1e3).toFixed(1)}s`:"-"})]},`${te.id}-${N.account}-${F}`))})})})()})})]})},Soe=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Noe=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:b})=>{const[y,x]=g.useState("total"),[w,S]=g.useState("desc"),[C,j]=g.useState({columnId:"",dir:"desc"}),A=u==="special-buffs",[T,R]=g.useState([]),[D,I]=g.useState([]),O=e.specialTables||[],q=T.length>0?O.filter(k=>T.includes(k.id)):O,Y=r.map(k=>({id:k.id,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ie=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),ke=new Set([...T.map(k=>`column:${k}`),...D.map(k=>`player:${k}`)]),te=g.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort((V,P)=>{const N=Number((V==null?void 0:V[y])??0),F=Number((P==null?void 0:P[y])??0),z=w==="desc"?F-N:N-F;return z!==0?z:String((V==null?void 0:V.account)||"").localeCompare(String((P==null?void 0:P.account)||""))}),k},[o,y,w]),H=k=>{if(y===k){S(V=>V==="desc"?"asc":"desc");return}x(k),S("desc")},W=k=>y!==k?"":w==="desc"?" ":" ";return c.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:v("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(iy,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),c.jsx("button",{type:"button",onClick:()=>u==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:u==="special-buffs"?"Close":"Expand",children:u==="special-buffs"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),e.specialTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Po,{options:[...O.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?R(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id]):I(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id])},selectedIds:ke,className:"w-full sm:w-64"}),c.jsx(br,{options:Y,selectedIds:T,onToggle:k=>{R(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>R([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(br,{options:ie,selectedIds:D,onToggle:k=>{I(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(wn,{value:y,onChange:k=>x(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||D.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{R([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var V;const P=((V=O.find(N=>N.id===k))==null?void 0:V.name)||k;return c.jsxs("button",{type:"button",onClick:()=>R(N=>N.filter(F=>F!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),D.map(k=>c.jsxs("button",{type:"button",onClick:()=>I(V=>V.filter(P=>P!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,V;const P=q,N=new Map,F=new Map;P.forEach(K=>{const L=new Map;K.rows.forEach(B=>{const ne=B.account||B.name||B.id;ne&&(L.set(ne,B),F.has(ne)||F.set(ne,B))}),N.set(K.id,L)});const z=Array.from(F.entries()).filter(([K])=>D.length===0||D.includes(String(K))).map(([K,L])=>{const B={},ne={};return P.forEach($=>{var le;const ye=(le=N.get($.id))==null?void 0:le.get(K);if(!ye){B[$.id]="-",ne[$.id]=0;return}if(y==="duration"){B[$.id]=ye.duration?`${ye.duration.toFixed(1)}s`:"-",ne[$.id]=Number(ye.duration||0);return}const G=y==="total"?ye.total:ye.perSecond,me=y==="total"?0:1;ne[$.id]=Number(G||0),B[$.id]=s(G||0,me)}),{key:K,row:L,values:B,numericValues:ne}}),Z=((k=P.find(K=>K.id===C.columnId))==null?void 0:k.id)||(a&&P.some(K=>K.id===a)?a:void 0)||((V=P[0])==null?void 0:V.id)||"",se=[...z].sort((K,L)=>{if(!Z)return String(K.key).localeCompare(String(L.key));const B=K.numericValues[Z]??0,ne=L.numericValues[Z]??0;return(C.dir==="desc"?ne-B:B-ne)||String(K.key).localeCompare(String(L.key))});return c.jsx(To,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:Z,sortDirection:C.dir,onSortColumn:K=>{j(L=>({columnId:K,dir:L.columnId===K&&L.dir==="desc"?"asc":"desc"}))},columns:P.map(K=>({id:K.id,label:c.jsx(vr,{name:K.name,iconUrl:K.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:se.map((K,L)=>({id:`${K.key}-${L}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:L+1}),l(K.row.profession,K.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:K.row.account||K.row.name||K.key})]}),values:K.values}))})})()})]}):c.jsx(sl,{expanded:u==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${u==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${u==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${u==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>c.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(vr,{name:Soe(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:c.jsx(c.Fragment,{children:o?c.jsx(Oo,{expanded:u==="special-buffs",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(vr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>H("total"),className:`text-right transition-colors ${y==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",W("total")]}),c.jsxs("button",{type:"button",onClick:()=>H("perSecond"),className:`text-right transition-colors ${y==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",W("perSecond")]}),c.jsxs("button",{type:"button",onClick:()=>H("duration"),className:`text-right transition-colors ${y==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",W("duration")]})]}),rows:c.jsx(c.Fragment,{children:te.map((k,V)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${V}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},joe=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Coe=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:b})=>{const[y,x]=g.useState("desc"),w=u==="sigil-relic-uptime",S=g.useMemo(()=>{if(!(o!=null&&o.rows))return[];const C=[...o.rows];return C.sort((j,A)=>{const T=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),R=Number((A==null?void 0:A.uptimePerSecond)??(A==null?void 0:A.perSecond)??0),D=y==="desc"?R-T:T-R;return D!==0?D:String((j==null?void 0:j.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),C},[o,y]);return c.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:v("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Tk,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),c.jsx("button",{type:"button",onClick:()=>u==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:u==="sigil-relic-uptime"?"Close":"Expand",children:u==="sigil-relic-uptime"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),e?c.jsx(sl,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),c.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>c.jsx("button",{onClick:()=>i(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(vr,{name:joe(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:c.jsx(c.Fragment,{children:o?c.jsx(Oo,{expanded:w,maxHeightClass:"max-h-72",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(vr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>x(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",y==="desc"?"":""]})]}),rows:c.jsx(c.Fragment,{children:S.map((C,j)=>{const A=Number(C.uptimePerSecond??C.perSecond??0)*100;return c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:j+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:C.account})]}),c.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(A,1),"%"]})]},`${o.id}-${C.account}-${j}`)})})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Moe=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:a,closeExpandedSection:i,isSectionVisible:o,isFirstVisibleSection:s,sectionClass:l})=>{const u=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,p]=g.useState(""),[m,h]=g.useState(""),[v,b]=g.useState(null);g.useEffect(()=>{var I,O,q;if(u.length===0){p(""),h("");return}const Y=String(((I=u[0])==null?void 0:I.id)||""),ie=String(((O=u[1])==null?void 0:O.id)||((q=u[0])==null?void 0:q.id)||"");p(ke=>ke&&u.some(te=>String(te.id)===ke)?ke:Y),h(ke=>ke&&u.some(te=>String(te.id)===ke)?ke:ie)},[u]);const y=g.useMemo(()=>u.find(I=>String(I.id)===String(f))||null,[u,f]),x=g.useMemo(()=>u.find(I=>String(I.id)===String(m))||null,[u,m]),w=g.useMemo(()=>{if(!y||!x)return[];const I=new Map,O=(q,Y,ie,ke)=>{const te=String(q||"Unknown"),H=I.get(te)||{label:te,aDamage:0,aShare:0,bDamage:0,bShare:0};Y==="a"?(H.aDamage=Number(ie||0),H.aShare=Number(ke||0)):(H.bDamage=Number(ie||0),H.bShare=Number(ke||0)),I.set(te,H)};return(y.targetFocus||[]).forEach(q=>O(q.label,"a",q.damage,q.share)),(x.targetFocus||[]).forEach(q=>O(q.label,"b",q.damage,q.share)),Array.from(I.values()).map(q=>({...q,shareDelta:q.bShare-q.aShare})).sort((q,Y)=>Math.abs(Y.shareDelta)-Math.abs(q.shareDelta)||Y.bDamage+Y.aDamage-(q.bDamage+q.aDamage))},[y,x]),S=g.useMemo(()=>{if(!v)return w;const I=v.direction==="asc"?1:-1,O=v.key;return[...w].sort((q,Y)=>{const ie=(Number(q[O])-Number(Y[O]))*I;return ie!==0?ie:q.label.localeCompare(Y.label)})},[w,v]),C=g.useMemo(()=>{if(!y||!x)return[];const I=new Map((y.squadMetrics||[]).map(q=>[q.metricId,q])),O=new Map((x.squadMetrics||[]).map(q=>[q.metricId,q]));return Array.from(new Set([...I.keys(),...O.keys()])).map(q=>{const Y=I.get(q),ie=O.get(q),ke=!!((Y==null?void 0:Y.higherIsBetter)??(ie==null?void 0:ie.higherIsBetter)??!0),te=Number((Y==null?void 0:Y.value)||0),H=Number((ie==null?void 0:ie.value)||0);return{metricId:q,metricLabel:String((Y==null?void 0:Y.metricLabel)||(ie==null?void 0:ie.metricLabel)||q),higherIsBetter:ke,a:Y,b:ie,delta:H-te}})},[y,x]),j=I=>`${t((Number(I)||0)*100,1)}%`,A=I=>I==="squadKdr"?2:0,T=I=>{b(O=>!O||O.key!==I?{key:I,direction:"desc"}:{key:I,direction:O.direction==="desc"?"asc":"desc"})},R=I=>(v==null?void 0:v.key)===I?v.direction==="desc"?" ":" ":"",D=I=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(v==null?void 0:v.key)===I?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return c.jsxs("div",{id:"fight-diff-mode","data-section-visible":o("fight-diff-mode"),"data-section-first":s("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Sk,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),c.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?i():a("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]}),d?c.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),c.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):u.length<2?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:I=>p(I.target.value),children:u.map(I=>c.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-a-${I.id}`))})]}),c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:I=>h(I.target.value),children:u.map(I=>c.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-b-${I.id}`))})]})]}),c.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[c.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),c.jsxs("div",{children:["Target focus compares how your squad distributed damage ",c.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",c.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",c.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",c.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Oo,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("aDamage"),onClick:()=>T("aDamage"),children:[y==null?void 0:y.shortLabel," Damage",R("aDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("aShare"),onClick:()=>T("aShare"),children:[y==null?void 0:y.shortLabel," Share",R("aShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("bDamage"),onClick:()=>T("bDamage"),children:[x==null?void 0:x.shortLabel," Damage",R("bDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("bShare"),onClick:()=>T("bShare"),children:[x==null?void 0:x.shortLabel," Share",R("bShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("shareDelta"),onClick:()=>T("shareDelta"),children:["Share Delta",R("shareDelta")]})})]})})]})}):null,rows:w.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:S.map(I=>c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.label}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.aDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:j(I.aShare)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.bDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:j(I.bShare)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${I.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[I.shareDelta>=0?"+":"",j(I.shareDelta)]})]},`focus-${I.label}`))})]})}):c.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[c.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),c.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Oo,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),c.jsxs("th",{className:"text-right py-2 px-3",children:[y==null?void 0:y.shortLabel," Value"]}),c.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:C.map(I=>{var O,q;const Y=I.higherIsBetter?I.delta>=0:I.delta<=0,ie=A(I.metricId);return c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.metricLabel}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((O=I.a)==null?void 0:O.value)||0),ie)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((q=I.b)==null?void 0:q.value)||0),ie)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${Y?"text-emerald-300":"text-red-300"}`,children:[I.delta>0?"+":"",t(I.delta,ie)]})]},`performer-${I.metricId}`)})})]})}):c.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Aoe=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{id:"kdr",className:"scroll-mt-24"}),c.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[c.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),c.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Eoe=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=g.useMemo(()=>{const u=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||u.set(p,(u.get(p)||0)+m)})}),Array.from(u.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=u=>{const d=u==null?void 0:u.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const v=Number(d);if(Number.isFinite(v)&&v>0)f=v>1e12?v:v*1e3;else{const b=Date.parse(d);Number.isFinite(b)&&b>0&&(f=b)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(u==null?void 0:u.mapName)||(u==null?void 0:u.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return c.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(wn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),c.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?c.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(u=>c.jsx("th",{className:"text-right py-2 px-3",children:`Team ${u}`},u))]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),c.jsx("tbody",{children:(e.fightBreakdown||[]).map((u,d)=>c.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),c.jsx("td",{className:"py-2 px-3 w-[240px]",children:u.permalink?c.jsx("button",{onClick:()=>{var f;u.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(u.permalink):u.permalink&&window.open(u.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(u)}):c.jsx("span",{className:"text-gray-500",children:"Pending"})}),c.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:u.duration||"--:--"}),c.jsx("td",{className:`py-2 px-3 font-semibold ${u.isWin===!0?"text-emerald-300":u.isWin===!1?"text-red-300":"text-amber-200"}`,children:u.isWin===!0?"Win":u.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Mb,{count:u.squadCount??0,classCounts:u.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Mb,{count:u.allyCount??0,classCounts:u.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Mb,{count:u.enemyCount??0,classCounts:u.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(u.teamBreakdown)?u.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDown??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDead??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesRevived??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.rallies??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDowns??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDeaths??0})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalOutgoingDamage||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((u.totalOutgoingDamage||0)-(u.totalIncomingDamage||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.incomingBarrierAbsorbed||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((u.outgoingBarrierAbsorbed||0)-(u.incomingBarrierAbsorbed||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},u.id||`${u.label}-${d}`))})]})})})]})})},Q5={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Doe=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:u})=>{const d=Q5[r]||Q5.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return c.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:c.jsx(e,{className:"w-6 h-6"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),c.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",c.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),c.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),c.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&c.jsxs("div",{className:"mt-3 stats-share-exclude",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?c.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>c.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[c.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),c.jsx("div",{className:"shrink-0",children:u(m.profession,m.professionList,"w-4 h-4")}),c.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),c.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):c.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Toe=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},J5=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Poe=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?c.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(zc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[c.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),c.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[c.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:c.jsx(s8,{className:"w-10 h-10 text-yellow-400"})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(iy,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),c.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[c.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),u(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),c.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),c.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[c.jsx(Dg,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),c.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>c.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[c.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),c.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:J5(m.val,o)})]},h))})]}),c.jsxs("div",{className:"hidden lg:block text-right",children:[c.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),c.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),c.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,v,b,y,x;return c.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[c.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),c.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&u(m.data.profession,m.data.professionList,"w-6 h-6"),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((v=m.data)==null?void 0:v.account)||""}),c.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((b=m.data)==null?void 0:b.profession)||"Unknown"})]})]}),(x=(y=m.data)==null?void 0:y.topStats)!=null&&x.some(w=>l(w.name))?c.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[c.jsx("span",{className:"leading-none",children:w.name}),c.jsx("span",{className:"tabular-nums leading-none",children:J5(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,v=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,b=m?"":"Total ",y=m?" /s":"",x=[{icon:f8,title:`Down Contribution${y}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:vd,title:`${b}Barrier${y}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:j3,title:`${b}Healing${y}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:x8,title:`${b}Dodges${y}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:vp,title:`${b}Strips${y}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:u8,title:`${b}Cleanses${y}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:d8,title:`${b}CC${y}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:E3,title:`${b}Stab Gen${y}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:o8,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:x.map(S=>{var C,j,A,T;const R=a==="all",D=Toe((v==null?void 0:v[S.statKey])||[],S.higherIsBetter),I=D[0],O=I?{...S.data,value:Number(I.value||0),player:I.account||((C=S.data)==null?void 0:C.player)||"-",count:I.count||((j=S.data)==null?void 0:j.count)||0,profession:I.profession||((A=S.data)==null?void 0:A.profession)||"Unknown",professionList:I.professionList||((T=S.data)==null?void 0:T.professionList)||[]}:S.data;return c.jsx(Doe,{...S,data:O,active:R,onClick:()=>i(q=>q==="all"?null:"all"),rows:D,formatValue:w,renderProfessionIcon:u},S.statKey)})})})()]}):null,Ooe=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",u=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=g.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((v,b)=>{const y=Number((v==null?void 0:v[u])||0);return Number((b==null?void 0:b[u])||0)-y||Number((b==null?void 0:b.hits)||0)-Number((v==null?void 0:v.hits)||0)||String((v==null?void 0:v.name)||"").localeCompare(String((b==null?void 0:b.name)||""))}),[s,d,f,e.topSkills,u]),m=g.useMemo(()=>Math.max(1,...p.map(v=>Number((v==null?void 0:v[u])||0))),[p,u]),h=typeof n=="function";return c.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[c.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(wk,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&c.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(v=>{const b=(t||e.topSkillsMetric)===v.id;return c.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(v.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${b?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:v.label},v.id)})})]}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[p.map((v,b)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(vr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(v[u]||0).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(v[u]||0)/m*100}%`}})})]})]},`outgoing-${v.name||"unknown"}-${b}`)),p.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),c.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(n8,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((v,b)=>{var y;return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(vr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(v.damage).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${v.damage/(((y=e.topIncomingSkills[0])==null?void 0:y.damage)||1)*100}%`}})})]})]},`incoming-${v.name||"unknown"}-${b}`)}),e.topIncomingSkills.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Ioe=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=r("squad-composition");return c.jsxs("div",{id:"squad-composition","data-section-visible":o,"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Er,{className:"w-5 h-5 text-green-400"}),"Classes"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Eo,{width:"100%",height:"100%",children:c.jsxs(Jw,{children:[c.jsx(w0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,l)=>c.jsx(Ed,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Do,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${o?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?c.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:s.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(ay,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Eo,{width:"100%",height:"100%",children:c.jsxs(Jw,{children:[c.jsx(w0,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,l)=>c.jsx(Ed,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Do,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${o?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?c.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:s.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]})},_oe=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>c.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Er,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[c.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),c.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>c.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):c.jsx("div",{className:"h-[260px] w-full",children:c.jsx(Eo,{width:"100%",height:"100%",children:c.jsxs(Xl,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[c.jsx(Qs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Js,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),c.jsx(el,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),c.jsx(Do,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const u=(l=s==null?void 0:s[0])==null?void 0:l.payload,d=(u==null?void 0:u.isWin)===!0?"Win":(u==null?void 0:u.isWin)===!1?"Loss":"Unknown";return`${typeof(u==null?void 0:u.label)=="string"&&u.label.trim().length>0?u.label:`Log ${o}`}  ${d}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),c.jsx(ii,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),c.jsx(ii,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Loe=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Ck,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),c.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:c.jsx(Eo,{width:"100%",height:"100%",children:c.jsxs(Jw,{children:[c.jsx(w0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>c.jsx(Ed,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),c.jsx(Do,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),c.jsx(X4,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>c.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",c.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),eE=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:v,spikeMode:b,setSpikeMode:y,damageBasis:x="all",setDamageBasis:w,showDamageBasisToggle:S=!1,selectedSpikePlayerKey:C,setSelectedSpikePlayerKey:j,selectedSpikePlayer:A,spikeChartData:T,spikeChartMaxY:R,selectedSpikeFightIndex:D,setSelectedSpikeFightIndex:I,spikeDrilldownTitle:O,spikeDrilldownData:q,spikeDrilldownDownIndices:Y,spikeDrilldownDeathIndices:ie,spikeFightSkillRows:ke=[],spikeFightSkillTitle:te="Skill Damage (Selected Fight)",formatWithCommas:H,renderProfessionIcon:W})=>{const[k,V]=g.useState(null),[P,N]=g.useState(null),F=Pe=>String(Pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=o===e,Z=A?Fs(A.profession):"#fda4af",se=x==="downContribution",K=b==="hit"?se?"Highest Down Contribution":"Highest Damage":b==="1s"?"1s Burst":b==="5s"?"5s Burst":"30s Burst",L=Pe=>b==="hit"?se?Pe.peakHitDown:Pe.peakHit:b==="1s"?se?Pe.peak1sDown:Pe.peak1s:b==="5s"?se?Pe.peak5sDown:Pe.peak5s:se?Pe.peak30sDown:Pe.peak30s,B=v.flatMap(Pe=>Pe.players.map(ae=>({...ae,groupProfession:Pe.profession}))).sort((Pe,ae)=>{const Ue=L(ae)-L(Pe);return Ue!==0?Ue:Pe.displayName.localeCompare(ae.displayName)}),ne=T.reduce((Pe,ae)=>!Pe||ae.damage>Pe.damage?ae:Pe,null),$=Pe=>{if(!Number.isFinite(Pe)||Pe<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(Pe))}catch{return""}},le=q.reduce((Pe,ae)=>Math.max(Pe,Number(ae.value||0)),0),ye=Math.max(1,le),G=new Set(Y),me=new Set(ie),Te=q.map((Pe,ae)=>({...Pe,downMarker:G.has(ae)?Math.max(Number(Pe.value||0),ye*.88):null,deathMarker:me.has(ae)?Math.max(Number(Pe.value||0),ye*.96):null})),mt=Pe=>ae=>{const Ue=Number(ae==null?void 0:ae.cx),Re=Number(ae==null?void 0:ae.cy),de=Number(ae==null?void 0:ae.index);if(!Number.isFinite(Ue)||!Number.isFinite(Re)||!Number.isFinite(de))return null;const It=(ae==null?void 0:ae.payload)||{},Tn=Pe==="down"?It==null?void 0:It.downMarker:It==null?void 0:It.deathMarker;if(!Number.isFinite(Number(Tn)))return null;const je=`${Pe}-${de}`,et=k===je,Ft=Pe==="down"?"#facc15":"#ef4444",on=Pe==="down"?"#fde047":"#f87171";return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{V(je),N({x:Ue,y:Re,kind:Pe,label:String((It==null?void 0:It.label)||"")})},onMouseLeave:()=>{V(ln=>ln===je?null:ln),N(ln=>(ln==null?void 0:ln.kind)===Pe&&(ln==null?void 0:ln.label)===String((It==null?void 0:It.label)||"")?null:ln)},children:[c.jsx("circle",{cx:Ue,cy:Re,r:et?10:7,fill:on,opacity:et?.35:.18}),c.jsx("circle",{cx:Ue,cy:Re,r:et?7:5.5,fill:Ft,stroke:"#0f172a",strokeWidth:et?2.25:1.75})]})};return c.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${z?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:z?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(vp,{className:`w-5 h-5 ${i}`}),t]}),c.jsx("p",{className:"text-xs text-gray-400",children:n})]}),c.jsxs("div",{className:`flex items-center gap-3 ${z?"pr-10 md:pr-0":""}`,children:[S&&w&&c.jsx(wn,{value:x,onChange:Pe=>w(Pe),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wn,{value:b,onChange:Pe=>y(Pe),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>z?u():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${z?"absolute top-2 right-2 md:static":""}`,"aria-label":z?`Close ${t}`:`Expand ${t}`,title:z?"Close":"Expand",children:z?c.jsx(va,{className:"w-4 h-4"}):c.jsx(Ma,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),c.jsx("input",{type:"search",value:m,onChange:Pe=>h(Pe.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:B.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):c.jsx("div",{className:"p-1.5 space-y-1",children:B.map(Pe=>{const ae=C===Pe.key;return c.jsx("button",{type:"button",onClick:()=>j(Pe.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${ae?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[W(Pe.profession,void 0,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:Pe.displayName}),c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:Pe.groupProfession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[Pe.characterName||Pe.displayName,"  ",Pe.logs," ",Pe.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:H(L(Pe)||0,0)})]})},Pe.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",K]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.length," ",T.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!A||T.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):c.jsx(Eo,{width:"100%",height:"100%",children:c.jsxs(Xl,{data:T,onClick:Pe=>{const ae=Number(Pe==null?void 0:Pe.activeTooltipIndex);Number.isFinite(ae)&&I(D===ae?null:ae)},children:[c.jsx(Qs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Js,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(el,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,R)],tickFormatter:Pe=>H(Pe,0)}),c.jsx(Do,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(Pe,ae)=>[H(Number(Pe||0),0),String(ae||"")],labelFormatter:(Pe,ae)=>{var Ue;const Re=(Ue=ae==null?void 0:ae[0])==null?void 0:Ue.payload;if(!Re)return"";const de=F(Re.fullLabel||"");return b==="hit"&&Re.skillName?`${de}  ${Re.skillName}`:de}}),c.jsx(ii,{type:"monotone",dataKey:"damage",name:A.displayName,stroke:Z,strokeWidth:3,dot:Pe=>{var ae;const Ue=Number((ae=Pe==null?void 0:Pe.payload)==null?void 0:ae.index);if(!Number.isFinite(Ue))return null;const Re=D===Ue;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:de=>{de.stopPropagation(),I(Re?null:Ue)},children:[c.jsx("circle",{cx:Pe.cx,cy:Pe.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:Pe.cx,cy:Pe.cy,r:Re?4:3,fill:Z,stroke:Re?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Re?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(ii,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),A&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[W(A.profession,A.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:A.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?se?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${K}`}),c.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:H(L(A)||0,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?"Peak Skill / Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const Pe=F((ne==null?void 0:ne.fullLabel)||A.peakFightLabel||"N/A"),ae=$(Number((ne==null?void 0:ne.timestamp)||0)),Ue=ae?`${ae} - ${Pe}`:Pe;return b!=="hit"?Ue:A.peakSkillName?`${A.peakSkillName}  ${Ue}`:Ue})()})]})]}),A&&D!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:O}),c.jsx("button",{type:"button",onClick:()=>I(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:q.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsxs(c.Fragment,{children:[c.jsx(Eo,{width:"100%",height:"100%",children:c.jsxs(Xl,{data:Te,children:[c.jsx(Qs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Js,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(el,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:Pe=>H(Pe,0)}),c.jsx(Do,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(Pe,ae)=>{const Ue=String(ae||"");return Ue==="Down"?["Downed","Event"]:Ue==="Death"?["Dead","Event"]:[H(Number(Pe||0),0),"Damage"]},labelFormatter:Pe=>String(Pe||"")}),c.jsx(ii,{type:"monotone",dataKey:"value",name:"Damage",stroke:Z,strokeWidth:2.5,dot:b==="hit"?{r:2}:!1,activeDot:{r:4}}),c.jsx(ii,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:mt("down")}),c.jsx(ii,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:mt("death")})]})}),P&&c.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,P.x)}px`,top:`${Math.max(8,P.y-38)}px`,transform:"translate(-50%, -100%)"},children:[c.jsx("div",{className:`${P.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:P.kind==="down"?"Down":"Death"}),c.jsx("div",{className:"text-gray-300",children:P.label})]})]})})]}),A&&D!==null&&c.jsx("div",{className:`mt-4 transition-all duration-300 ${ke.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const Pe=Ue=>Number(se?Ue.downContribution||0:Ue.damage||0),ae=[...ke].filter(Ue=>Pe(Ue)>0).sort((Ue,Re)=>Pe(Re)-Pe(Ue)||Number(Re.hits||0)-Number(Ue.hits||0)).slice(0,30);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:te}),c.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[ae.length," ",ae.length===1?"skill":"skills"]})]}),ae.length===0?c.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):c.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:se?"Down Contrib":"Damage"}),c.jsx("div",{className:"text-right",children:"Hits"})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:ae.map((Ue,Re)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[c.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[Ue.icon?c.jsx("img",{src:Ue.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):c.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),c.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:Ue.skillName,children:Ue.skillName})]}),c.jsx("div",{className:"text-right font-mono text-rose-200",children:H(Number(se?Ue.downContribution||0:Ue.damage||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:H(Number(Ue.hits||0),0)})]},`${Ue.skillName}-${Re}`))})]})]})})()})]})},Foe=10,Ch=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},tE=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},$oe=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Roe=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(""),[s,l]=g.useState("squad"),[u,d]=g.useState("desc"),f=i.trim().toLowerCase(),p=g.useMemo(()=>{const b=e.filter(x=>{if(!f)return!0;const w=String(x.account||"").toLowerCase(),S=(x.characterNames||[]).join(" ").toLowerCase(),C=(x.classTimes||[]).map(j=>String(j.profession||"").toLowerCase()).join(" ");return w.includes(f)||S.includes(f)||C.includes(f)}),y=x=>Number(s==="fight"?x.combatTimeMs??x.squadTimeMs??0:x.squadTimeMs??0);return[...b].sort((x,w)=>{const S=y(w)-y(x);return S!==0?u==="desc"?S:-S:String(x.account||"").localeCompare(String(w.account||""))})},[e,f,u,s]),m=b=>{if(s===b){d(y=>y==="desc"?"asc":"desc");return}l(b),d("desc")},h=p.length>Foe,v=()=>{const b=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],y=p.map(A=>{const T=(A.classTimes||[]).map(R=>`${R.profession} (${Ch(R.timeMs)})`).join("; ");return[A.account||"",(A.characterNames||[]).join(", "),T,tE(Number(A.combatTimeMs??A.squadTimeMs??0)),tE(A.squadTimeMs)]}),x=[b,...y].map(A=>A.map(T=>$oe(String(T??""))).join(",")).join(`
`),w=new Blob([x],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),C=document.createElement("a"),j=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=S,C.download=`attendance-ledger-${j}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(S)};return c.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(yp,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),c.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),c.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[c.jsx("input",{value:i,onChange:b=>o(b.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),c.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[c.jsx(l8,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?u==="desc"?" ":" ":""]})}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?u==="desc"?" ":" ":""]})})]})}),c.jsxs("tbody",{children:[p.map(b=>c.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:b.account}),c.jsx("td",{className:"py-2 px-4 text-gray-300",children:b.characterNames.length>0?b.characterNames.join(", "):"-"}),c.jsx("td",{className:"py-2 px-4",children:c.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.classTimes.length>0?b.classTimes.map(y=>c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(y.profession)?c.jsx("img",{src:t(y.profession),alt:y.profession,className:"w-3.5 h-3.5 object-contain"}):null,c.jsx("span",{children:y.profession}),c.jsx("span",{className:"text-gray-400",children:Ch(y.timeMs)})]},`${b.account}-${y.profession}`)):c.jsx("span",{className:"text-gray-500",children:"-"})})}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Ch(Number(b.combatTimeMs??b.squadTimeMs??0))}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Ch(b.squadTimeMs)})]},b.account)),p.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Boe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Uoe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(null),[s,l]=g.useState(""),u=s.trim().toLowerCase(),d=du("svg/commander_tag.svg");g.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=g.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!u)return!1;const h=String(m.account||"").toLowerCase(),v=String(m.characterName||"").toLowerCase(),b=String(m.profession||"").toLowerCase();return h.includes(u)||v.includes(u)||b.includes(u)};return c.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Er,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return c.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Boe(m.timestamp)]})]},m.id)})})]}),c.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?c.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>c.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[c.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),c.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,v)=>(()=>{const b=p(h);return c.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${b?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?c.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,c.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[c.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?c.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):c.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),c.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:c.jsx("span",{className:"truncate min-w-0",children:h.account})}),c.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${v}`)})())})]},`${f.id}-party-${m.party}`))}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},zoe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Voe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(null);g.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(f=>f.id===i))&&o(e[0].id)},[e,i]);const s=g.useMemo(()=>e.find(f=>f.id===i)||null,[e,i]),l=g.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([f,p])=>({profession:f,count:Number(p||0)})).filter(f=>f.count>0).sort((f,p)=>p.count-f.count||f.profession.localeCompare(p.profession)):[],[s]),u=g.useMemo(()=>s?s.parties.reduce((f,p)=>Array.isArray(p.players)&&p.players.length>0?f+p.players.length:f+Object.values(p.classCounts||{}).reduce((m,h)=>m+Number(h||0),0),0):0,[s]),d=g.useMemo(()=>l.reduce((f,p)=>f+Number(p.count||0),0),[l]);return c.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Ol,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(f=>{const p=f.id===i;return c.jsxs("button",{onClick:()=>o(f.id),className:`fight-comp-fight-nav-item relative w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("span",{className:`fight-comp-result-badge absolute right-2 top-2 inline-flex items-center rounded-md border px-1.5 py-0.5 text-[9px] uppercase tracking-widest ${f.isWin===!0?"fight-comp-result-badge--win":f.isWin===!1?"fight-comp-result-badge--loss":"fight-comp-result-badge--unknown"}`,children:f.isWin===!0?"Win":f.isWin===!1?"Loss":"Unknown"}),c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:f.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:f.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[f.duration||"--:--","  ",zoe(f.timestamp)]})]},f.id)})})]}),c.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:s?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsxs("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400 flex items-center justify-between gap-2",children:[c.jsx("span",{children:"Squad Parties"}),c.jsx("span",{className:"inline-flex items-center rounded-md border border-white/15 bg-white/5 px-1.5 py-0.5 text-[9px] font-semibold tracking-normal text-gray-300",children:u})]}),c.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(f=>{const p=Array.isArray(f.players)&&f.players.length>0?f.players.map(m=>({profession:String((m==null?void 0:m.profession)||"Unknown"),account:String((m==null?void 0:m.account)||""),characterName:String((m==null?void 0:m.characterName)||"")})).filter(m=>m.profession&&m.profession!=="Unknown").sort((m,h)=>m.profession.localeCompare(h.profession)||m.characterName.localeCompare(h.characterName)||m.account.localeCompare(h.account)):Object.entries(f.classCounts||{}).flatMap(([m,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(m),account:"",characterName:""}))).filter(m=>m.profession&&m.profession!=="Unknown").sort((m,h)=>m.profession.localeCompare(h.profession));return c.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[c.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:f.party>0?`P${f.party}`:"Unk"}),c.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:p.length>0?p.map((m,h)=>c.jsx("span",{title:m.characterName||m.account?`${m.profession}  ${m.characterName||"Unknown"} (${m.account||"Unknown"})`:m.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(m.profession)?c.jsx("img",{src:t(m.profession),alt:m.profession,className:"w-3.5 h-3.5 object-contain"}):c.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${f.party}-${m.profession}-${m.account||m.characterName||h}-${h}`)):c.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${f.party}`)})})]}),c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsxs("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400 flex items-center justify-between gap-2",children:[c.jsx("span",{children:"Enemy Classes"}),c.jsx("span",{className:"inline-flex items-center rounded-md border border-white/15 bg-white/5 px-1.5 py-0.5 text-[9px] font-semibold tracking-normal text-gray-300",children:d})]}),c.jsx("div",{className:"p-2",children:l.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(f=>c.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[c.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:f.profession,children:t(f.profession)?c.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3 h-3 object-contain"}):c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),c.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:f.count})]},`${s.id}-enemy-${f.profession}`))}):c.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Woe=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:u,canShareDiscord:d,onShare:f,actionsDisabled:p=!1})=>{const m=u||p||!d,h=p?"Stats are still loading. Actions will enable when the dashboard is ready.":d?"":"Select a Discord webhook to enable sharing.";return c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[c.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&c.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:c.jsx(C3,{className:"w-6 h-6"})}),c.jsxs("div",{className:"space-y-0",children:[c.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(zc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),c.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&c.jsxs("div",{className:"flex items-center gap-3",children:[a&&c.jsxs("button",{onClick:o,disabled:i.uploading||p,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[c.jsx(iy,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),c.jsxs("button",{onClick:l,disabled:s||p,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[c.jsx(b8,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),c.jsxs("div",{className:"relative group",title:h,children:[c.jsxs("button",{onClick:f,disabled:m,"aria-disabled":m,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(g8,{className:"w-4 h-4"}),u?"Sharing...":"Share to Discord"]}),!d&&c.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},qoe=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=g.useState("idle"),u=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),c.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&c.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&c.jsx(m8,{className:"w-3 h-3 animate-spin"}),r==="built"&&c.jsx(M3,{className:"w-3 h-3"}),r==="errored"&&c.jsx(D3,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),u&&c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},Hoe=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?c.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):c.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&c.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Go="space-y-1 pr-1 max-h-72 overflow-y-auto",Koe=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Goe=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","boon-timeline","boon-uptime","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],nE={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},Ab=[];function Yoe({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:u=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0,statsDataProgress:h,aggregationResult:v}){var b,y;const x=n||_3,w=r||Zx,S=i||R8,C=w.showTopStats,j=w.showMvp,A=w.roundCountStats,T=w.topStatsMode||"total",[R,D]=g.useState(w.topSkillsMetric||"damage"),I=(a?w.topSkillsMetric:R)||"damage",O=S.uploading,q=S.message,Y=S.url,ie=S.buildStatus,ke=!u&&!1,[te,H]=g.useState(!0),W=g.useCallback(M=>d?d(M):!0,[d]),k=!!v,{result:V,aggregationProgress:P,aggregationDiagnostics:N}=q7({logs:k?[]:e,precomputedStats:k?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),F=v||V,z=(v==null?void 0:v.aggregationProgress)||P,Z=(v==null?void 0:v.aggregationDiagnostics)||N,{stats:se,skillUsageData:K}=F,L=g.useMemo(()=>{const M=Math.max(0,Number((h==null?void 0:h.total)||e.length||0)),_=Math.min(M,Math.max(0,Number((h==null?void 0:h.pending)||0))),J=Math.min(M,Math.max(0,Number((h==null?void 0:h.processed)||M-_))),ce=Math.max(0,Number((h==null?void 0:h.unavailable)||0));if(h!=null&&h.active&&M>0&&_>0){const Ye=M>0?Math.max(1,Math.min(99,Math.round(J/M*100))):0,Pt=ce>0?`  ${ce} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${J} of ${M} fights prepared${Pt}`,progressPercent:Ye}}if(M>0&&ce>=M)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${ce} of ${M} fights could not be loaded from dps.report`,progressPercent:100};if(M>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const ue=Math.max(0,Number((z==null?void 0:z.total)||e.length||0));if(!(z!=null&&z.active&&(z==null?void 0:z.phase)!=="idle"&&(z==null?void 0:z.phase)!=="settled"&&ue>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const We=Math.min(Math.max(Number((z==null?void 0:z.streamed)||0),0),ue),ee=(z==null?void 0:z.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",we=(z==null?void 0:z.phase)==="streaming"?`${We} of ${ue} fights loaded`:"All fights loaded  calculating final totals",ut=(z==null?void 0:z.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(We/ue*100))):99;return{active:!0,phaseLabel:ee,progressText:we,progressPercent:ut}},[h,z,e.length]),B=g.useMemo(()=>{if(!Z)return"";const M=ce=>{const ue=Math.max(0,Number(ce||0));return ue>=1e4?`${(ue/1e3).toFixed(1)}s`:ue>=1e3?`${(ue/1e3).toFixed(2)}s`:`${Math.round(ue)}ms`},_=[`Load ${M(Z.streamMs)}`,`Calculate ${M(Z.computeMs)}`,`Total ${M(Z.totalMs)}`],J=Z.transferStripStats;if(Z.mode==="worker"&&J){const ce=Number(J.spikeSkillRowsRemoved||0),ue=Number(J.incomingSkillRowsRemoved||0),We=Number(J.playerSkillMapsRemoved||0),ee=ce+ue+We;ee>0&&_.push(`Cleaned up ${ee.toLocaleString()} temporary records`)}return Z.mode==="worker"&&Number(Z.droppedLogMessages||0)>0&&_.push(`Skipped ${Number(Z.droppedLogMessages||0)} outdated updates`),_.join("  ")},[Z]),ne=L.active,$=L.phaseLabel,le=L.progressText,ye=ne&&L.progressPercent<100,G=ne||!te;g.useEffect(()=>{if(ne){H(!1);return}let M=!1;const _=()=>{M||H(!0)},J=window.requestIdleCallback;let ce=null;return typeof J=="function"?ce=J(()=>_(),{timeout:220}):ce=window.setTimeout(_,60),()=>{if(M=!0,ce!==null)if(typeof J=="function"){const ue=window.cancelIdleCallback;typeof ue=="function"&&ue(ce)}else window.clearTimeout(ce)}},[ne]);const me=te&&!ne,Te=me&&(W("top-skills-outgoing")||W("player-breakdown")||W("damage-breakdown")),mt=me&&W("skill-usage"),Pe=me&&W("apm-stats"),ae=me&&W("spike-damage"),Ue=me&&W("incoming-strike-damage"),Re=me&&W("conditions-outgoing"),de=g.useMemo(()=>{var M,_,J,ce,ue,We;const ee=se&&typeof se=="object"?se:{},we=Wt=>Array.isArray(Wt)?Wt:[],ut=Wt=>Wt&&typeof Wt=="object"?Wt:{},Ye=(Wt,Bt)=>Wt&&typeof Wt=="object"?Wt:Bt,Pt={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Ut={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},st={...ee,total:Number(ee.total||0),timelineData:we(ee.timelineData),mapData:we(ee.mapData),fightBreakdown:we(ee.fightBreakdown),topSkills:we(ee.topSkills),topIncomingSkills:we(ee.topIncomingSkills),leaderboards:ut(ee.leaderboards),topStatsPerSecond:ut(ee.topStatsPerSecond),topStatsLeaderboardsPerSecond:ut(ee.topStatsLeaderboardsPerSecond),maxDownContrib:Ye(ee.maxDownContrib,Pt),maxBarrier:Ye(ee.maxBarrier,Pt),maxHealing:Ye(ee.maxHealing,Pt),maxDodges:Ye(ee.maxDodges,Pt),maxStrips:Ye(ee.maxStrips,Pt),maxCleanses:Ye(ee.maxCleanses,Pt),maxCC:Ye(ee.maxCC,Pt),maxStab:Ye(ee.maxStab,Pt),closestToTag:Ye(ee.closestToTag,Pt),mvp:{...Ut,...ut(ee.mvp),topStats:we((M=ee==null?void 0:ee.mvp)==null?void 0:M.topStats)},silver:Ye(ee.silver,Ut),bronze:Ye(ee.bronze,Ut),avgMvpScore:Number(ee.avgMvpScore||0),offensePlayers:we(ee.offensePlayers),defensePlayers:we(ee.defensePlayers),damageMitigationPlayers:we(ee.damageMitigationPlayers),damageMitigationMinions:we(ee.damageMitigationMinions),supportPlayers:we(ee.supportPlayers),healingPlayers:we(ee.healingPlayers),boonTables:we(ee.boonTables),boonTimeline:we(ee.boonTimeline),boonUptimeTimeline:we(ee.boonUptimeTimeline),specialTables:we(ee.specialTables),outgoingConditionSummary:we(ee.outgoingConditionSummary),outgoingConditionPlayers:we(ee.outgoingConditionPlayers),incomingConditionSummary:we(ee.incomingConditionSummary),incomingConditionPlayers:we(ee.incomingConditionPlayers),squadClassData:we(ee.squadClassData),enemyClassData:we(ee.enemyClassData),attendanceData:we(ee.attendanceData),squadCompByFight:we(ee.squadCompByFight),fightDiffMode:we(ee.fightDiffMode),playerSkillBreakdowns:we(ee.playerSkillBreakdowns)},Ot=we((_=st.leaderboards)==null?void 0:_.downContrib).map(Wt=>({...Wt,value:Number((Wt==null?void 0:Wt.value)??0)})).filter(Wt=>Number.isFinite(Wt.value)).sort((Wt,Bt)=>Bt.value-Wt.value||String((Wt==null?void 0:Wt.account)||"").localeCompare(String((Bt==null?void 0:Bt.account)||"")))[0];return Ot&&(st.maxDownContrib={...st.maxDownContrib||{},value:Number(Ot.value||0),player:String(Ot.account||((J=st.maxDownContrib)==null?void 0:J.player)||"-"),count:Number(Ot.count||((ce=st.maxDownContrib)==null?void 0:ce.count)||0),profession:String(Ot.profession||((ue=st.maxDownContrib)==null?void 0:ue.profession)||"Unknown"),professionList:Array.isArray(Ot.professionList)?Ot.professionList:((We=st.maxDownContrib)==null?void 0:We.professionList)||[]}),st},[se]);g.useEffect(()=>{var M;if(!((M=window==null?void 0:window.electronAPI)!=null&&M.fetchImageAsDataUrl)||ne)return;let _=!1;const J=()=>{if(_)return;const We=new Set,ee=ut=>{typeof ut=="string"&&/^https?:\/\//i.test(ut)&&We.add(ut)},we=ut=>{ut.forEach(Ye=>{ee(Ye==null?void 0:Ye.icon),ee(Ye==null?void 0:Ye.iconUrl)})};we(Array.isArray(de==null?void 0:de.topSkills)?de.topSkills:[]),we(Array.isArray(de==null?void 0:de.topIncomingSkills)?de.topIncomingSkills:[]),we(Array.isArray(de==null?void 0:de.topSkillsByDamage)?de.topSkillsByDamage:[]),we(Array.isArray(de==null?void 0:de.topSkillsByDownContribution)?de.topSkillsByDownContribution:[]),we(Array.isArray(de==null?void 0:de.outgoingConditionSummary)?de.outgoingConditionSummary:[]),we(Array.isArray(de==null?void 0:de.incomingConditionSummary)?de.incomingConditionSummary:[]),(Array.isArray(de==null?void 0:de.boonTables)?de.boonTables:[]).forEach(ut=>{ee(ut==null?void 0:ut.icon)}),(Array.isArray(de==null?void 0:de.specialTables)?de.specialTables:[]).forEach(ut=>{ee(ut==null?void 0:ut.icon)}),Te&&(Array.isArray(de==null?void 0:de.playerSkillBreakdowns)?de.playerSkillBreakdowns:[]).forEach(ut=>{const Ye=Array.isArray(ut==null?void 0:ut.skills)?ut.skills:[];we(Ye)}),We.size>0&&roe(Array.from(We))},ce=window.requestIdleCallback;let ue=null;return typeof ce=="function"?ue=ce(()=>J(),{timeout:500}):ue=window.setTimeout(J,120),()=>{if(_=!0,ue!==null)if(typeof ce=="function"){const We=window.cancelIdleCallback;typeof We=="function"&&We(ue)}else window.clearTimeout(ue)}},[de,ne,Te]);const It=g.useMemo(()=>{const M=(l==null?void 0:l.skillUsageData)??K;return{logRecords:Array.isArray(M==null?void 0:M.logRecords)?M.logRecords:[],players:Array.isArray(M==null?void 0:M.players)?M.players:[],skillOptions:Array.isArray(M==null?void 0:M.skillOptions)?M.skillOptions:[],resUtilitySkills:Array.isArray(M==null?void 0:M.resUtilitySkills)?M.resUtilitySkills:[]}},[K,l==null?void 0:l.skillUsageData]),Tn=It.players.length>0;g.useEffect(()=>{a||D(w.topSkillsMetric||"damage")},[w.topSkillsMetric,a]);const je=M=>{if(a){a({...w,topSkillsMetric:M});return}D(M)},{scrollContainerRef:et}=k8(u,!0,ye),{devMockUploadState:Ft,webCopyStatus:on,setWebCopyStatus:ln,handleWebUpload:pr,handleDevMockUpload:Xn}=K8({logs:e,stats:de,skillUsageData:It,activeStatsViewSettings:r||Zx,uiTheme:p||"classic",embedded:u,onWebUpload:o}),{sharing:dn,handleShare:Aa}=U7(u),pn={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},In=M=>{const _=pn[M];return _?x[_]>0:!0},[mr,Zn]=g.useState(null),[Fi,ia]=g.useState(null),[Lr,yu]=g.useState("totalBuffs"),[lc,cl]=g.useState("total"),[oa,us]=g.useState(""),[Gr,uo]=g.useState(""),[Sr,ul]=g.useState(null),[Yr,cc]=g.useState("squadBuffs"),[Ja,hi]=g.useState(""),[Nr,ds]=g.useState(null),[fs,uc]=g.useState(null),[dc,Gd]=g.useState(""),[ei,Fo]=g.useState(null),[dl,Q]=g.useState(""),[ve,Qe]=g.useState(null),[yt,Gt]=g.useState(null),[Dt,jt]=g.useState(null),[fn,Sn]=g.useState(""),[Rn,er]=g.useState(null),[ot,E]=g.useState(""),[U,X]=g.useState(""),[re,fe]=g.useState(""),[Fe,Oe]=g.useState(""),[xt,Ct]=g.useState(""),[Rt,Ve]=g.useState(""),[pe,ge]=g.useState(""),[Je,xe]=g.useState("outgoing"),[nt,at]=g.useState(""),[wt,Ce]=g.useState("damage"),[Ae,Ne]=g.useState("damageTaken"),[De,Ke]=g.useState("totalMitigation"),[he,Be]=g.useState("all"),[Xe,oe]=g.useState({key:"damage",dir:"desc"}),Ie=!(he!=="all"&&Koe.has(he)),He=Ie?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",vt=Ie?Xe:{key:"applications",dir:Xe.key==="applications"?Xe.dir:"desc"},[bt,qe]=g.useState("condiCleanse"),[lt,Se]=g.useState("healing"),[Ge,tt]=g.useState("total"),[it,_e]=g.useState("all"),[dt,St]=g.useState("total"),[Nt,mn]=g.useState("total"),[nn,sn]=g.useState("total"),[ct,Dr]=g.useState("total"),[Mn,qn]=g.useState("all"),[Fr,Tr]=g.useState("squad"),[Pn,Ea]=g.useState("player"),[sa,$i]=g.useState(""),[ps,ms]=g.useState(""),[gi,hs]=g.useState(null),[la,Ri]=g.useState([]),[Nn,fo]=g.useState(null),[jr,$o]=g.useState(null),[$e,Ze]=g.useState("hit"),[Le,rt]=g.useState("all"),[gt,Zt]=g.useState(null),[Qt,yn]=g.useState(null),[zt,$r]=g.useState("hit"),[za,Bi]=g.useState([]),[_n,Yd]=g.useState(null),[hr,vu]=g.useState(!1),Ro=g.useRef(null),[ti,Dm]=g.useState("sizes"),[Bo,Ui]=g.useState("total"),fl=Bo==="perSecond",[bu,ni]=g.useState(null),[fc,pc]=g.useState("total"),[yi,gs]=g.useState(null),[vv,bv]=g.useState(null),[ys,xv]=g.useState(null),[i6,o6]=g.useState(""),[mc,wv]=g.useState(null),[s6,kj]=g.useState(null),[Uo,Tm]=g.useState(null),[l6,c6]=g.useState(""),[u6,d6]=g.useState("player"),[hc,kv]=g.useState(null),[f6,Sj]=g.useState(null),[vs,Pm]=g.useState(null),p6=Pe?It:nE,{apmSpecBuckets:pl}=H7(p6),bs=g.useMemo(()=>Te?de.playerSkillBreakdowns||[]:Ab,[Te,de.playerSkillBreakdowns]),Sv=g.useMemo(()=>{const M=new Map;return bs.forEach(_=>M.set(_.key,_)),M},[bs]),xu=g.useMemo(()=>{const M=new Map;return bs.forEach(_=>{const J=_.profession||"Unknown";M.has(J)||M.set(J,{profession:J,players:[],skills:new Map});const ce=M.get(J);ce.players.push(_),_.skills.forEach(ue=>{var We;const ee=ce.skills.get(ue.id)||{...ue,damage:0,downContribution:0};ee.damage+=Number(ue.damage||0),ee.downContribution+=Number(ue.downContribution||0),!ee.icon&&ue.icon&&(ee.icon=ue.icon),(We=ee.name)!=null&&We.startsWith("Skill ")&&!ue.name.startsWith("Skill ")&&(ee.name=ue.name),ce.skills.set(ue.id,ee)})}),Array.from(M.values()).map(_=>{const J=Array.from(_.skills.values()).sort((ue,We)=>We.damage-ue.damage),ce=J.reduce((ue,We)=>(ue[We.id]=We,ue),{});return{profession:_.profession,players:_.players,skills:J,skillMap:ce}}).sort((_,J)=>_.profession.localeCompare(J.profession))},[bs]),xs=mc&&Sv.get(mc)||null,m6=xs&&Uo&&(((b=xs.skillMap)==null?void 0:b[Uo])||xs.skills.find(M=>M.id===Uo))||null,Nv=g.useMemo(()=>{const M=new Map;return xu.forEach(_=>M.set(_.profession,_)),M},[xu]),ml=hc&&Nv.get(hc)||null,h6=ml&&vs&&((y=ml.skillMap)==null?void 0:y[vs])||null,Om=(M,_)=>{if(!_)return null;const J=Number(_.index);if(Number.isInteger(J)&&J>=0&&J<M.length)return M[J]||null;const ce=String(_.fightId||"").trim();return ce&&M.find(ue=>String((ue==null?void 0:ue.id)||"").trim()===ce)||null},hl=M=>{if(M&&typeof M=="object"){const _=Number((M==null?void 0:M.damage)||0),J=Array.isArray(M==null?void 0:M.skillRows)?M.skillRows:void 0,ce=(J||[]).reduce((ue,We)=>ue+Number((We==null?void 0:We.downContribution)||0),0);return{hit:Number((M==null?void 0:M.hit)??_),burst1s:Number((M==null?void 0:M.burst1s)||0),burst5s:Number((M==null?void 0:M.burst5s)||0),burst30s:Number((M==null?void 0:M.burst30s)||0),hitDown:Number((M==null?void 0:M.hitDown)||ce||0),burst1sDown:Number((M==null?void 0:M.burst1sDown)||0),burst5sDown:Number((M==null?void 0:M.burst5sDown)||0),burst30sDown:Number((M==null?void 0:M.burst30sDown)||0),skillName:String((M==null?void 0:M.skillName)||""),buckets5s:Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:void 0,buckets5sDown:Array.isArray(M==null?void 0:M.buckets5sDown)?M.buckets5sDown:void 0,downIndices5s:Array.isArray(M==null?void 0:M.downIndices5s)?M.downIndices5s:void 0,deathIndices5s:Array.isArray(M==null?void 0:M.deathIndices5s)?M.deathIndices5s:void 0,skillRows:J}}return{hit:Number(M||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},vi=g.useMemo(()=>{if(!ae)return{fights:[],players:[]};const M=Me=>String(Me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),_=Me=>M(Me).toLowerCase().split(/[^a-z0-9]+/i).map(pt=>pt.trim()).filter(Boolean).map(pt=>pt.length>3&&pt.endsWith("s")?pt.slice(0,-1):pt),J=(Me,pt)=>{const Ee=M(Me),qt=M(pt);if(!qt)return Ee;if(!Ee)return qt;const Jt=_(Ee),An=_(qt),rn=new Set(Jt),Tt=new Set(An),cn=An.length>0&&An.every(en=>rn.has(en)),Ln=Jt.length>0&&Jt.every(en=>Tt.has(en));return cn||Ln?Ee:`${Ee} - ${qt}`},ce=Me=>{if(Me==null||Me==="")return 0;if(typeof Me=="number")return!Number.isFinite(Me)||Me<=0?0:Me>1e12?Me:Me*1e3;if(Me instanceof Date){const rn=Me.getTime();return Number.isFinite(rn)&&rn>0?rn:0}const pt=String(Me).trim();if(!pt)return 0;const Ee=Number(pt);if(Number.isFinite(Ee)&&Ee>0)return Ee>1e12?Ee:Ee*1e3;const qt=Date.parse(pt);if(Number.isFinite(qt)&&qt>0)return qt;const Jt=pt.replace(/([+-]\d{2})$/,"$1:00"),An=Date.parse(Jt);return Number.isFinite(An)&&An>0?An:0},ue=(Me,pt)=>ce((Me==null?void 0:Me.uploadTime)??(pt==null?void 0:pt.uploadTime)??(Me==null?void 0:Me.timeStartStd)??(Me==null?void 0:Me.timeStart)??(Me==null?void 0:Me.timeEndStd)??(Me==null?void 0:Me.timeEnd)),We=de==null?void 0:de.spikeDamage,ee=Array.isArray(We==null?void 0:We.fights)?We.fights:[],we=Array.isArray(We==null?void 0:We.players)?We.players:[],ut=ee.some(Me=>(Me!=null&&Me.values&&typeof Me.values=="object"?Object.values(Me.values):[]).some(pt=>pt&&typeof pt=="object"&&(Number(pt.burst1s||0)>0||Number(pt.burst5s||0)>0||Number(pt.burst30s||0)>0)))||we.some(Me=>Number((Me==null?void 0:Me.peak1s)||0)>0||Number((Me==null?void 0:Me.peak5s)||0)>0||Number((Me==null?void 0:Me.peak30s)||0)>0),Ye=ee.some(Me=>(Me!=null&&Me.values&&typeof Me.values=="object"?Object.values(Me.values):[]).some(pt=>pt&&typeof pt=="object"&&(Number(pt.hitDown||0)>0||Number(pt.burst1sDown||0)>0||Number(pt.burst5sDown||0)>0||Number(pt.burst30sDown||0)>0)))||we.some(Me=>Number((Me==null?void 0:Me.peakHitDown)||0)>0||Number((Me==null?void 0:Me.peak1sDown)||0)>0||Number((Me==null?void 0:Me.peak5sDown)||0)>0||Number((Me==null?void 0:Me.peak30sDown)||0)>0);if((ee.length>0||we.length>0)&&(ut||e.length===0)&&(Le!=="downContribution"||Ye||e.length===0)){const Me=ee.map((Ee,qt)=>{const Jt=Ee!=null&&Ee.values&&typeof Ee.values=="object"?Ee.values:{};return{id:String((Ee==null?void 0:Ee.id)||`fight-${qt+1}`),shortLabel:String((Ee==null?void 0:Ee.shortLabel)||`F${qt+1}`),fullLabel:M((Ee==null?void 0:Ee.fullLabel)||`Fight ${qt+1}`),timestamp:Number((Ee==null?void 0:Ee.timestamp)||0),values:Jt,maxHit:Number((Ee==null?void 0:Ee.maxHit)??(Ee==null?void 0:Ee.maxDamage)??0),max1s:Number((Ee==null?void 0:Ee.max1s)||0),max5s:Number((Ee==null?void 0:Ee.max5s)||0),max30s:Number((Ee==null?void 0:Ee.max30s)||0),maxHitDown:Number((Ee==null?void 0:Ee.maxHitDown)||0),max1sDown:Number((Ee==null?void 0:Ee.max1sDown)||0),max5sDown:Number((Ee==null?void 0:Ee.max5sDown)||0),max30sDown:Number((Ee==null?void 0:Ee.max30sDown)||0)}}),pt=we.map(Ee=>({key:String((Ee==null?void 0:Ee.key)||""),account:String((Ee==null?void 0:Ee.account)||"Unknown"),displayName:String((Ee==null?void 0:Ee.displayName)||(Ee==null?void 0:Ee.account)||"Unknown"),characterName:String((Ee==null?void 0:Ee.characterName)||(Ee==null?void 0:Ee.name)||(Ee==null?void 0:Ee.character_name)||(Ee==null?void 0:Ee.display_name)||""),profession:String((Ee==null?void 0:Ee.profession)||"Unknown"),professionList:Array.isArray(Ee==null?void 0:Ee.professionList)?Ee.professionList.map(qt=>String(qt)):[],logs:Number((Ee==null?void 0:Ee.logs)||0),peakHit:Number((Ee==null?void 0:Ee.peakHit)||0),peak1s:Number((Ee==null?void 0:Ee.peak1s)||0),peak5s:Number((Ee==null?void 0:Ee.peak5s)||0),peak30s:Number((Ee==null?void 0:Ee.peak30s)||0),peakHitDown:Number((Ee==null?void 0:Ee.peakHitDown)||0),peak1sDown:Number((Ee==null?void 0:Ee.peak1sDown)||0),peak5sDown:Number((Ee==null?void 0:Ee.peak5sDown)||0),peak30sDown:Number((Ee==null?void 0:Ee.peak30sDown)||0),peakFightLabel:M((Ee==null?void 0:Ee.peakFightLabel)||""),peakSkillName:String((Ee==null?void 0:Ee.peakSkillName)||"")}));return{fights:Me,players:pt}}const Pt=(Me,pt)=>{const Ee=(pt==null?void 0:pt.skillMap)||{},qt=(pt==null?void 0:pt.buffMap)||{};let Jt=0,An=0,rn="";const Tt=en=>{const jn=Number(en);if(!Number.isFinite(jn))return String(en||"Unknown Skill");const wi=(Ee==null?void 0:Ee[`s${jn}`])||(Ee==null?void 0:Ee[`${jn}`]);if(wi!=null&&wi.name)return String(wi.name);const Pr=(qt==null?void 0:qt[`b${jn}`])||(qt==null?void 0:qt[`${jn}`]);return Pr!=null&&Pr.name?String(Pr.name):`Skill ${jn}`},cn=en=>{if(!en||typeof en!="object")return;const jn=[Number(en.max),Number(en.maxDamage),Number(en.maxHit)].filter(ef=>Number.isFinite(ef)),wi=jn.length>0?Math.max(...jn):0;wi>Jt&&(Jt=wi,rn=Tt(en.id));const Pr=Number(en.downContribution||0);Pr>An&&(An=Pr)};let Ln=!1;return Array.isArray(Me==null?void 0:Me.targetDamageDist)&&Me.targetDamageDist.forEach(en=>{Array.isArray(en)&&en.forEach(jn=>{Array.isArray(jn)&&jn.forEach(wi=>{Ln=!0,cn(wi)})})}),(!Ln||Jt<=0)&&Array.isArray(Me==null?void 0:Me.totalDamageDist)&&Me.totalDamageDist.forEach(en=>{Array.isArray(en)&&en.forEach(jn=>cn(jn))}),{peak:Jt,peakDownContribution:An,skillName:rn||"Unknown Skill"}},Ut=Me=>{const pt=Tt=>{if(!Array.isArray(Tt)||Tt.length===0)return[];const cn=[];for(let Ln=0;Ln<Tt.length;Ln+=1){const en=Number(Tt[Ln]||0),jn=Ln>0?Number(Tt[Ln-1]||0):0;cn.push(Math.max(0,en-jn))}return cn},Ee=Tt=>{if(!Array.isArray(Tt))return[];const cn=Tt.reduce((en,jn)=>Math.max(en,Array.isArray(jn)?jn.length:0),0);if(cn<=0)return[];const Ln=new Array(cn).fill(0);return Tt.forEach(en=>{if(Array.isArray(en))for(let jn=0;jn<cn;jn+=1)Ln[jn]+=Number(en[jn]||0)}),Ln},qt=Tt=>Array.isArray(Tt)?Tt.map(cn=>Number(cn||0)):null,Jt=(Tt=>{if(!Array.isArray(Tt)||Tt.length===0)return null;const cn=Tt[0];if(!Array.isArray(cn))return null;if(Array.isArray(cn[0])&&Array.isArray(cn[0][0]))return Ee(cn);if(Array.isArray(cn[0])&&!Array.isArray(cn[0][0])){const Ln=Tt.map(en=>qt(Array.isArray(en)?en[0]:null)).filter(en=>Array.isArray(en)&&en.length>0);if(Ln.length>0)return Ee(Ln)}return null})(Me==null?void 0:Me.targetDamage1S),An=Array.isArray(Me==null?void 0:Me.damage1S)&&Array.isArray(Me.damage1S[0])?Me.damage1S[0]:null,rn=Jt||(Array.isArray(An)?An.map(Tt=>Number(Tt||0)):[]);return pt(rn)},st=(Me,pt)=>{if(!Array.isArray(Me)||Me.length===0||pt<=0)return 0;let Ee=0,qt=0;for(let Jt=0;Jt<Me.length;Jt+=1)Ee+=Number(Me[Jt]||0),Jt>=pt&&(Ee-=Number(Me[Jt-pt]||0)),Jt>=pt-1&&Ee>qt&&(qt=Ee);return Math.max(0,qt)},Ot=(Me,pt)=>{if(!Array.isArray(Me)||Me.length===0||pt<=0)return[];const Ee=[];for(let qt=0;qt<Me.length;qt+=pt){const Jt=Math.min(qt+pt,Me.length),An=Me.slice(qt,Jt).reduce((rn,Tt)=>rn+Number(Tt||0),0);Ee.push(An)}return Ee},Wt=(Me,pt)=>{let Ee=0,qt=0;const Jt=new Map,An=rn=>{if(!rn||typeof rn!="object"||rn.indirectDamage)return;const Tt=Number(rn.totalDamage||0),cn=Number(rn.downContribution||0);!Number.isFinite(Tt)&&!Number.isFinite(cn)||(Ee+=Number.isFinite(Tt)?Tt:0,qt+=Number.isFinite(cn)?cn:0)};return Array.isArray(Me==null?void 0:Me.targetDamageDist)&&Me.targetDamageDist.forEach(rn=>{Array.isArray(rn)&&rn.forEach(Tt=>{Array.isArray(Tt)&&Tt.forEach(cn=>{const Ln=Number(cn==null?void 0:cn.id);if(Number.isFinite(Ln)){const en=Jt.get(Ln)||{damage:0,downContribution:0};en.damage+=Number((cn==null?void 0:cn.totalDamage)||0),en.downContribution+=Number((cn==null?void 0:cn.downContribution)||0),Jt.set(Ln,en)}An(cn)})})}),!(pt!=null&&pt.detailedWvW)&&Array.isArray(Me==null?void 0:Me.totalDamageDist)&&Me.totalDamageDist.forEach(rn=>{Array.isArray(rn)&&rn.forEach(Tt=>{const cn=Number(Tt==null?void 0:Tt.id);if(!Number.isFinite(cn)){An(Tt);return}const Ln=Jt.get(cn);if(!Ln){An(Tt);return}const en=Number((Tt==null?void 0:Tt.totalDamage)||0)-Number(Ln.damage||0),jn=Number((Tt==null?void 0:Tt.downContribution)||0)-Number(Ln.downContribution||0);en<=0&&jn<=0||An({...Tt,totalDamage:Math.max(0,en),downContribution:Math.max(0,jn)})})}),{damageTotal:Math.max(0,Ee),downContributionTotal:Math.max(0,qt)}},Bt=[],Lt=new Map;e.forEach(Me=>{const pt=Me==null?void 0:Me.details;if(!pt)return;const Ee=Bt.length+1,qt=M(pt.fightName||Me.fightName||`Fight ${Ee}`),Jt=pt.zone||pt.mapName||pt.map||pt.location||"",An=J(qt,String(Jt||"")),rn={};(Array.isArray(pt.players)?pt.players:[]).forEach(vn=>{if(vn!=null&&vn.notInSquad)return;const On=String((vn==null?void 0:vn.account)||(vn==null?void 0:vn.name)||"Unknown"),tf=String((vn==null?void 0:vn.character_name)||(vn==null?void 0:vn.display_name)||(vn==null?void 0:vn.name)||""),gc=String((vn==null?void 0:vn.profession)||"Unknown"),yc=`${On}|${gc}`,Nu=Pt(vn,pt),ju=Number(Nu.peak||0),nf=Number(Nu.peakDownContribution||0),Wo=Ut(vn),{damageTotal:vl,downContributionTotal:Mv}=Wt(vn,pt),Av=vl>0?Math.min(1,Math.max(0,Mv/vl)):0,vc=Wo.map(qo=>Number(qo||0)*Av),Ns=Number(st(Wo,1)||0),Cu=Number(st(Wo,5)||0),ze=Number(st(Wo,30)||0),kt=Number(st(vc,1)||0),Kt=Number(st(vc,5)||0),bn=Number(st(vc,30)||0),Yt=Math.max(0,Math.ceil(Number((pt==null?void 0:pt.durationMS)||0)/5e3)),an=Math.max(0,Math.ceil(Wo.length/5)),Vn=Math.max(0,Math.ceil(vc.length/5)),Xr=Math.max(Yt,an,Vn),Br=Ot(Wo,5),bc=Ot(vc,5),Vm=Array.from({length:Xr},(qo,mo)=>Number(Br[mo]||0)),tr=Array.from({length:Xr},(qo,mo)=>Number(bc[mo]||0));rn[yc]={hit:ju,burst1s:Ns,burst5s:Cu,burst30s:ze,hitDown:nf,burst1sDown:kt,burst5sDown:Kt,burst30sDown:bn,skillName:Nu.skillName,buckets5s:Vm,buckets5sDown:tr};const xn=Lt.get(yc)||{key:yc,account:On,displayName:On,characterName:tf,profession:gc,professionList:[gc],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};xn.logs+=1,xn.professionList.includes(gc)||xn.professionList.push(gc),!xn.characterName&&tf&&(xn.characterName=tf),ju>xn.peakHit&&(xn.peakHit=ju,xn.peakFightLabel=An,xn.peakSkillName=Nu.skillName),Ns>xn.peak1s&&(xn.peak1s=Ns),Cu>xn.peak5s&&(xn.peak5s=Cu),ze>xn.peak30s&&(xn.peak30s=ze),nf>xn.peakHitDown&&(xn.peakHitDown=nf),kt>xn.peak1sDown&&(xn.peak1sDown=kt),Kt>xn.peak5sDown&&(xn.peak5sDown=Kt),bn>xn.peak30sDown&&(xn.peak30sDown=bn),Lt.set(yc,xn)});const Tt=Object.values(rn).reduce((vn,On)=>Math.max(vn,Number((On==null?void 0:On.hit)||0)),0),cn=Object.values(rn).reduce((vn,On)=>Math.max(vn,Number((On==null?void 0:On.burst1s)||0)),0),Ln=Object.values(rn).reduce((vn,On)=>Math.max(vn,Number((On==null?void 0:On.burst5s)||0)),0),en=Object.values(rn).reduce((vn,On)=>Math.max(vn,Number((On==null?void 0:On.burst30s)||0)),0),jn=Object.values(rn).reduce((vn,On)=>Math.max(vn,Number((On==null?void 0:On.hitDown)||0)),0),wi=Object.values(rn).reduce((vn,On)=>Math.max(vn,Number((On==null?void 0:On.burst1sDown)||0)),0),Pr=Object.values(rn).reduce((vn,On)=>Math.max(vn,Number((On==null?void 0:On.burst5sDown)||0)),0),ef=Object.values(rn).reduce((vn,On)=>Math.max(vn,Number((On==null?void 0:On.burst30sDown)||0)),0);Bt.push({id:Me.filePath||Me.id||`fight-${Ee}`,shortLabel:`F${Ee}`,fullLabel:An,timestamp:ue(pt,Me),values:rn,maxHit:Tt,max1s:cn,max5s:Ln,max30s:en,maxHitDown:jn,max1sDown:wi,max5sDown:Pr,max30sDown:ef})});const Vt=Array.from(Lt.values()).sort((Me,pt)=>pt.peakHit!==Me.peakHit?pt.peakHit-Me.peakHit:Me.displayName.localeCompare(pt.displayName));return{fights:Bt,players:Vt}},[e,de,ae,Le]),bi=g.useMemo(()=>{if(!Ue)return{fights:[],players:[]};const M=ee=>String(ee||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),_=de==null?void 0:de.incomingStrikeDamage,J=Array.isArray(_==null?void 0:_.fights)?_.fights:[],ce=Array.isArray(_==null?void 0:_.players)?_.players:[];if(J.length===0&&ce.length===0)return{fights:[],players:[]};const ue=J.map((ee,we)=>{const ut=ee!=null&&ee.values&&typeof ee.values=="object"?ee.values:{};return{id:String((ee==null?void 0:ee.id)||`fight-${we+1}`),shortLabel:String((ee==null?void 0:ee.shortLabel)||`F${we+1}`),fullLabel:M((ee==null?void 0:ee.fullLabel)||`Fight ${we+1}`),timestamp:Number((ee==null?void 0:ee.timestamp)||0),values:ut,maxHit:Number((ee==null?void 0:ee.maxHit)??(ee==null?void 0:ee.maxDamage)??0),max1s:Number((ee==null?void 0:ee.max1s)||0),max5s:Number((ee==null?void 0:ee.max5s)||0),max30s:Number((ee==null?void 0:ee.max30s)||0),maxHitDown:Number((ee==null?void 0:ee.maxHitDown)||0),max1sDown:Number((ee==null?void 0:ee.max1sDown)||0),max5sDown:Number((ee==null?void 0:ee.max5sDown)||0),max30sDown:Number((ee==null?void 0:ee.max30sDown)||0)}}),We=ce.map(ee=>({key:String((ee==null?void 0:ee.key)||""),account:String((ee==null?void 0:ee.account)||"Unknown"),displayName:String((ee==null?void 0:ee.displayName)||(ee==null?void 0:ee.account)||"Unknown"),characterName:String((ee==null?void 0:ee.characterName)||(ee==null?void 0:ee.name)||(ee==null?void 0:ee.character_name)||(ee==null?void 0:ee.display_name)||""),profession:String((ee==null?void 0:ee.profession)||"Unknown"),professionList:Array.isArray(ee==null?void 0:ee.professionList)?ee.professionList.map(we=>String(we)):[],logs:Number((ee==null?void 0:ee.logs)||0),peakHit:Number((ee==null?void 0:ee.peakHit)||0),peak1s:Number((ee==null?void 0:ee.peak1s)||0),peak5s:Number((ee==null?void 0:ee.peak5s)||0),peak30s:Number((ee==null?void 0:ee.peak30s)||0),peakHitDown:Number((ee==null?void 0:ee.peakHitDown)||0),peak1sDown:Number((ee==null?void 0:ee.peak1sDown)||0),peak5sDown:Number((ee==null?void 0:ee.peak5sDown)||0),peak30sDown:Number((ee==null?void 0:ee.peak30sDown)||0),peakFightLabel:M((ee==null?void 0:ee.peakFightLabel)||""),peakSkillName:String((ee==null?void 0:ee.peakSkillName)||"")}));return{fights:ue,players:We}},[de,Ue]),Xd=g.useMemo(()=>{const M=new Map;return vi.players.forEach(_=>M.set(_.key,_)),M},[vi.players]),g6=g.useMemo(()=>{const M=ue=>Le==="downContribution"?$e==="hit"?ue.peakHitDown:$e==="1s"?ue.peak1sDown:$e==="5s"?ue.peak5sDown:ue.peak30sDown:$e==="hit"?ue.peakHit:$e==="1s"?ue.peak1s:$e==="5s"?ue.peak5s:ue.peak30s,_=Rt.trim().toLowerCase(),J=_?vi.players.filter(ue=>ue.displayName.toLowerCase().includes(_)||ue.account.toLowerCase().includes(_)||ue.profession.toLowerCase().includes(_)):vi.players,ce=new Map;return J.forEach(ue=>{const We=ue.profession||"Unknown",ee=ce.get(We)||[];ee.push(ue),ce.set(We,ee)}),Array.from(ce.entries()).map(([ue,We])=>({profession:ue,players:[...We].sort((ee,we)=>M(we)-M(ee)||ee.displayName.localeCompare(we.displayName))})).sort((ue,We)=>ue.profession.localeCompare(We.profession))},[vi.players,Rt,$e,Le]),y6=Nn&&Xd.get(Nn)||null,zo=g.useMemo(()=>{if(!Nn)return[];const M=J=>J?Number(Le==="downContribution"?$e==="hit"?J.hitDown||0:$e==="1s"?J.burst1sDown||0:$e==="5s"?J.burst5sDown||0:J.burst30sDown||0:$e==="hit"?J.hit||0:$e==="1s"?J.burst1s||0:$e==="5s"?J.burst5s||0:J.burst30s||0):0,_=J=>Number(Le==="downContribution"?$e==="hit"?J.maxHitDown||0:$e==="1s"?J.max1sDown||0:$e==="5s"?J.max5sDown||0:J.max30sDown||0:$e==="hit"?J.maxHit||0:$e==="1s"?J.max1s||0:$e==="5s"?J.max5s||0:J.max30s||0);return vi.fights.map((J,ce)=>({index:ce,fightId:J.id,shortLabel:J.shortLabel,fullLabel:J.fullLabel,timestamp:Number(J.timestamp||0),damage:M(hl(J.values[Nn])),maxDamage:_(J),skillName:String(hl(J.values[Nn]).skillName||"")}))},[vi.fights,Nn,$e,Le]),v6=g.useMemo(()=>{const M=zo.reduce((J,ce)=>Math.max(J,Number(ce.damage||0)),0),_=zo.reduce((J,ce)=>Math.max(J,Number(ce.maxDamage||0)),0);return Math.max(1,M,_)},[zo]),Im=g.useMemo(()=>{var M,_;const J=jr===null?null:zo.find(ze=>ze.index===jr)||null;if(!J||!Nn)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ce=Om(vi.fights,J),[ue,We]=Nn.split("|"),ee=e.find(ze=>String((ze==null?void 0:ze.filePath)||(ze==null?void 0:ze.id)||"")===String(J.fightId||"")),we=ee==null?void 0:ee.details,ut=ze=>Array.isArray(ze)?ze.map(kt=>Array.isArray(kt)?[Number(kt[0]),Number(kt[1])]:kt&&typeof kt=="object"?[Number(kt.time),Number(kt.value)]:null).filter(kt=>!!kt&&Number.isFinite(kt[0])&&kt[0]>=0):[],Ye=ze=>String(ze||"").trim().toLowerCase(),Pt=Ye(ue),Ut=Ye(We),st=Xd.get(Nn),Ot=new Set([Ye(st==null?void 0:st.displayName),Ye(st==null?void 0:st.characterName),Ye(st==null?void 0:st.account)].filter(Boolean)),Wt=Array.isArray(we==null?void 0:we.players)&&((M=we.players.map(ze=>{const kt=Ye(ze==null?void 0:ze.account),Kt=Ye(ze==null?void 0:ze.name),bn=Ye(ze==null?void 0:ze.profession),Yt=!!kt&&kt===Pt,an=!!Kt&&(Kt===Pt||Ot.has(Kt)),Vn=!!kt&&Ot.has(kt),Xr=!Ut||bn===Ut;let Br=0;return Yt&&(Br+=100),an&&(Br+=90),Vn&&(Br+=80),Xr&&(Br+=20),{player:ze,score:Br}}).filter(ze=>ze.score>0).sort((ze,kt)=>kt.score-ze.score)[0])==null?void 0:M.player)||null,Bt=(()=>{const ze=Wt==null?void 0:Wt.combatReplayData;return Array.isArray(ze)?ze.filter(kt=>kt&&typeof kt=="object"):ze&&typeof ze=="object"?[ze]:[]})(),Lt=Bt.flatMap(ze=>ut(ze==null?void 0:ze.down).map(([kt])=>kt)),Vt=Bt.flatMap(ze=>ut(ze==null?void 0:ze.dead).map(([kt])=>kt)),Me=Bt.map(ze=>Number(ze==null?void 0:ze.start)).filter(ze=>Number.isFinite(ze)&&ze>=0),pt=Array.isArray(we==null?void 0:we.players)?we.players.flatMap(ze=>{const kt=ze==null?void 0:ze.combatReplayData;return Array.isArray(kt)?kt.map(Kt=>Number(Kt==null?void 0:Kt.start)):[Number(kt==null?void 0:kt.start)]}).filter(ze=>Number.isFinite(ze)&&ze>=0).reduce((ze,kt)=>Math.min(ze,kt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Ee=[0,Number((we==null?void 0:we.logStartOffset)||0),...Me,Number.isFinite(pt)?pt:0].filter(ze=>Number.isFinite(ze)&&ze>=0),qt=ze=>{const kt=Math.max(0,Math.floor(Number(ze||0)/1e3)),Kt=Math.floor(kt/5)*5;return`${Kt}s-${Kt+5}s`},Jt=(ze,kt)=>{if(ze.length===0||kt.length===0)return[];const Kt=kt.length*5e3,bn=tr=>tr.reduce((xn,qo)=>qo>=0&&qo<=Kt+2e3?xn+1:xn,0),Yt=[],an=ze.map(tr=>Number(tr||0)).filter(tr=>Number.isFinite(tr)&&tr>=0);if(an.length===0)return[];Yt.push(an);const Vn=an.reduce((tr,xn)=>Math.max(tr,xn),0),Xr=an.reduce((tr,xn)=>Math.min(tr,xn),Number.POSITIVE_INFINITY);Vn>Kt*20&&Yt.push(an.map(tr=>tr/1e3)),Vn<=Kt*2&&Xr>=0&&Vn>0&&Vn<Math.max(120,kt.length*5+10)&&Yt.push(an.map(tr=>tr*1e3));let Br=an,bc=0,Vm=-1;return Yt.forEach(tr=>{const xn=new Set(Ee),qo=tr.reduce((mo,Ev)=>Math.min(mo,Ev),Number.POSITIVE_INFINITY);if(Number.isFinite(qo)&&Kt>0&&qo>Kt){const mo=Math.floor(qo/Kt)*Kt;xn.add(mo),xn.add(Math.max(0,mo-Kt))}xn.forEach(mo=>{const Ev=tr.map(yB=>yB-mo),$j=bn(Ev);$j>Vm&&(Vm=$j,bc=mo,Br=tr)})}),Br.map(tr=>tr-bc).filter(tr=>Number.isFinite(tr)&&tr>=0)},An=(ze,kt)=>{if(ze.length===0||kt.length===0)return[];const Kt=Jt(kt,ze),bn=new Map;ze.forEach(an=>{const Vn=/^(\d+)s-/.exec(String(an));if(!Vn)return;const Xr=Number(Vn[1]);Number.isFinite(Xr)&&bn.set(Xr,an)});const Yt=[];return Kt.forEach(an=>{const Vn=Math.max(0,Math.floor(Number(an||0)/1e3)),Xr=Math.floor(Vn/5)*5,Br=bn.get(Xr)||qt(an);ze.includes(Br)&&Yt.push(Br)}),Array.from(new Set(Yt))},rn=(ze,kt)=>{if(ze<=0||kt.length===0)return[];const Kt=Array.from({length:ze},(Yt,an)=>`${an*5}s-${(an+1)*5}s`),bn=Jt(kt,Kt).map(Yt=>Math.floor(Math.max(0,Number(Yt||0))/5e3)).filter(Yt=>Number.isFinite(Yt)&&Yt>=0&&Yt<ze);return Array.from(new Set(bn))},Tt=hl((_=ce==null?void 0:ce.values)==null?void 0:_[Nn]),cn=Le==="downContribution"?Array.isArray(Tt==null?void 0:Tt.buckets5sDown)?(Tt==null?void 0:Tt.buckets5sDown)||[]:[]:Array.isArray(Tt==null?void 0:Tt.buckets5s)?(Tt==null?void 0:Tt.buckets5s)||[]:[],Ln=Array.isArray(Tt==null?void 0:Tt.downIndices5s)?Tt.downIndices5s.map(ze=>Number(ze)).filter(ze=>Number.isFinite(ze)&&ze>=0):[],en=Array.isArray(Tt==null?void 0:Tt.deathIndices5s)?Tt.deathIndices5s.map(ze=>Number(ze)).filter(ze=>Number.isFinite(ze)&&ze>=0):[];if(cn.length>0){const ze=Math.max(0,Math.ceil(Number((we==null?void 0:we.durationMS)||0)/5e3)),kt=Math.max(cn.length,ze),Kt=Array.from({length:kt},(Yt,an)=>({label:`${an*5}s-${(an+1)*5}s`,value:Number(cn[an]||0)})),bn=Kt.map(Yt=>Yt.label);return{title:`Fight Breakdown - ${J.shortLabel||"Fight"} (5s ${Le==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Kt,downLabels:An(bn,Lt),deathLabels:An(bn,Vt),downIndices:Ln.length>0?Ln.filter(Yt=>Yt<Kt.length):rn(Kt.length,Lt),deathIndices:en.length>0?en.filter(Yt=>Yt<Kt.length):rn(Kt.length,Vt)}}const jn=J.shortLabel||"Fight";if(!we||!Array.isArray(we.players))return{title:`Fight Breakdown - ${jn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const wi=we.players.find(ze=>String((ze==null?void 0:ze.account)||(ze==null?void 0:ze.name)||"Unknown")===ue&&String((ze==null?void 0:ze.profession)||"Unknown")===We);if(!wi)return{title:`Fight Breakdown - ${jn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Pr=wi,ef=()=>{let ze=0,kt=0;const Kt=new Map,bn=Yt=>{if(!Yt||typeof Yt!="object"||Yt.indirectDamage)return;const an=Number(Yt.totalDamage||0),Vn=Number(Yt.downContribution||0);!Number.isFinite(an)&&!Number.isFinite(Vn)||(ze+=Number.isFinite(an)?an:0,kt+=Number.isFinite(Vn)?Vn:0)};return Array.isArray(Pr==null?void 0:Pr.targetDamageDist)&&Pr.targetDamageDist.forEach(Yt=>{Array.isArray(Yt)&&Yt.forEach(an=>{Array.isArray(an)&&an.forEach(Vn=>{const Xr=Number(Vn==null?void 0:Vn.id);if(Number.isFinite(Xr)){const Br=Kt.get(Xr)||{damage:0,downContribution:0};Br.damage+=Number((Vn==null?void 0:Vn.totalDamage)||0),Br.downContribution+=Number((Vn==null?void 0:Vn.downContribution)||0),Kt.set(Xr,Br)}bn(Vn)})})}),!(we!=null&&we.detailedWvW)&&Array.isArray(Pr==null?void 0:Pr.totalDamageDist)&&Pr.totalDamageDist.forEach(Yt=>{Array.isArray(Yt)&&Yt.forEach(an=>{const Vn=Number(an==null?void 0:an.id);if(!Number.isFinite(Vn)){bn(an);return}const Xr=Kt.get(Vn);if(!Xr){bn(an);return}const Br=Number((an==null?void 0:an.totalDamage)||0)-Number(Xr.damage||0),bc=Number((an==null?void 0:an.downContribution)||0)-Number(Xr.downContribution||0);Br<=0&&bc<=0||bn({...an,totalDamage:Math.max(0,Br),downContribution:Math.max(0,bc)})})}),ze<=0?0:Math.min(1,Math.max(0,kt/ze))},vn=ze=>{if(!Array.isArray(ze)||ze.length===0)return[];const kt=[];for(let Kt=0;Kt<ze.length;Kt+=1){const bn=Number(ze[Kt]||0),Yt=Kt>0?Number(ze[Kt-1]||0):0;kt.push(Math.max(0,bn-Yt))}return kt},On=ze=>{if(!Array.isArray(ze))return[];const kt=ze.reduce((bn,Yt)=>Math.max(bn,Array.isArray(Yt)?Yt.length:0),0);if(kt<=0)return[];const Kt=new Array(kt).fill(0);return ze.forEach(bn=>{if(Array.isArray(bn))for(let Yt=0;Yt<kt;Yt+=1)Kt[Yt]+=Number(bn[Yt]||0)}),Kt},tf=ze=>Array.isArray(ze)?ze.map(kt=>Number(kt||0)):null,gc=(ze=>{if(!Array.isArray(ze)||ze.length===0)return null;const kt=ze[0];if(!Array.isArray(kt))return null;if(Array.isArray(kt[0])&&Array.isArray(kt[0][0]))return On(kt);if(Array.isArray(kt[0])&&!Array.isArray(kt[0][0])){const Kt=ze.map(bn=>tf(Array.isArray(bn)?bn[0]:null)).filter(bn=>Array.isArray(bn)&&bn.length>0);if(Kt.length>0)return On(Kt)}return null})(Pr==null?void 0:Pr.targetDamage1S),yc=Array.isArray(Pr==null?void 0:Pr.damage1S)&&Array.isArray(Pr.damage1S[0])?Pr.damage1S[0]:null,Nu=gc||(Array.isArray(yc)?yc.map(ze=>Number(ze||0)):[]),ju=vn(Nu),nf=ef(),Wo=Le==="downContribution"?ju.map(ze=>Number(ze||0)*nf):ju,vl=5,Mv=Math.max(0,Math.ceil(Number((we==null?void 0:we.durationMS)||0)/(vl*1e3))),Av=Math.max(0,Math.ceil(Wo.length/vl)),vc=Math.max(Mv,Av),Ns=[];for(let ze=0;ze<vc;ze+=1){const kt=ze*vl,Kt=Math.min(kt+vl,Wo.length),bn=Wo.slice(kt,Kt).reduce((Yt,an)=>Yt+Number(an||0),0);Ns.push({label:`${kt}s-${kt+vl}s`,value:bn})}const Cu=Ns.map(ze=>ze.label);return{title:`Fight Breakdown - ${jn} (5s ${Le==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Ns,downLabels:An(Cu,Lt),deathLabels:An(Cu,Vt),downIndices:rn(Ns.length,Lt),deathIndices:rn(Ns.length,Vt)}},[jr,zo,Nn,e,vi.fights,Xd,Le]),jv=g.useMemo(()=>{const M=new Map;return bi.players.forEach(_=>M.set(_.key,_)),M},[bi.players]),b6=g.useMemo(()=>{const M=ue=>zt==="hit"?ue.peakHit:zt==="1s"?ue.peak1s:zt==="5s"?ue.peak5s:ue.peak30s,_=pe.trim().toLowerCase(),J=_?bi.players.filter(ue=>ue.displayName.toLowerCase().includes(_)||ue.account.toLowerCase().includes(_)||ue.profession.toLowerCase().includes(_)):bi.players,ce=new Map;return J.forEach(ue=>{const We=ue.profession||"Unknown",ee=ce.get(We)||[];ee.push(ue),ce.set(We,ee)}),Array.from(ce.entries()).map(([ue,We])=>({profession:ue,players:[...We].sort((ee,we)=>M(we)-M(ee)||ee.displayName.localeCompare(we.displayName))})).sort((ue,We)=>ue.profession.localeCompare(We.profession))},[bi.players,pe,zt]),x6=gt&&jv.get(gt)||null,Vo=g.useMemo(()=>{if(!gt)return[];const M=J=>J?Number(zt==="hit"?J.hit||0:zt==="1s"?J.burst1s||0:zt==="5s"?J.burst5s||0:J.burst30s||0):0,_=J=>Number(zt==="hit"?J.maxHit||0:zt==="1s"?J.max1s||0:zt==="5s"?J.max5s||0:J.max30s||0);return bi.fights.map((J,ce)=>({index:ce,fightId:J.id,shortLabel:J.shortLabel,fullLabel:J.fullLabel,timestamp:Number(J.timestamp||0),damage:M(hl(J.values[gt])),maxDamage:_(J),skillName:String(hl(J.values[gt]).skillName||"")}))},[bi.fights,gt,zt]),w6=g.useMemo(()=>{const M=Vo.reduce((J,ce)=>Math.max(J,Number(ce.damage||0)),0),_=Vo.reduce((J,ce)=>Math.max(J,Number(ce.maxDamage||0)),0);return Math.max(1,M,_)},[Vo]),_m=g.useMemo(()=>{var M;const _=Qt===null?null:Vo.find(ut=>ut.index===Qt)||null;if(!_||!gt)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const J=Om(bi.fights,_),ce=hl((M=J==null?void 0:J.values)==null?void 0:M[gt]),ue=Array.isArray(ce==null?void 0:ce.buckets5s)?(ce==null?void 0:ce.buckets5s)||[]:[],We=Array.isArray(ce==null?void 0:ce.downIndices5s)?ce.downIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):[],ee=Array.isArray(ce==null?void 0:ce.deathIndices5s)?ce.deathIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):[];if(ue.length>0){const ut=ue.map((Ye,Pt)=>({label:`${Pt*5}s-${(Pt+1)*5}s`,value:Number(Ye||0)}));return{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (5s Damage Buckets)`,data:ut,downLabels:[],deathLabels:[],downIndices:We.filter(Ye=>Ye<ut.length),deathIndices:ee.filter(Ye=>Ye<ut.length)}}const we=Number(zt==="hit"?ce.hit||0:zt==="1s"?ce.burst1s||0:zt==="5s"?ce.burst5s||0:ce.burst30s||0);return we>0?{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:we}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${_.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[Qt,Vo,gt,bi.fights,zt]),k6=g.useMemo(()=>{var M;if(Qt===null||!gt)return[];const _=Vo.find(ut=>ut.index===Qt);if(!_)return[];const J=Om(bi.fights,_),ce=hl((M=J==null?void 0:J.values)==null?void 0:M[gt]),ue=[...(ce==null?void 0:ce.skillRows)||[]].filter(ut=>Number((ut==null?void 0:ut.damage)||0)>0||Number((ut==null?void 0:ut.downContribution)||0)>0).sort((ut,Ye)=>Number(Ye.damage||0)-Number(ut.damage||0)).slice(0,30);if(ue.length>0)return ue;const We=e.find(ut=>String((ut==null?void 0:ut.filePath)||(ut==null?void 0:ut.id)||"")===String(_.fightId||"")),ee=We==null?void 0:We.details;if(ee&&gt){const ut=new Set(Object.keys(Jc)),Ye=Object.keys(Jc).filter(Bt=>Bt&&Bt!=="Unknown").sort((Bt,Lt)=>Lt.length-Bt.length),Pt=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],Ut=Bt=>{if(!Bt)return"Unknown";const Lt=String(Bt).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ut.has(Lt))return Lt;const Vt=Lt.toLowerCase();for(const Me of Ye)if(Vt.includes(Me.toLowerCase()))return Me;return Pt.find(Me=>Vt.includes(Me.toLowerCase()))||Lt||"Unknown"},st=Bt=>{const Lt=Number(Bt);if(!Number.isFinite(Lt))return{name:String(Bt||"Unknown Skill"),icon:void 0};const Vt=(ee==null?void 0:ee.skillMap)||{},Me=(ee==null?void 0:ee.buffMap)||{},pt=(Vt==null?void 0:Vt[`s${Lt}`])||(Vt==null?void 0:Vt[`${Lt}`]);if(pt!=null&&pt.name)return{name:String(pt.name),icon:pt==null?void 0:pt.icon};const Ee=(Me==null?void 0:Me[`b${Lt}`])||(Me==null?void 0:Me[`${Lt}`]);return Ee!=null&&Ee.name?{name:String(Ee.name),icon:Ee==null?void 0:Ee.icon}:{name:`Skill ${Lt}`,icon:void 0}},Ot=new Map;(Array.isArray(ee==null?void 0:ee.targets)?ee.targets:[]).forEach(Bt=>{!Bt||Bt.isFake||Bt.enemyPlayer===!1||Ut((Bt==null?void 0:Bt.profession)||(Bt==null?void 0:Bt.name)||(Bt==null?void 0:Bt.id))!==gt||Array.isArray(Bt==null?void 0:Bt.totalDamageDist)&&Bt.totalDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Vt=>{if(!Vt||typeof Vt!="object"||Vt.indirectDamage)return;const Me=Number(Vt.totalDamage||0);if(!Number.isFinite(Me)||Me<=0)return;const pt=Number(Vt.connectedHits||Vt.hits||0),Ee=st(Vt.id),qt=Ee.name,Jt=Ot.get(qt)||{skillName:qt,damage:0,hits:0,icon:Ee.icon};Jt.damage+=Me,Jt.hits+=Number.isFinite(pt)?pt:0,!Jt.icon&&Ee.icon&&(Jt.icon=Ee.icon),Ot.set(qt,Jt)})})});const Wt=Array.from(Ot.values()).filter(Bt=>Number((Bt==null?void 0:Bt.damage)||0)>0).sort((Bt,Lt)=>Number(Lt.damage||0)-Number(Bt.damage||0)).slice(0,30);if(Wt.length>0)return Wt}const we=Number((ce==null?void 0:ce.hit)||0);return we<=0?ue:[{skillName:String((ce==null?void 0:ce.skillName)||"Unknown Skill"),damage:we,hits:1,icon:void 0}]},[Qt,gt,Vo,bi.fights,e]),S6=g.useMemo(()=>{var M;if(jr===null||!Nn)return[];const _=zo.find(we=>we.index===jr);if(!_)return[];const J=Om(vi.fights,_),ce=hl((M=J==null?void 0:J.values)==null?void 0:M[Nn]),ue=[...(ce==null?void 0:ce.skillRows)||[]].filter(we=>Number((we==null?void 0:we.damage)||0)>0||Number((we==null?void 0:we.downContribution)||0)>0).sort((we,ut)=>Number(ut.damage||0)-Number(we.damage||0)).slice(0,30);if(ue.length>0)return ue;const We=e.find(we=>String((we==null?void 0:we.filePath)||(we==null?void 0:we.id)||"")===String(_.fightId||"")),ee=We==null?void 0:We.details;if(ee&&Nn){const[we,ut]=Nn.split("|"),Ye=st=>{const Ot=Number(st);if(!Number.isFinite(Ot))return{name:String(st||"Unknown Skill"),icon:void 0};const Wt=(ee==null?void 0:ee.skillMap)||{},Bt=(ee==null?void 0:ee.buffMap)||{},Lt=(Wt==null?void 0:Wt[`s${Ot}`])||(Wt==null?void 0:Wt[`${Ot}`]);if(Lt!=null&&Lt.name)return{name:String(Lt.name),icon:Lt==null?void 0:Lt.icon};const Vt=(Bt==null?void 0:Bt[`b${Ot}`])||(Bt==null?void 0:Bt[`${Ot}`]);return Vt!=null&&Vt.name?{name:String(Vt.name),icon:Vt==null?void 0:Vt.icon}:{name:`Skill ${Ot}`,icon:void 0}},Pt=new Map,Ut=(Array.isArray(ee==null?void 0:ee.players)?ee.players:[]).find(st=>{if(st!=null&&st.notInSquad)return!1;const Ot=String((st==null?void 0:st.account)||(st==null?void 0:st.name)||""),Wt=String((st==null?void 0:st.profession)||"Unknown"),Bt=Ot===String(we||""),Lt=Wt===String(ut||"");return Bt&&Lt})||null;if(Ut){const st=Ut,Ot=Lt=>{if(!Lt||typeof Lt!="object"||Lt.indirectDamage)return;const Vt=Number(Lt.totalDamage||0),Me=Number(Lt.downContribution||0);if((!Number.isFinite(Vt)||Vt<=0)&&(!Number.isFinite(Me)||Me<=0))return;const pt=Number(Lt.connectedHits||Lt.hits||0),Ee=Ye(Lt.id),qt=Pt.get(Ee.name)||{skillName:Ee.name,damage:0,downContribution:0,hits:0,icon:Ee.icon};qt.damage+=Number.isFinite(Vt)?Vt:0,qt.downContribution+=Number.isFinite(Me)?Me:0,qt.hits+=Number.isFinite(pt)?pt:0,!qt.icon&&Ee.icon&&(qt.icon=Ee.icon),Pt.set(Ee.name,qt)},Wt=new Map;Array.isArray(st==null?void 0:st.targetDamageDist)&&st.targetDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Vt=>{Array.isArray(Vt)&&Vt.forEach(Me=>{const pt=Number(Me==null?void 0:Me.id),Ee=Number((Me==null?void 0:Me.totalDamage)||0),qt=Number((Me==null?void 0:Me.downContribution)||0);if(Number.isFinite(pt)){const Jt=Wt.get(pt)||{damage:0,downContribution:0,hits:0};Jt.damage+=Number.isFinite(Ee)?Ee:0,Jt.downContribution+=Number.isFinite(qt)?qt:0,Jt.hits+=Number((Me==null?void 0:Me.connectedHits)||(Me==null?void 0:Me.hits)||0),Wt.set(pt,Jt)}Ot(Me)})})}),!(ee!=null&&ee.detailedWvW)&&Array.isArray(st==null?void 0:st.totalDamageDist)&&st.totalDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Vt=>{const Me=Number(Vt==null?void 0:Vt.id);if(!Number.isFinite(Me)){Ot(Vt);return}const pt=Wt.get(Me);if(!pt){Ot(Vt);return}const Ee=Number((Vt==null?void 0:Vt.totalDamage)||0),qt=Number((Vt==null?void 0:Vt.downContribution)||0),Jt=Number((Vt==null?void 0:Vt.connectedHits)||(Vt==null?void 0:Vt.hits)||0),An=Ee-Number(pt.damage||0),rn=qt-Number(pt.downContribution||0),Tt=Jt-Number(pt.hits||0);An<=0&&rn<=0&&Tt<=0||Ot({...Vt,totalDamage:Math.max(0,An),downContribution:Math.max(0,rn),connectedHits:Math.max(0,Tt),hits:Math.max(0,Tt)})})});const Bt=Array.from(Pt.values()).filter(Lt=>Number((Lt==null?void 0:Lt.damage)||0)>0||Number((Lt==null?void 0:Lt.downContribution)||0)>0).sort((Lt,Vt)=>Number(Vt.damage||0)-Number(Lt.damage||0)).slice(0,30);if(Bt.length>0)return Bt}}return ue},[jr,Nn,zo,vi.fights,e]);g.useEffect(()=>{if(bs.length===0){mc!==null&&wv(null),Uo!==null&&Tm(null);return}if(!mc||!Sv.has(mc)){const M=bs[0].key;wv(M),kj(null)}},[bs,Sv,mc,Uo]),g.useEffect(()=>{if(!xs||xs.skills.length===0){Uo!==null&&Tm(null);return}const M=xs.skills.some(_=>_.id===Uo);(!Uo||!M)&&Tm(xs.skills[0].id)},[xs,Uo]),g.useEffect(()=>{if(xu.length===0){hc!==null&&kv(null),vs!==null&&Pm(null);return}if(!hc||!Nv.has(hc)){const M=xu[0].profession;kv(M),Sj(null)}},[xu,Nv,hc,vs]),g.useEffect(()=>{if(!ml||ml.skills.length===0){vs!==null&&Pm(null);return}const M=ml.skills.some(_=>_.id===vs);(!vs||!M)&&Pm(ml.skills[0].id)},[ml,vs]),g.useEffect(()=>{if(vi.players.length===0){Nn!==null&&fo(null);return}(!Nn||!Xd.has(Nn))&&Nn!==null&&fo(null)},[vi.players,Xd,Nn]),g.useEffect(()=>{$o(null)},[Nn,$e,Le]),g.useEffect(()=>{jr!==null&&(zo.some(M=>M.index===jr)||$o(null))},[zo,jr]),g.useEffect(()=>{if(bi.players.length===0){gt!==null&&Zt(null);return}(!gt||!jv.has(gt))&&gt!==null&&Zt(null)},[bi.players,jv,gt]),g.useEffect(()=>{yn(null)},[gt,zt]),g.useEffect(()=>{Qt!==null&&(Vo.some(M=>M.index===Qt)||yn(null))},[Vo,Qt]);const N6=g.useMemo(()=>new Set(la),[la]),Lm=mt?It:nE,{playerMapByKey:ws,playerTotalsForSkill:wu,skillChartData:j6,skillChartMaxY:C6,groupedSkillUsagePlayers:M6}=K7({skillUsageData:Lm,selectedSkillId:gi,selectedPlayers:N6,skillUsageView:Bo==="perSecond"?"perSecond":"total"}),Nj=g.useMemo(()=>{const M=new Map,_=We=>{We.forEach(ee=>{const we=Ou(ee==null?void 0:ee.name)||(ee==null?void 0:ee.name);we&&ee!=null&&ee.icon&&!M.has(we)&&M.set(we,ee.icon)})},J=We=>{We.forEach(ee=>{Object.entries((ee==null?void 0:ee.conditions)||{}).forEach(([we,ut])=>{const Ye=Ou(we)||we;ut!=null&&ut.icon&&!M.has(Ye)&&M.set(Ye,ut.icon)})})},ce=We=>{const ee=new Map;return We.forEach(we=>{const ut=Ou(we==null?void 0:we.name)||(we==null?void 0:we.name);if(!ut)return;const Ye=ee.get(ut)||{name:ut,icon:(we==null?void 0:we.icon)||M.get(ut)||lh(ut),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Ye.applications+=Number((we==null?void 0:we.applications)||0),Ye.damage+=Number((we==null?void 0:we.damage)||0),we!=null&&we.applicationsFromUptime&&(Ye.applicationsFromUptime+=Number(we.applicationsFromUptime||0)),we!=null&&we.applicationsFromBuffs&&(Ye.applicationsFromBuffs+=Number(we.applicationsFromBuffs||0)),we!=null&&we.applicationsFromBuffsActive&&(Ye.applicationsFromBuffsActive+=Number(we.applicationsFromBuffsActive||0)),!Ye.icon&&we!=null&&we.icon&&(Ye.icon=we.icon),Ye.icon||(Ye.icon=lh(ut)),ee.set(ut,Ye)}),Array.from(ee.values())},ue=We=>We.map(ee=>{const we={};return Object.entries((ee==null?void 0:ee.conditions)||{}).forEach(([ut,Ye])=>{const Pt=Ou(ut)||ut;if(!Pt)return;const Ut=we[Pt]||{icon:(Ye==null?void 0:Ye.icon)||M.get(Pt)||lh(Pt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Ut.applications+=Number((Ye==null?void 0:Ye.applications)||0),Ut.damage+=Number((Ye==null?void 0:Ye.damage)||0),Ye!=null&&Ye.applicationsFromUptime&&(Ut.applicationsFromUptime+=Number(Ye.applicationsFromUptime||0)),Ye!=null&&Ye.applicationsFromBuffs&&(Ut.applicationsFromBuffs+=Number(Ye.applicationsFromBuffs||0)),Ye!=null&&Ye.applicationsFromBuffsActive&&(Ut.applicationsFromBuffsActive+=Number(Ye.applicationsFromBuffsActive||0)),!Ut.icon&&Ye!=null&&Ye.icon&&(Ut.icon=Ye.icon),Ut.icon||(Ut.icon=lh(Pt)),Object.values((Ye==null?void 0:Ye.skills)||{}).forEach(st=>{const Ot=(st==null?void 0:st.name)||"Unknown",Wt=Ut.skills[Ot]||{name:Ot,hits:0,damage:0,icon:st==null?void 0:st.icon};Wt.hits+=Number((st==null?void 0:st.hits)||0),Wt.damage+=Number((st==null?void 0:st.damage)||0),!Wt.icon&&st!=null&&st.icon&&(Wt.icon=st.icon),Ut.skills[Ot]=Wt}),we[Pt]=Ut}),{...ee,conditions:we}});return(We,ee)=>(_(We),J(ee),{summary:ce(We),players:ue(ee)})},[]),jj=Re?Je==="outgoing"?de.outgoingConditionSummary:de.incomingConditionSummary:Ab,Cj=Re?Je==="outgoing"?de.outgoingConditionPlayers:de.incomingConditionPlayers:Ab,{summary:Fm,players:A6}=g.useMemo(()=>Nj(jj||[],Cj||[]),[Nj,jj,Cj]);g.useEffect(()=>{if(!Re||he==="all"||Fm.some(_=>_.name===he))return;const M=Ou(he);M&&Fm.some(_=>_.name===M)?Be(M):Be("all")},[he,Fm,Be,Re]);const E6=g.useMemo(()=>{const M={};return wu.forEach((_,J)=>{const ce=ws.get(J);if(!ce)return;const ue=ce.profession;(!M[ue]||_>M[ue])&&(M[ue]=_)}),M},[wu,ws]),_t=W,Bn=g.useCallback((M,_)=>{const J=_t(M);return d?`${_} ${J?"":"hidden"}`:`${_} transition-[opacity,transform] duration-700 ease-in-out ${J?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[_t,d]),Mj=g.useMemo(()=>Goe.find(M=>_t(M))||null,[_t]),Un=g.useCallback(M=>M===Mj,[Mj]),D6=g.useMemo(()=>{const M=new Map,_=new Map;return la.forEach(J=>{const ce=ws.get(J);if(!ce)return;const ue=wu.get(J)??0,We=_.get(ce.profession)||[];We.push({key:J,total:ue}),_.set(ce.profession,We)}),_.forEach(J=>{J.sort((ce,ue)=>ue.total-ce.total),J.forEach((ce,ue)=>{M.set(ce.key,ue)})}),M},[la,ws,wu]),Aj=["0","12 3","8 3","6 3","4 3","2 3"],T6=M=>{const _=ws.get(M),J=Fs((_==null?void 0:_.profession)||""),ce=wu.get(M)??0,ue=_!=null&&_.profession&&E6[_.profession]||1,We=.35+(ue>0?ce/ue:1)*.65;return $m(J,We)},P6=M=>{const _=D6.get(M)??0;return Aj[_%Aj.length]},O6=(M,_,J)=>{if(!J)return T6(M);const ce=ws.get(M),ue=Fs((ce==null?void 0:ce.profession)||"");return _?$m(ue,1.2):$m(ue,.5)},$m=(M,_)=>{const J=M.replace("#","");if(J.length!==6)return M;const ce=Ye=>Math.max(0,Math.min(255,Ye)),ue=Ye=>Number.parseInt(J.slice(Ye,Ye+2),16),We=Ye=>ce(Math.round(Ye)).toString(16).padStart(2,"0"),ee=ue(0),we=ue(2),ut=ue(4);return`#${We(ee*_)}${We(we*_)}${We(ut*_)}`},Ej=g.useMemo(()=>{const M=new Map;return Lm.skillOptions.forEach(_=>{M.set(_.id,{name:_.name,icon:_.icon})}),M},[Lm.skillOptions]),Zd=g.useMemo(()=>{var M;if(la.length===0)return[];const _=new Map,J=new Map;let ce=0;la.forEach(Ye=>{const Pt=ws.get(Ye);if(!Pt)return;ce+=Pt.totalActiveSeconds||0,Object.entries(Pt.skillTotals||{}).forEach(([st,Ot])=>{_.set(st,(_.get(st)||0)+Number(Ot||0))});const Ut=Pt.profession||"Unknown";J.set(Ut,(J.get(Ut)||0)+(Pt.totalActiveSeconds||0))});const ue=ps.trim().toLowerCase(),We=Bo==="perSecond",ee=((M=Array.from(J.entries()).sort((Ye,Pt)=>Pt[1]-Ye[1])[0])==null?void 0:M[0])||"Unknown",we=Fs(ee),ut="#64748b";return Array.from(_.entries()).map(([Ye,Pt])=>{const Ut=Ej.get(Ye),st=(Ut==null?void 0:Ut.name)||Ye,Ot=We&&ce>0?Pt/ce:Pt;return{skillId:Ye,name:st,icon:Ut==null?void 0:Ut.icon,total:Ot}}).filter(Ye=>Ye.total>0&&(!ue||Ye.name.toLowerCase().includes(ue))).sort((Ye,Pt)=>Pt.total-Ye.total).map((Ye,Pt)=>({...Ye,color:Pt===0?we:$m(we,.85-Math.min(Pt*.06,.4))||ut}))},[la,ws,ps,Bo,Ej]);g.useEffect(()=>{if(mt){if(Zd.length===0){gi!==null&&hs(null);return}(!gi||!Zd.some(M=>M.skillId===gi))&&hs(Zd[0].skillId)}},[Zd,gi,hs,mt]);const Rm=Lm.skillOptions.find(M=>M.id===gi),I6=(Rm==null?void 0:Rm.name)||"",_6=(Rm==null?void 0:Rm.icon)||null,L6=Tn&&!!gi&&la.length>0,Bm="__all__",F6=Tn&&pl.length>0,gl=g.useMemo(()=>pl.find(M=>M.profession===yi)??null,[pl,yi]),$6=ys===Bm,R6=g.useMemo(()=>{var M;return((M=gl==null?void 0:gl.skills)==null?void 0:M.find(_=>_.id===ys))??null},[gl,ys]);g.useEffect(()=>{if(pl.length===0){yi!==null&&gs(null),vv!==null&&bv(null);return}if(!yi||!pl.some(M=>M.profession===yi)){const M=pl[0].profession;gs(M),bv(null)}},[pl,yi,vv]),g.useEffect(()=>{if(!gl||gl.skills.length===0){ys!==null&&xv(null);return}const M=gl.skills.some(_=>_.id===ys);(!ys||!M&&ys!==Bm)&&xv(Bm)},[gl,ys]);const B6=M=>{Ri(_=>_.includes(M)?_.filter(J=>J!==M):[..._,M])},U6=M=>{Ri(_=>_.filter(J=>J!==M))},z6=g.useMemo(()=>{const M=oa.trim().toLowerCase(),_=de.boonTables||[];return M?_.filter(J=>J.name.toLowerCase().includes(M)):_},[de.boonTables,oa]),V6=g.useMemo(()=>Fi?(de.boonTables||[]).find(M=>M.id===Fi)??null:null,[de.boonTables,Fi]),Um=M=>{var _,J,ce,ue;return{selfBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number(((_=M==null?void 0:M.totals)==null?void 0:_.selfBuffs)||0):0,groupBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number(((J=M==null?void 0:M.totals)==null?void 0:J.groupBuffs)||0):0,squadBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number(((ce=M==null?void 0:M.totals)==null?void 0:ce.squadBuffs)||0):Number((M==null?void 0:M.total)||0),totalBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number((((ue=M==null?void 0:M.totals)==null?void 0:ue.totalBuffs)??(M==null?void 0:M.total))||0):Number((M==null?void 0:M.total)||0)}},Qd=(M,_)=>{const J=Um(M),ce=Number((J==null?void 0:J[_])||0);return Number.isFinite(ce)?Math.max(0,ce):0},Dj=Yr==="selfBuffs"?"Self":Yr==="groupBuffs"?"Group":Yr==="squadBuffs"?"Squad":"All",ks=g.useMemo(()=>(Array.isArray(de==null?void 0:de.boonTimeline)?de.boonTimeline:[]).map(M=>({id:String((M==null?void 0:M.id)||""),name:String((M==null?void 0:M.name)||(M==null?void 0:M.id)||"Unknown Boon"),icon:typeof(M==null?void 0:M.icon)=="string"?M.icon:void 0,stacking:!!(M!=null&&M.stacking),players:(Array.isArray(M==null?void 0:M.players)?M.players:[]).map(_=>({key:String((_==null?void 0:_.key)||""),account:String((_==null?void 0:_.account)||(_==null?void 0:_.displayName)||"Unknown"),displayName:String((_==null?void 0:_.displayName)||(_==null?void 0:_.account)||"Unknown"),profession:String((_==null?void 0:_.profession)||"Unknown"),professionList:Array.isArray(_==null?void 0:_.professionList)?_.professionList.map(J=>String(J||"")):[],logs:Number((_==null?void 0:_.logs)||0),totals:Um(_)})),fights:(Array.isArray(M==null?void 0:M.fights)?M.fights:[]).map((_,J)=>({id:String((_==null?void 0:_.id)||`fight-${J+1}`),shortLabel:String((_==null?void 0:_.shortLabel)||`F${J+1}`),fullLabel:String((_==null?void 0:_.fullLabel)||`Fight ${J+1}`),timestamp:Number((_==null?void 0:_.timestamp)||0),durationMs:Number((_==null?void 0:_.durationMs)||0),maxTotal:Number((_==null?void 0:_.maxTotal)||0),values:_!=null&&_.values&&typeof _.values=="object"?Object.fromEntries(Object.entries(_.values).map(([ce,ue])=>[String(ce||""),{total:Number((ue==null?void 0:ue.total)||0),totals:Um(ue),bucketWeights5s:Array.isArray(ue==null?void 0:ue.bucketWeights5s)?ue.bucketWeights5s.map(We=>Number(We||0)):[],buckets5s:Array.isArray(ue==null?void 0:ue.buckets5s)?ue.buckets5s.map(We=>Number(We||0)):[]}])):{}}))})).filter(M=>M.id&&M.players.length>0&&M.fights.length>0),[de.boonTimeline]),W6=g.useMemo(()=>{const M=Gr.trim().toLowerCase();return M?ks.filter(_=>String((_==null?void 0:_.name)||"").toLowerCase().includes(M)):ks},[ks,Gr]),xi=g.useMemo(()=>Sr&&ks.find(M=>M.id===Sr)||null,[ks,Sr]),zm=g.useMemo(()=>[...Array.isArray(xi==null?void 0:xi.players)?xi.players:[]].map(M=>({...M,total:Qd(M,Yr)})).sort((M,_)=>Number(_.total||0)-Number(M.total||0)||String(M.displayName||"").localeCompare(String(_.displayName||""))),[xi,Yr]),q6=g.useMemo(()=>{const M=zm,_=Ja.trim().toLowerCase();return _?M.filter(J=>String((J==null?void 0:J.displayName)||"").toLowerCase().includes(_)||String((J==null?void 0:J.account)||"").toLowerCase().includes(_)||String((J==null?void 0:J.profession)||"").toLowerCase().includes(_)):M},[zm,Ja]),H6=g.useMemo(()=>{const M=new Map;return zm.forEach(_=>{M.set(String((_==null?void 0:_.key)||""),_)}),M},[zm]),K6=Nr&&H6.get(Nr)||null,ku=g.useMemo(()=>!xi||!Nr?[]:(xi.fights||[]).map((M,_)=>{var J;const ce=(J=M==null?void 0:M.values)==null?void 0:J[Nr],ue=Object.entries(M!=null&&M.values&&typeof M.values=="object"?M.values:{}).filter(([We])=>String(We||"")!=="__all__").reduce((We,[,ee])=>Math.max(We,Qd(ee,Yr)),0);return{index:_,fightId:String((M==null?void 0:M.id)||""),shortLabel:String((M==null?void 0:M.shortLabel)||`F${_+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${_+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),total:Qd(ce,Yr),maxTotal:ue>0?ue:Number((M==null?void 0:M.maxTotal)||0)}}),[xi,Nr,Yr]),G6=g.useMemo(()=>{const M=ku.reduce((J,ce)=>Math.max(J,Number((ce==null?void 0:ce.total)||0)),0),_=ku.reduce((J,ce)=>Math.max(J,Number((ce==null?void 0:ce.maxTotal)||0)),0);return Math.max(1,M,_)},[ku]),Tj=g.useMemo(()=>{var M;const _=fs===null?null:ku.find(st=>st.index===fs)||null;if(!_||!xi||!Nr)return{title:"Fight Breakdown",data:[]};const J=xi.fights[_.index],ce=((M=J==null?void 0:J.values)==null?void 0:M[Nr])||{total:0,totals:{selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0},bucketWeights5s:[],buckets5s:[]},ue=Qd(ce,Yr),We=Array.isArray(ce==null?void 0:ce.bucketWeights5s)?ce.bucketWeights5s:[],ee=Array.isArray(ce==null?void 0:ce.buckets5s)?ce.buckets5s:[],we=Math.max(We.length,ee.length,Math.ceil(Math.max(0,Number((J==null?void 0:J.durationMs)||0))/5e3),1),ut=Array.from({length:we},(st,Ot)=>Number(We[Ot]||0)),Ye=ut.reduce((st,Ot)=>st+Number(Ot||0),0);let Pt=[];if(Ye>0){const st=ue>0?ue/Ye:0;Pt=ut.map(Ot=>Number(Ot||0)*st)}else if(ee.length>0){const st=Array.from({length:we},(Ot,Wt)=>Number(ee[Wt]||0));if(Yr==="totalBuffs"||!(ce!=null&&ce.totals))Pt=st;else{const Ot=Qd({totals:Um(ce)},"totalBuffs"),Wt=Ot>0?ue/Ot:0;Pt=st.map(Bt=>Number(Bt||0)*Wt)}}else{const st=ue>0?ue/Math.max(1,we):0;Pt=Array.from({length:we},()=>st)}const Ut=Array.from({length:we},(st,Ot)=>({label:`${Ot*5}s-${(Ot+1)*5}s`,value:Number(Pt[Ot]||0)}));return{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (5s ${Dj} Generation Buckets)`,data:Ut}},[fs,ku,xi,Nr,Yr,Dj]),Ss=g.useMemo(()=>(Array.isArray(de==null?void 0:de.boonUptimeTimeline)?de.boonUptimeTimeline:[]).map(M=>({id:String((M==null?void 0:M.id)||""),name:String((M==null?void 0:M.name)||(M==null?void 0:M.id)||"Unknown Boon"),icon:typeof(M==null?void 0:M.icon)=="string"?M.icon:void 0,stacking:!!(M!=null&&M.stacking),players:(Array.isArray(M==null?void 0:M.players)?M.players:[]).map(_=>({key:String((_==null?void 0:_.key)||""),account:String((_==null?void 0:_.account)||(_==null?void 0:_.displayName)||"Unknown"),displayName:String((_==null?void 0:_.displayName)||(_==null?void 0:_.account)||"Unknown"),profession:String((_==null?void 0:_.profession)||"Unknown"),professionList:Array.isArray(_==null?void 0:_.professionList)?_.professionList.map(J=>String(J||"")):[],logs:Number((_==null?void 0:_.logs)||0),total:Math.max(0,Number((_==null?void 0:_.total)||0)),peak:Math.max(0,Number((_==null?void 0:_.peak)||0))})).filter(_=>_.key&&_.key!=="__all__"),fights:(Array.isArray(M==null?void 0:M.fights)?M.fights:[]).map((_,J)=>({id:String((_==null?void 0:_.id)||`fight-${J+1}`),shortLabel:String((_==null?void 0:_.shortLabel)||`F${J+1}`),fullLabel:String((_==null?void 0:_.fullLabel)||`Fight ${J+1}`),timestamp:Number((_==null?void 0:_.timestamp)||0),durationMs:Number((_==null?void 0:_.durationMs)||0),maxTotal:Math.max(0,Number((_==null?void 0:_.maxTotal)||0)),values:_!=null&&_.values&&typeof _.values=="object"?Object.fromEntries(Object.entries(_.values).map(([ce,ue])=>[String(ce||""),{total:Math.max(0,Number((ue==null?void 0:ue.total)||0)),peak:Math.max(0,Number((ue==null?void 0:ue.peak)||0)),buckets5s:Array.isArray(ue==null?void 0:ue.buckets5s)?ue.buckets5s.map(We=>Math.max(0,Number(We||0))):[]}])):{}}))})).filter(M=>M.id&&M.players.length>0&&M.fights.length>0),[de.boonUptimeTimeline]),Y6=g.useMemo(()=>{const M=dc.trim().toLowerCase();return M?Ss.filter(_=>String((_==null?void 0:_.name)||"").toLowerCase().includes(M)):Ss},[Ss,dc]),zn=g.useMemo(()=>ei&&Ss.find(M=>M.id===ei)||null,[Ss,ei]),Su=g.useMemo(()=>{const M=new Map,_=Array.isArray(zn==null?void 0:zn.players)?zn.players:[],J=Array.isArray(zn==null?void 0:zn.fights)?zn.fights:[];if(!_.length||!J.length)return M;const ce=J.reduce((ue,We)=>{const ee=Math.max(Math.ceil(Math.max(0,Number((We==null?void 0:We.durationMs)||0))/5e3),1);return ue+ee},0);return ce<=0||_.forEach(ue=>{const We=String((ue==null?void 0:ue.key)||"");if(!We||We==="__all__")return;let ee=0;J.forEach(we=>{var ut;const Ye=(ut=we==null?void 0:we.values)==null?void 0:ut[We],Pt=Array.isArray(Ye==null?void 0:Ye.buckets5s)?Ye.buckets5s:[],Ut=Math.max(Pt.length,Math.ceil(Math.max(0,Number((we==null?void 0:we.durationMs)||0))/5e3),1);for(let st=0;st<Ut;st+=1)Math.max(0,Number(Pt[st]||0))>0&&(ee+=1)}),M.set(We,ee/ce*100)}),M},[zn]),Jd=g.useMemo(()=>[...(Array.isArray(zn==null?void 0:zn.players)?zn.players:[]).map(M=>({...M,uptimePercent:Number(Su.get(String((M==null?void 0:M.key)||""))||0)}))].sort((M,_)=>Number(Su.get(String((_==null?void 0:_.key)||""))||0)-Number(Su.get(String((M==null?void 0:M.key)||""))||0)||Number(_.peak||0)-Number(M.peak||0)||Number(_.total||0)-Number(M.total||0)||String(M.displayName||"").localeCompare(String(_.displayName||""))),[zn,Su]),X6=g.useMemo(()=>{const M=dl.trim().toLowerCase();return M?Jd.filter(_=>String((_==null?void 0:_.displayName)||"").toLowerCase().includes(M)||String((_==null?void 0:_.account)||"").toLowerCase().includes(M)||String((_==null?void 0:_.profession)||"").toLowerCase().includes(M)):Jd},[Jd,dl]),Z6=g.useMemo(()=>{const M=new Map;return Jd.forEach(_=>{M.set(String((_==null?void 0:_.key)||""),_)}),M},[Jd]),Q6=ve&&Z6.get(ve)||null,yl=g.useMemo(()=>!zn||!ve?[]:(zn.fights||[]).map((M,_)=>{var J;const ce=((J=M==null?void 0:M.values)==null?void 0:J[ve])||{total:0,peak:0},ue=Array.isArray(ce==null?void 0:ce.buckets5s)?ce.buckets5s:[],We=Math.max(ue.length,Math.ceil(Math.max(0,Number((M==null?void 0:M.durationMs)||0))/5e3),1),ee=Math.max(0,Number((ce==null?void 0:ce.total)||0))/We,we=Array.from({length:We},(Ut,st)=>Math.max(0,Number(ue[st]||0))).reduce((Ut,st)=>Ut+(st>0?1:0),0)/We*100,ut=Object.entries(M!=null&&M.values&&typeof M.values=="object"?M.values:{}).filter(([Ut])=>String(Ut||"")!=="__all__").reduce((Ut,[,st])=>Math.max(Ut,Math.max(0,Number((st==null?void 0:st.peak)||0))),0),Ye=Object.entries(M!=null&&M.values&&typeof M.values=="object"?M.values:{}).filter(([Ut])=>String(Ut||"")!=="__all__").reduce((Ut,[,st])=>{const Ot=Array.isArray(st==null?void 0:st.buckets5s)?st.buckets5s:[],Wt=Math.max(Ot.length,Math.ceil(Math.max(0,Number((M==null?void 0:M.durationMs)||0))/5e3),1),Bt=Math.max(0,Number((st==null?void 0:st.total)||0))/Wt;return Math.max(Ut,Bt)},0),Pt=Object.entries(M!=null&&M.values&&typeof M.values=="object"?M.values:{}).filter(([Ut])=>String(Ut||"")!=="__all__").reduce((Ut,[,st])=>{const Ot=Array.isArray(st==null?void 0:st.buckets5s)?st.buckets5s:[],Wt=Math.max(Ot.length,Math.ceil(Math.max(0,Number((M==null?void 0:M.durationMs)||0))/5e3),1),Bt=Array.from({length:Wt},(Lt,Vt)=>Math.max(0,Number(Ot[Vt]||0))).reduce((Lt,Vt)=>Lt+(Vt>0?1:0),0)/Wt*100;return Math.max(Ut,Bt)},0);return{index:_,fightId:String((M==null?void 0:M.id)||""),shortLabel:String((M==null?void 0:M.shortLabel)||`F${_+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${_+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),durationMs:Number((M==null?void 0:M.durationMs)||0),total:Math.max(0,Number((ce==null?void 0:ce.total)||0)),average:ee,uptimePercent:we,peak:Math.max(0,Number((ce==null?void 0:ce.peak)||0)),maxTotal:ut>0?ut:Math.max(0,Number((M==null?void 0:M.maxTotal)||0)),maxAverage:Ye,maxUptimePercent:Pt}}),[zn,ve]),J6=g.useMemo(()=>{const M=!!(zn!=null&&zn.stacking),_=yl.reduce((ue,We)=>Math.max(ue,Number(M?We==null?void 0:We.average:(We==null?void 0:We.uptimePercent)||0)),0),J=yl.reduce((ue,We)=>Math.max(ue,Number(M?We==null?void 0:We.maxAverage:(We==null?void 0:We.maxUptimePercent)||0)),0),ce=zn!=null&&zn.stacking?25:100;return Math.max(1,_,J,ce)},[yl,zn==null?void 0:zn.stacking]),Pj=g.useMemo(()=>{var M,_;const J=yt===null?null:yl.find(ut=>ut.index===yt)||null;if(!J||!zn||!ve)return{title:"Fight Breakdown",data:[]};const ce=(M=zn.fights)==null?void 0:M[J.index];if(!ce)return{title:"Fight Breakdown",data:[]};const ue=(_=ce==null?void 0:ce.values)==null?void 0:_[ve],We=Array.isArray(ue==null?void 0:ue.buckets5s)?ue.buckets5s:[],ee=Math.max(We.length,Math.ceil(Math.max(0,Number((ce==null?void 0:ce.durationMs)||0))/5e3),1),we=Array.from({length:ee},(ut,Ye)=>{const Pt=Object.entries(ce!=null&&ce.values&&typeof ce.values=="object"?ce.values:{}).filter(([Ut])=>String(Ut||"")!=="__all__").reduce((Ut,[,st])=>{var Ot;return Math.max(Ut,Math.max(0,Number(((Ot=st==null?void 0:st.buckets5s)==null?void 0:Ot[Ye])||0)))},0);return{label:`${Ye*5}s-${(Ye+1)*5}s`,value:Math.max(0,Number(We[Ye]||0)),maxValue:Pt}});return{title:`Fight Breakdown - ${J.shortLabel||"Fight"} (5s Stack Buckets)`,data:we}},[yt,yl,zn,ve]),eB=g.useMemo(()=>{if(!ve)return null;const M=Su.get(ve);return Number.isFinite(Number(M))?Number(M):null},[Su,ve]),tB=g.useMemo(()=>{const M=fn.trim().toLowerCase(),_=[...de.specialTables||[]].sort((J,ce)=>J.name.localeCompare(ce.name));return M?_.filter(J=>J.name.toLowerCase().includes(M)):_},[de.specialTables,fn]),po=g.useMemo(()=>[...de.specialTables||[]].filter(M=>/\b(sigil|relic)\b/i.test(String((M==null?void 0:M.name)||""))).sort((M,_)=>M.name.localeCompare(_.name)),[de.specialTables]),nB=g.useMemo(()=>{const M=ot.trim().toLowerCase();return M?po.filter(_=>_.name.toLowerCase().includes(M)):po},[po,ot]),rB=g.useMemo(()=>Dt?(de.specialTables||[]).find(M=>M.id===Dt)??null:null,[de.specialTables,Dt]),aB=g.useMemo(()=>Rn?po.find(M=>M.id===Rn)??null:null,[po,Rn]);g.useEffect(()=>{!de.boonTables||de.boonTables.length===0||(!Fi||!de.boonTables.some(M=>M.id===Fi))&&ia(de.boonTables[0].id)},[de.boonTables,Fi]),g.useEffect(()=>{if(ks.length===0){Sr!==null&&ul(null);return}(!Sr||!ks.some(M=>M.id===Sr))&&ul(ks[0].id)},[ks,Sr]),g.useEffect(()=>{var M;const _=(xi==null?void 0:xi.players)||[];if(_.length===0){Nr!==null&&ds(null);return}const J=((M=_.find(ce=>ce.key==="__all__"))==null?void 0:M.key)||_[0].key;(!Nr||!_.some(ce=>ce.key===Nr))&&ds(J)},[xi,Nr]),g.useEffect(()=>{uc(null)},[Sr,Nr]),g.useEffect(()=>{if(Ss.length===0){ei!==null&&Fo(null);return}(!ei||!Ss.some(M=>M.id===ei))&&Fo(Ss[0].id)},[Ss,ei]),g.useEffect(()=>{var M;const _=(zn==null?void 0:zn.players)||[];if(_.length===0){ve!==null&&Qe(null);return}const J=((M=_.find(ce=>ce.key==="__all__"))==null?void 0:M.key)||_[0].key;(!ve||!_.some(ce=>ce.key===ve))&&Qe(J)},[zn,ve]),g.useEffect(()=>{yt!==null&&(yt<0||yt>=yl.length)&&Gt(null)},[yl,yt]),g.useEffect(()=>{Gt(null)},[ei,ve]),g.useEffect(()=>{!de.specialTables||de.specialTables.length===0||(!Dt||!de.specialTables.some(M=>M.id===Dt))&&jt(de.specialTables[0].id)},[de.specialTables,Dt]),g.useEffect(()=>{if(!po||po.length===0){Rn!==null&&er(null);return}(!Rn||!po.some(M=>M.id===Rn))&&er(po[0].id)},[po,Rn]),g.useEffect(()=>{const M=()=>{const J=window.getSelection();J&&J.rangeCount>0&&J.removeAllRanges()},_=J=>{var ce;const ue=J.target;(ce=ue==null?void 0:ue.closest)!=null&&ce.call(ue,".recharts-wrapper")&&(J.preventDefault(),M())};return document.addEventListener("selectstart",_),document.addEventListener("mousedown",_),document.addEventListener("mousemove",_),document.addEventListener("dragstart",_),()=>{document.removeEventListener("selectstart",_),document.removeEventListener("mousedown",_),document.removeEventListener("mousemove",_),document.removeEventListener("dragstart",_)}},[]);const ca=M=>{Ro.current&&(window.clearTimeout(Ro.current),Ro.current=null),vu(!1),Yd(M)},Rr=()=>{_n&&(Ro.current&&window.clearTimeout(Ro.current),vu(!0),Ro.current=window.setTimeout(()=>{Yd(null),vu(!1),Ro.current=null},160))};g.useEffect(()=>{if(!_n)return;const M=ce=>{ce.key==="Escape"&&Rr()},_=document.body.style.overflow,J=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",M),()=>{window.removeEventListener("keydown",M),document.body.style.overflow=_,document.documentElement.style.overflow=J}},[_n]);const Oj=(M,_)=>{const J=((_==null?void 0:_.value)||0)-((M==null?void 0:M.value)||0);return J!==0?J:String((M==null?void 0:M.name)||"").localeCompare(String((_==null?void 0:_.name)||""))},Ij=Array.isArray(de==null?void 0:de.squadClassData)?de.squadClassData:[],_j=Array.isArray(de==null?void 0:de.enemyClassData)?de.enemyClassData:[],iB=Array.isArray(de==null?void 0:de.attendanceData)?de.attendanceData:[],Cv=Array.isArray(de==null?void 0:de.squadCompByFight)?de.squadCompByFight:[],Lj=Array.isArray(de==null?void 0:de.fightBreakdown)?de.fightBreakdown:[],oB=g.useMemo(()=>{const M=new Map;return Lj.forEach(_=>{const J=String((_==null?void 0:_.id)||"");J&&M.set(J,_)}),Cv.map(_=>{const J=M.get(String((_==null?void 0:_.id)||""))||null;return{..._,enemyClassCounts:(J==null?void 0:J.enemyClassCounts)||{},isWin:typeof(J==null?void 0:J.isWin)=="boolean"?J.isWin:void 0}})},[Cv,Lj]),sB=g.useMemo(()=>[...Ij].sort(Oj),[Ij]),lB=g.useMemo(()=>[..._j].sort(Oj),[_j]),cB=u?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",uB=u?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${_n?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${_n?"":"backdrop-blur-2xl"}`,Fj=u&&p!=="matte"&&p!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:u&&p==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,dB=ye?{...Fj||{},overflowY:"hidden"}:Fj,fB=M=>Bo==="perSecond"?M.toFixed(1):Math.round(M).toLocaleString(),pB=M=>M.toFixed(1),mB=M=>Math.round(M).toLocaleString(),hB=M=>typeof M=="number"&&Number.isFinite(M)?M.toFixed(1):"0.0",gB=Math.max(Math.max(0,Number(de.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((h==null?void 0:h.total)||0))),ua=loe;return c.jsxs("div",{className:cB,children:[_n&&c.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${hr?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:Rr}),c.jsx(Woe,{embedded:u,dashboardTitle:f,totalLogs:gB,onBack:t,devMockAvailable:ke,devMockUploadState:Ft,onDevMockUpload:Xn,uploadingWeb:O,onWebUpload:pr,sharing:dn,canShareDiscord:m,onShare:Aa,actionsDisabled:G}),c.jsx(qoe,{embedded:u,webUploadMessage:q,webUploadUrl:Y,webUploadBuildStatus:ie,webCopyStatus:on,setWebCopyStatus:ln}),c.jsx(Hoe,{embedded:u,devMockAvailable:ke,devMockUploadState:Ft}),ne&&c.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"stats-settling-banner__title font-semibold",children:$}),c.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:le})]}),L.active&&c.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:c.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${L.progressPercent}%`}})}),B&&c.jsx("div",{className:"stats-settling-banner__meta mt-2 text-[11px] opacity-80",children:B})]}),c.jsxs("div",{className:`${u?"":"flex-1 min-h-0 flex"} relative ${ye?"stats-dashboard-loading-shell":""}`,children:[c.jsxs("div",{id:"stats-dashboard-container",ref:et,className:`${uB} ${u?"":"flex-1"} ${ye?"stats-dashboard-scroll-lock":""}`,style:dB,children:[c.jsxs(c.Fragment,{children:[_t("overview")&&c.jsx(Aoe,{stats:de,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("fight-breakdown")&&c.jsx(Eoe,{stats:de,fightBreakdownTab:ti,setFightBreakdownTab:Dm,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("top-players")&&c.jsx(Poe,{stats:de,showTopStats:C,showMvp:j,topStatsMode:T,expandedLeader:mr,setExpandedLeader:Zn,formatTopStatValue:wl,formatWithCommas:pa,isMvpStatEnabled:In,renderProfessionIcon:ua,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("top-skills-outgoing")&&c.jsx(Ooe,{stats:de,topSkillsMetric:I,onTopSkillsMetricChange:je,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("squad-composition")&&c.jsx(Ioe,{sortedSquadClassData:sB,sortedEnemyClassData:lB,getProfessionIconPath:Ic,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("attendance-ledger")&&c.jsx(Roe,{attendanceRows:iB,getProfessionIconPath:Ic,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("squad-comp-fight")&&c.jsx(Uoe,{fights:Cv,getProfessionIconPath:Ic,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("fight-comp")&&c.jsx(Voe,{fights:oB,getProfessionIconPath:Ic,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("timeline")&&c.jsx(_oe,{timelineData:de.timelineData,timelineFriendlyScope:Fr,setTimelineFriendlyScope:Tr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("map-distribution")&&c.jsx(Loe,{mapData:de.mapData,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("offense-detailed")&&c.jsx(goe,{stats:de,OFFENSE_METRICS:x3,roundCountStats:A,offenseSearch:U,setOffenseSearch:X,activeOffenseStat:wt,setActiveOffenseStat:Ce,offenseViewMode:dt,setOffenseViewMode:St,formatWithCommas:pa,renderProfessionIcon:ua,expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,sidebarListClass:Go}),_t("player-breakdown")&&c.jsx(foe,{expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,sidebarListClass:Go,viewMode:u6,setViewMode:d6,playerSkillBreakdowns:bs,classSkillBreakdowns:xu,activePlayerKey:mc,setActivePlayerKey:wv,expandedPlayerKey:s6,setExpandedPlayerKey:kj,activePlayerSkillId:Uo,setActivePlayerSkillId:Tm,activeClassKey:hc,setActiveClassKey:kv,expandedClassKey:f6,setExpandedClassKey:Sj,activeClassSkillId:vs,setActiveClassSkillId:Pm,skillSearch:l6,setSkillSearch:c6,activePlayerBreakdown:xs,activePlayerSkill:m6,activeClassBreakdown:ml,activeClassSkill:h6,renderProfessionIcon:ua}),_t("damage-breakdown")&&c.jsx(poe,{expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,playerSkillBreakdowns:bs,renderProfessionIcon:ua}),_t("spike-damage")&&c.jsx(eE,{expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,spikePlayerFilter:Rt,setSpikePlayerFilter:Ve,groupedSpikePlayers:g6,spikeMode:$e,setSpikeMode:Ze,damageBasis:Le,setDamageBasis:rt,showDamageBasisToggle:!0,selectedSpikePlayerKey:Nn,setSelectedSpikePlayerKey:fo,selectedSpikePlayer:y6,spikeChartData:zo,spikeChartMaxY:v6,selectedSpikeFightIndex:jr,setSelectedSpikeFightIndex:$o,spikeDrilldownTitle:Im.title,spikeDrilldownData:Im.data,spikeDrilldownDownIndices:Im.downIndices,spikeDrilldownDeathIndices:Im.deathIndices,spikeFightSkillRows:S6,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:pa,renderProfessionIcon:ua}),_t("conditions-outgoing")&&c.jsx(yoe,{conditionSummary:Fm,conditionPlayers:A6,conditionSearch:xt,setConditionSearch:Ct,activeConditionName:he,setActiveConditionName:Be,conditionDirection:Je,setConditionDirection:xe,conditionGridClass:He,effectiveConditionSort:vt,setConditionSort:oe,showConditionDamage:Ie,renderProfessionIcon:ua,expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,sidebarListClass:Go}),_t("defense-detailed")&&c.jsx(boe,{stats:de,DEFENSE_METRICS:w3,defenseSearch:re,setDefenseSearch:fe,activeDefenseStat:Ae,setActiveDefenseStat:Ne,defenseViewMode:Nt,setDefenseViewMode:mn,roundCountStats:A,formatWithCommas:pa,renderProfessionIcon:ua,expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,sidebarListClass:Go}),_t("incoming-strike-damage")&&c.jsx(eE,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,spikePlayerFilter:pe,setSpikePlayerFilter:ge,groupedSpikePlayers:b6,spikeMode:zt,setSpikeMode:$r,selectedSpikePlayerKey:gt,setSelectedSpikePlayerKey:Zt,selectedSpikePlayer:x6,spikeChartData:Vo,spikeChartMaxY:w6,selectedSpikeFightIndex:Qt,setSelectedSpikeFightIndex:yn,spikeDrilldownTitle:_m.title,spikeDrilldownData:_m.data,spikeDrilldownDownIndices:_m.downIndices,spikeDrilldownDeathIndices:_m.deathIndices,spikeFightSkillRows:k6,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:pa,renderProfessionIcon:ua}),_t("defense-mitigation")&&c.jsx(xoe,{stats:de,DAMAGE_MITIGATION_METRICS:Gz,damageMitigationSearch:Fe,setDamageMitigationSearch:Oe,activeDamageMitigationStat:De,setActiveDamageMitigationStat:Ke,damageMitigationViewMode:nn,setDamageMitigationViewMode:sn,damageMitigationScope:Pn,setDamageMitigationScope:Ea,roundCountStats:A,formatWithCommas:pa,renderProfessionIcon:ua,expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,sidebarListClass:Go}),_t("boon-output")&&c.jsx(voe,{stats:de,activeBoonCategory:Lr,setActiveBoonCategory:M=>yu(M),activeBoonMetric:lc,setActiveBoonMetric:cl,activeBoonTab:Fi,setActiveBoonTab:ia,activeBoonTable:V6,filteredBoonTables:z6,boonSearch:oa,setBoonSearch:us,formatBoonMetricDisplay:j8,getBoonMetricValue:O3,renderProfessionIcon:ua,roundCountStats:A,expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,sidebarListClass:Go}),_t("boon-timeline")&&c.jsx(moe,{expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,boonSearch:Gr,setBoonSearch:uo,boons:W6,activeBoonId:Sr,setActiveBoonId:ul,timelineScope:Yr,setTimelineScope:cc,playerFilter:Ja,setPlayerFilter:hi,players:q6,selectedPlayerKey:Nr,setSelectedPlayerKey:ds,selectedPlayer:K6,chartData:ku,chartMaxY:G6,selectedFightIndex:fs,setSelectedFightIndex:uc,drilldownTitle:Tj.title,drilldownData:Tj.data,formatWithCommas:pa,renderProfessionIcon:ua}),_t("boon-uptime")&&c.jsx(hoe,{expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,boonSearch:dc,setBoonSearch:Gd,boons:Y6,activeBoonId:ei,setActiveBoonId:Fo,playerFilter:dl,setPlayerFilter:Q,players:X6,selectedPlayerKey:ve,setSelectedPlayerKey:Qe,selectedPlayer:Q6,chartData:yl,chartMaxY:J6,selectedFightIndex:yt,setSelectedFightIndex:Gt,drilldownTitle:Pj.title,drilldownData:Pj.data,overallUptimePercent:eB,showStackCapLine:!!(zn!=null&&zn.stacking),formatWithCommas:pa,renderProfessionIcon:ua}),_t("support-detailed")&&c.jsx(woe,{stats:de,SUPPORT_METRICS:k3,supportSearch:nt,setSupportSearch:at,activeSupportStat:bt,setActiveSupportStat:qe,supportViewMode:ct,setSupportViewMode:Dr,cleanseScope:Mn,setCleanseScope:qn,roundCountStats:A,formatWithCommas:pa,renderProfessionIcon:ua,expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,sidebarListClass:Go}),_t("healing-stats")&&c.jsx(koe,{stats:de,HEALING_METRICS:Yz,activeHealingMetric:lt,setActiveHealingMetric:Se,healingCategory:Ge,setHealingCategory:tt,activeResUtilitySkill:it,setActiveResUtilitySkill:_e,skillUsageData:It,formatWithCommas:pa,renderProfessionIcon:ua,expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("fight-diff-mode")&&c.jsx(Moe,{stats:de,formatWithCommas:pa,expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn}),_t("special-buffs")&&c.jsx(Noe,{stats:de,specialSearch:fn,setSpecialSearch:Sn,filteredSpecialTables:tB,activeSpecialTab:Dt,setActiveSpecialTab:jt,activeSpecialTable:rB,formatWithCommas:pa,renderProfessionIcon:ua,expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,sidebarListClass:Go}),_t("sigil-relic-uptime")&&c.jsx(Coe,{hasSigilRelicTables:po.length>0,sigilRelicSearch:ot,setSigilRelicSearch:E,filteredSigilRelicTables:nB,activeSigilRelicTab:Rn,setActiveSigilRelicTab:er,activeSigilRelicTable:aB,formatWithCommas:pa,renderProfessionIcon:ua,expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,sidebarListClass:Go}),_t("skill-usage")&&c.jsx(coe,{expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,selectedPlayers:la,setSelectedPlayers:Ri,removeSelectedPlayer:U6,playerMapByKey:ws,groupedSkillUsagePlayers:M6,expandedSkillUsageClass:bu,setExpandedSkillUsageClass:ni,togglePlayerSelection:B6,skillUsagePlayerFilter:sa,setSkillUsagePlayerFilter:$i,skillUsageView:Bo,setSkillUsageView:Ui,skillUsageData:It,skillUsageSkillFilter:ps,setSkillUsageSkillFilter:ms,selectedSkillId:gi,setSelectedSkillId:hs,skillBarData:Zd,selectedSkillName:I6,selectedSkillIcon:_6,skillUsageReady:L6,skillUsageAvailable:Tn,isSkillUsagePerSecond:fl,skillChartData:j6,skillChartMaxY:C6,playerTotalsForSkill:wu,hoveredSkillPlayer:za,setHoveredSkillPlayer:Bi,getLineStrokeColor:O6,getLineDashForPlayer:P6,formatSkillUsageValue:fB,renderProfessionIcon:ua}),_t("apm-stats")&&c.jsx(doe,{expandedSection:_n,expandedSectionClosing:hr,openExpandedSection:ca,closeExpandedSection:Rr,isSectionVisible:_t,isFirstVisibleSection:Un,sectionClass:Bn,sidebarListClass:Go,apmSpecAvailable:F6,skillUsageAvailable:Tn,apmSpecTables:pl,activeApmSpec:yi,setActiveApmSpec:gs,expandedApmSpec:vv,setExpandedApmSpec:bv,activeApmSkillId:ys,setActiveApmSkillId:xv,ALL_SKILLS_KEY:Bm,apmSkillSearch:i6,setApmSkillSearch:o6,activeApmSpecTable:gl,activeApmSkill:R6,isAllApmSkills:$6,apmView:fc,setApmView:pc,formatApmValue:hB,formatCastRateValue:pB,formatCastCountValue:mB,renderProfessionIcon:ua})]}),!u&&c.jsx("div",{className:"h-24","aria-hidden":"true"})]}),ye&&c.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const Xoe="Arcane",_N="CRT",M0="MatteSlate",A0="KineticPaper",Hf="KineticPaperDark",eg={id:Xoe,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Zoe={id:M0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Qoe={id:A0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},Joe={id:Hf,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},ese=[eg,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],tse={id:_N,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Pf=[...ese,tse,Zoe,Qoe,Joe];function nse(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const rse=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ase=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ise={};function rE(e,t){return(ise.jsx?ase:rse).test(e)}const ose=/[ \t\n\f\r]/g;function sse(e){return typeof e=="object"?e.type==="text"?aE(e.value):!1:aE(e)}function aE(e){return e.replace(ose,"")===""}class Sm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Sm.prototype.normal={};Sm.prototype.property={};Sm.prototype.space=void 0;function PF(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Sm(n,r,t)}function e1(e){return e.toLowerCase()}class mi{constructor(t,n){this.attribute=n,this.property=t}}mi.prototype.attribute="";mi.prototype.booleanish=!1;mi.prototype.boolean=!1;mi.prototype.commaOrSpaceSeparated=!1;mi.prototype.commaSeparated=!1;mi.prototype.defined=!1;mi.prototype.mustUseProperty=!1;mi.prototype.number=!1;mi.prototype.overloadedBoolean=!1;mi.prototype.property="";mi.prototype.spaceSeparated=!1;mi.prototype.space=void 0;let lse=0;const un=mu(),zr=mu(),t1=mu(),ht=mu(),Qn=mu(),ud=mu(),Si=mu();function mu(){return 2**++lse}const n1=Object.freeze(Object.defineProperty({__proto__:null,boolean:un,booleanish:zr,commaOrSpaceSeparated:Si,commaSeparated:ud,number:ht,overloadedBoolean:t1,spaceSeparated:Qn},Symbol.toStringTag,{value:"Module"})),Eb=Object.keys(n1);class LN extends mi{constructor(t,n,r,a){let i=-1;if(super(t,n),iE(this,"space",a),typeof r=="number")for(;++i<Eb.length;){const o=Eb[i];iE(this,Eb[i],(r&n1[o])===n1[o])}}}LN.prototype.defined=!0;function iE(e,t,n){n&&(e[t]=n)}function Hd(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new LN(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[e1(r)]=r,n[e1(i.attribute)]=r}return new Sm(t,n,e.space)}const OF=Hd({properties:{ariaActiveDescendant:null,ariaAtomic:zr,ariaAutoComplete:null,ariaBusy:zr,ariaChecked:zr,ariaColCount:ht,ariaColIndex:ht,ariaColSpan:ht,ariaControls:Qn,ariaCurrent:null,ariaDescribedBy:Qn,ariaDetails:null,ariaDisabled:zr,ariaDropEffect:Qn,ariaErrorMessage:null,ariaExpanded:zr,ariaFlowTo:Qn,ariaGrabbed:zr,ariaHasPopup:null,ariaHidden:zr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qn,ariaLevel:ht,ariaLive:null,ariaModal:zr,ariaMultiLine:zr,ariaMultiSelectable:zr,ariaOrientation:null,ariaOwns:Qn,ariaPlaceholder:null,ariaPosInSet:ht,ariaPressed:zr,ariaReadOnly:zr,ariaRelevant:null,ariaRequired:zr,ariaRoleDescription:Qn,ariaRowCount:ht,ariaRowIndex:ht,ariaRowSpan:ht,ariaSelected:zr,ariaSetSize:ht,ariaSort:null,ariaValueMax:ht,ariaValueMin:ht,ariaValueNow:ht,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function IF(e,t){return t in e?e[t]:t}function _F(e,t){return IF(e,t.toLowerCase())}const cse=Hd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ud,acceptCharset:Qn,accessKey:Qn,action:null,allow:null,allowFullScreen:un,allowPaymentRequest:un,allowUserMedia:un,alt:null,as:null,async:un,autoCapitalize:null,autoComplete:Qn,autoFocus:un,autoPlay:un,blocking:Qn,capture:null,charSet:null,checked:un,cite:null,className:Qn,cols:ht,colSpan:null,content:null,contentEditable:zr,controls:un,controlsList:Qn,coords:ht|ud,crossOrigin:null,data:null,dateTime:null,decoding:null,default:un,defer:un,dir:null,dirName:null,disabled:un,download:t1,draggable:zr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:un,formTarget:null,headers:Qn,height:ht,hidden:t1,high:ht,href:null,hrefLang:null,htmlFor:Qn,httpEquiv:Qn,id:null,imageSizes:null,imageSrcSet:null,inert:un,inputMode:null,integrity:null,is:null,isMap:un,itemId:null,itemProp:Qn,itemRef:Qn,itemScope:un,itemType:Qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:un,low:ht,manifest:null,max:null,maxLength:ht,media:null,method:null,min:null,minLength:ht,multiple:un,muted:un,name:null,nonce:null,noModule:un,noValidate:un,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:un,optimum:ht,pattern:null,ping:Qn,placeholder:null,playsInline:un,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:un,referrerPolicy:null,rel:Qn,required:un,reversed:un,rows:ht,rowSpan:ht,sandbox:Qn,scope:null,scoped:un,seamless:un,selected:un,shadowRootClonable:un,shadowRootDelegatesFocus:un,shadowRootMode:null,shape:null,size:ht,sizes:null,slot:null,span:ht,spellCheck:zr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ht,step:null,style:null,tabIndex:ht,target:null,title:null,translate:null,type:null,typeMustMatch:un,useMap:null,value:zr,width:ht,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qn,axis:null,background:null,bgColor:null,border:ht,borderColor:null,bottomMargin:ht,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:un,declare:un,event:null,face:null,frame:null,frameBorder:null,hSpace:ht,leftMargin:ht,link:null,longDesc:null,lowSrc:null,marginHeight:ht,marginWidth:ht,noResize:un,noHref:un,noShade:un,noWrap:un,object:null,profile:null,prompt:null,rev:null,rightMargin:ht,rules:null,scheme:null,scrolling:zr,standby:null,summary:null,text:null,topMargin:ht,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ht,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:un,disableRemotePlayback:un,prefix:null,property:null,results:ht,security:null,unselectable:null},space:"html",transform:_F}),use=Hd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Si,accentHeight:ht,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ht,amplitude:ht,arabicForm:null,ascent:ht,attributeName:null,attributeType:null,azimuth:ht,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ht,by:null,calcMode:null,capHeight:ht,className:Qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ht,diffuseConstant:ht,direction:null,display:null,dur:null,divisor:ht,dominantBaseline:null,download:un,dx:null,dy:null,edgeMode:null,editable:null,elevation:ht,enableBackground:null,end:null,event:null,exponent:ht,externalResourcesRequired:null,fill:null,fillOpacity:ht,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ud,g2:ud,glyphName:ud,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ht,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ht,horizOriginX:ht,horizOriginY:ht,id:null,ideographic:ht,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ht,k:ht,k1:ht,k2:ht,k3:ht,k4:ht,kernelMatrix:Si,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ht,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ht,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ht,overlineThickness:ht,paintOrder:null,panose1:null,path:null,pathLength:ht,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ht,pointsAtY:ht,pointsAtZ:ht,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Si,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Si,rev:Si,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Si,requiredFeatures:Si,requiredFonts:Si,requiredFormats:Si,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ht,specularExponent:ht,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ht,strikethroughThickness:ht,string:null,stroke:null,strokeDashArray:Si,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ht,strokeOpacity:ht,strokeWidth:null,style:null,surfaceScale:ht,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Si,tabIndex:ht,tableValues:null,target:null,targetX:ht,targetY:ht,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Si,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ht,underlineThickness:ht,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ht,values:null,vAlphabetic:ht,vMathematical:ht,vectorEffect:null,vHanging:ht,vIdeographic:ht,version:null,vertAdvY:ht,vertOriginX:ht,vertOriginY:ht,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ht,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:IF}),LF=Hd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),FF=Hd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:_F}),$F=Hd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),dse={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fse=/[A-Z]/g,oE=/-[a-z]/g,pse=/^data[-\w.:]+$/i;function mse(e,t){const n=e1(t);let r=t,a=mi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&pse.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(oE,gse);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!oE.test(i)){let o=i.replace(fse,hse);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=LN}return new a(r,t)}function hse(e){return"-"+e.toLowerCase()}function gse(e){return e.charAt(1).toUpperCase()}const yse=PF([OF,cse,LF,FF,$F],"html"),FN=PF([OF,use,LF,FF,$F],"svg");function vse(e){return e.join(" ").trim()}var $N={},sE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,bse=/\n/g,xse=/^\s*/,wse=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,kse=/^:\s*/,Sse=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Nse=/^[;\s]*/,jse=/^\s+|\s+$/g,Cse=`
`,lE="/",cE="*",Dc="",Mse="comment",Ase="declaration";function Ese(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var v=h.match(bse);v&&(n+=v.length);var b=h.lastIndexOf(Cse);r=~b?h.length-b:r+h.length}function i(){var h={line:n,column:r};return function(v){return v.position=new o(h),u(),v}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var v=new Error(t.source+":"+n+":"+r+": "+h);if(v.reason=h,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(h){var v=h.exec(e);if(v){var b=v[0];return a(b),e=e.slice(b.length),v}}function u(){l(xse)}function d(h){var v;for(h=h||[];v=f();)v!==!1&&h.push(v);return h}function f(){var h=i();if(!(lE!=e.charAt(0)||cE!=e.charAt(1))){for(var v=2;Dc!=e.charAt(v)&&(cE!=e.charAt(v)||lE!=e.charAt(v+1));)++v;if(v+=2,Dc===e.charAt(v-1))return s("End of comment missing");var b=e.slice(2,v-2);return r+=2,a(b),e=e.slice(v),r+=2,h({type:Mse,comment:b})}}function p(){var h=i(),v=l(wse);if(v){if(f(),!l(kse))return s("property missing ':'");var b=l(Sse),y=h({type:Ase,property:uE(v[0].replace(sE,Dc)),value:b?uE(b[0].replace(sE,Dc)):Dc});return l(Nse),y}}function m(){var h=[];d(h);for(var v;v=p();)v!==!1&&(h.push(v),d(h));return h}return u(),m()}function uE(e){return e?e.replace(jse,Dc):Dc}var Dse=Ese,Tse=ig&&ig.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($N,"__esModule",{value:!0});$N.default=Ose;const Pse=Tse(Dse);function Ose(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Pse.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var iv={};Object.defineProperty(iv,"__esModule",{value:!0});iv.camelCase=void 0;var Ise=/^--[a-zA-Z0-9_-]+$/,_se=/-([a-z])/g,Lse=/^[^-]+$/,Fse=/^-(webkit|moz|ms|o|khtml)-/,$se=/^-(ms)-/,Rse=function(e){return!e||Lse.test(e)||Ise.test(e)},Bse=function(e,t){return t.toUpperCase()},dE=function(e,t){return"".concat(t,"-")},Use=function(e,t){return t===void 0&&(t={}),Rse(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace($se,dE):e=e.replace(Fse,dE),e.replace(_se,Bse))};iv.camelCase=Use;var zse=ig&&ig.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Vse=zse($N),Wse=iv;function r1(e,t){var n={};return!e||typeof e!="string"||(0,Vse.default)(e,function(r,a){r&&a&&(n[(0,Wse.camelCase)(r,t)]=a)}),n}r1.default=r1;var qse=r1;const Hse=Io(qse),RF=BF("end"),RN=BF("start");function BF(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Kse(e){const t=RN(e),n=RF(e);if(t&&n)return{start:t,end:n}}function Kf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?fE(e.position):"start"in e||"end"in e?fE(e):"line"in e||"column"in e?a1(e):""}function a1(e){return pE(e&&e.line)+":"+pE(e&&e.column)}function fE(e){return a1(e&&e.start)+"-"+a1(e&&e.end)}function pE(e){return e&&typeof e=="number"?e:1}class Ua extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=Kf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ua.prototype.file="";Ua.prototype.name="";Ua.prototype.reason="";Ua.prototype.message="";Ua.prototype.stack="";Ua.prototype.column=void 0;Ua.prototype.line=void 0;Ua.prototype.ancestors=void 0;Ua.prototype.cause=void 0;Ua.prototype.fatal=void 0;Ua.prototype.place=void 0;Ua.prototype.ruleId=void 0;Ua.prototype.source=void 0;const BN={}.hasOwnProperty,Gse=new Map,Yse=/[A-Z]/g,Xse=new Set(["table","tbody","thead","tfoot","tr"]),Zse=new Set(["td","th"]),UF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Qse(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ole(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=ile(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?FN:yse,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=zF(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function zF(e,t,n){if(t.type==="element")return Jse(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ele(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return nle(e,t,n);if(t.type==="mdxjsEsm")return tle(e,t);if(t.type==="root")return rle(e,t,n);if(t.type==="text")return ale(e,t)}function Jse(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=FN,e.schema=a),e.ancestors.push(t);const i=WF(e,t.tagName,!1),o=sle(e,t);let s=zN(e,t);return Xse.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!sse(l):!0})),VF(e,o,i,t),UN(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function ele(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Lp(e,t.position)}function tle(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Lp(e,t.position)}function nle(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=FN,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:WF(e,t.name,!0),o=lle(e,t),s=zN(e,t);return VF(e,o,i,t),UN(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function rle(e,t,n){const r={};return UN(r,zN(e,t)),e.create(t,e.Fragment,r,n)}function ale(e,t){return t.value}function VF(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function UN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ile(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function ole(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=RN(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function sle(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&BN.call(t.properties,a)){const i=cle(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Zse.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function lle(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Lp(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Lp(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function zN(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Gse;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=a.get(l)||0;o=l+"-"+u,a.set(l,u+1)}}const s=zF(e,i,o);s!==void 0&&n.push(s)}return n}function cle(e,t,n){const r=mse(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?nse(n):vse(n)),r.property==="style"){let a=typeof n=="object"?n:ule(e,String(n));return e.stylePropertyNameCase==="css"&&(a=dle(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?dse[r.property]||r.property:r.attribute,n]}}function ule(e,t){try{return Hse(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Ua("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=UF+"#cannot-parse-style-attribute",a}}function WF(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=rE(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=rE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return BN.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Lp(e)}function Lp(e,t){const n=new Ua("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=UF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function dle(e){const t={};let n;for(n in e)BN.call(e,n)&&(t[fle(n)]=e[n]);return t}function fle(e){let t=e.replace(Yse,ple);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ple(e){return"-"+e.toLowerCase()}const Db={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mle={};function VN(e,t){const n=mle,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return qF(e,r,a)}function qF(e,t,n){if(hle(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return mE(e.children,t,n)}return Array.isArray(e)?mE(e,t,n):""}function mE(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=qF(e[a],t,n);return r.join("")}function hle(e){return!!(e&&typeof e=="object")}const hE=document.createElement("i");function WN(e){const t="&"+e+";";hE.innerHTML=t;const n=hE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ti(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Xi(e,t){return e.length>0?(Ti(e,e.length,0,t),e):t}const gE={}.hasOwnProperty;function HF(e){const t={};let n=-1;for(;++n<e.length;)gle(t,e[n]);return t}function gle(e,t){let n;for(n in t){const r=(gE.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){gE.call(r,i)||(r[i]=[]);const o=a[i];yle(r[i],Array.isArray(o)?o:o?[o]:[])}}}function yle(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ti(e,0,0,r)}function KF(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function jo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qa=oc(/[A-Za-z]/),$a=oc(/[\dA-Za-z]/),vle=oc(/[#-'*+\--9=?A-Z^-~]/);function E0(e){return e!==null&&(e<32||e===127)}const i1=oc(/\d/),ble=oc(/[\dA-Fa-f]/),xle=oc(/[!-/:-@[-`{-~]/);function Ht(e){return e!==null&&e<-2}function Kn(e){return e!==null&&(e<0||e===32)}function hn(e){return e===-2||e===-1||e===32}const ov=oc(new RegExp("\\p{P}|\\p{S}","u")),lu=oc(/\s/);function oc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Kd(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&$a(e.charCodeAt(n+1))&&$a(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function kn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return hn(l)?(e.enter(n),s(l)):t(l)}function s(l){return hn(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const wle={tokenize:kle};function kle(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),kn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Ht(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const Sle={tokenize:Nle},yE={tokenize:jle};function Nle(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&x();const S=t.events.length;let C=S,j;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){j=t.events[C][1].end;break}y(r);let A=S;for(;A<t.events.length;)t.events[A][1].end={...j},A++;return Ti(t.events,C+1,0,t.events.slice(S)),t.events.length=A,u(w)}return s(w)}function u(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(yE,d,f)(w)}function d(w){return a&&x(),y(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(yE,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&x(),y(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(w)}function v(w){if(w===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return Ht(w)?(e.consume(w),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),v)}function b(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(C),t.parser.lazy[w.start.line]){let j=a.events.length;for(;j--;)if(a.events[j][1].start.offset<o&&(!a.events[j][1].end||a.events[j][1].end.offset>o))return;const A=t.events.length;let T=A,R,D;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(R){D=t.events[T][1].end;break}R=!0}for(y(r),j=A;j<t.events.length;)t.events[j][1].end={...D},j++;Ti(t.events,T+1,0,t.events.slice(A)),t.events.length=j}}function y(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function x(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function jle(e,t,n){return kn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Dd(e){if(e===null||Kn(e)||lu(e))return 1;if(ov(e))return 2}function sv(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const o1={name:"attention",resolveAll:Cle,tokenize:Mle};function Cle(e,t){let n=-1,r,a,i,o,s,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};vE(f,-l),vE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Xi(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Xi(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=Xi(u,sv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Xi(u,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Xi(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ti(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Mle(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Dd(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const u=e.exit("attentionSequence"),d=Dd(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?f:f&&(a||!p)),u._close=!!(i===42?p:p&&(d||!f)),t(l)}}function vE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ale={name:"autolink",tokenize:Ele};function Ele(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return qa(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||$a(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||$a(m))&&r++<32?(e.consume(m),s):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||E0(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):vle(m)?(e.consume(m),u):n(m)}function d(m){return $a(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||$a(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const Nm={partial:!0,tokenize:Dle};function Dle(e,t,n){return r;function r(i){return hn(i)?kn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Ht(i)?t(i):n(i)}}const GF={continuation:{tokenize:Ple},exit:Ole,name:"blockQuote",tokenize:Tle};function Tle(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return hn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Ple(e,t,n){const r=this;return a;function a(o){return hn(o)?kn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(GF,t,n)(o)}}function Ole(e){e.exit("blockQuote")}const YF={name:"characterEscape",tokenize:Ile};function Ile(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return xle(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const XF={name:"characterReference",tokenize:_le};function _le(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=$a,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=ble,d):(e.enter("characterReferenceValue"),i=7,o=i1,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===$a&&!WN(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const bE={partial:!0,tokenize:Fle},xE={concrete:!0,name:"codeFenced",tokenize:Lle};function Lle(e,t,n){const r=this,a={partial:!0,tokenize:C};let i=0,o=0,s;return l;function l(j){return u(j)}function u(j){const A=r.events[r.events.length-1];return i=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===s?(o++,e.consume(j),d):o<3?n(j):(e.exit("codeFencedFenceSequence"),hn(j)?kn(e,f,"whitespace")(j):f(j))}function f(j){return j===null||Ht(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(bE,v,S)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||Ht(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):hn(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),kn(e,m,"whitespace")(j)):j===96&&j===s?n(j):(e.consume(j),p)}function m(j){return j===null||Ht(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||Ht(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===s?n(j):(e.consume(j),h)}function v(j){return e.attempt(a,S,b)(j)}function b(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),y}function y(j){return i>0&&hn(j)?kn(e,x,"linePrefix",i+1)(j):x(j)}function x(j){return j===null||Ht(j)?e.check(bE,v,S)(j):(e.enter("codeFlowValue"),w(j))}function w(j){return j===null||Ht(j)?(e.exit("codeFlowValue"),x(j)):(e.consume(j),w)}function S(j){return e.exit("codeFenced"),t(j)}function C(j,A,T){let R=0;return D;function D(ie){return j.enter("lineEnding"),j.consume(ie),j.exit("lineEnding"),I}function I(ie){return j.enter("codeFencedFence"),hn(ie)?kn(j,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):O(ie)}function O(ie){return ie===s?(j.enter("codeFencedFenceSequence"),q(ie)):T(ie)}function q(ie){return ie===s?(R++,j.consume(ie),q):R>=o?(j.exit("codeFencedFenceSequence"),hn(ie)?kn(j,Y,"whitespace")(ie):Y(ie)):T(ie)}function Y(ie){return ie===null||Ht(ie)?(j.exit("codeFencedFence"),A(ie)):T(ie)}}}function Fle(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Tb={name:"codeIndented",tokenize:Rle},$le={partial:!0,tokenize:Ble};function Rle(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),kn(e,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Ht(u)?e.attempt($le,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||Ht(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function Ble(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):kn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Ht(o)?a(o):n(o)}}const Ule={name:"codeText",previous:Vle,resolve:zle,tokenize:Wle};function zle(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Vle(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Wle(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):Ht(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Ht(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",u(f))}}class qle{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&wf(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),wf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),wf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);wf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);wf(this.left,n.reverse())}}}function wf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ZF(e){const t={};let n=-1,r,a,i,o,s,l,u;const d=new qle(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Hle(d,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return Ti(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Hle(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],u={};let d,f,p=-1,m=n,h=0,v=0;const b=[v];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(v=p+1,b.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const y=s.slice(b[p],b[p+1]),x=i.pop();l.push([x,x+y.length-1]),e.splice(x,2,y)}for(l.reverse(),p=-1;++p<l.length;)u[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return u}const Kle={resolve:Yle,tokenize:Xle},Gle={partial:!0,tokenize:Zle};function Yle(e){return ZF(e),e}function Xle(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):Ht(s)?e.check(Gle,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Zle(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),kn(e,i,"linePrefix")}function i(o){if(o===null||Ht(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function QF(e,t,n,r,a,i,o,s,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(y),e.exit(i),p):y===null||y===32||y===41||E0(y)?n(y):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(y))}function p(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(s),p(y)):y===null||y===60||Ht(y)?n(y):(e.consume(y),y===92?h:m)}function h(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function v(y){return!d&&(y===null||y===41||Kn(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,v):y===41?(e.consume(y),d--,v):y===null||y===32||y===40||E0(y)?n(y):(e.consume(y),y===92?b:v)}function b(y){return y===40||y===41||y===92?(e.consume(y),v):v(y)}}function JF(e,t,n,r,a,i){const o=this;let s=0,l;return u;function u(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):Ht(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Ht(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!hn(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function e$(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),u(p))}function u(p){return p===o?(e.exit(i),l(o)):p===null?n(p):Ht(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),kn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||Ht(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Gf(e,t){let n;return r;function r(a){return Ht(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):hn(a)?kn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const Qle={name:"definition",tokenize:ece},Jle={partial:!0,tokenize:tce};function ece(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return JF.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=jo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Kn(m)?Gf(e,u)(m):u(m)}function u(m){return QF(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Jle,f,f)(m)}function f(m){return hn(m)?kn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Ht(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function tce(e,t,n){return r;function r(s){return Kn(s)?Gf(e,a)(s):n(s)}function a(s){return e$(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return hn(s)?kn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Ht(s)?t(s):n(s)}}const nce={name:"hardBreakEscape",tokenize:rce};function rce(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Ht(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const ace={name:"headingAtx",resolve:ice,tokenize:oce};function ice(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ti(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function oce(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Kn(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Ht(d)?(e.exit("atxHeading"),t(d)):hn(d)?kn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function u(d){return d===null||d===35||Kn(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),u)}}const sce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wE=["pre","script","style","textarea"],lce={concrete:!0,name:"htmlFlow",resolveTo:dce,tokenize:fce},cce={partial:!0,tokenize:mce},uce={partial:!0,tokenize:pce};function dce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function fce(e,t,n){const r=this;let a,i,o,s,l;return u;function u(N){return d(N)}function d(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),p):N===47?(e.consume(N),i=!0,v):N===63?(e.consume(N),a=3,r.interrupt?t:k):qa(N)?(e.consume(N),o=String.fromCharCode(N),b):n(N)}function p(N){return N===45?(e.consume(N),a=2,m):N===91?(e.consume(N),a=5,s=0,h):qa(N)?(e.consume(N),a=4,r.interrupt?t:k):n(N)}function m(N){return N===45?(e.consume(N),r.interrupt?t:k):n(N)}function h(N){const F="CDATA[";return N===F.charCodeAt(s++)?(e.consume(N),s===F.length?r.interrupt?t:O:h):n(N)}function v(N){return qa(N)?(e.consume(N),o=String.fromCharCode(N),b):n(N)}function b(N){if(N===null||N===47||N===62||Kn(N)){const F=N===47,z=o.toLowerCase();return!F&&!i&&wE.includes(z)?(a=1,r.interrupt?t(N):O(N)):sce.includes(o.toLowerCase())?(a=6,F?(e.consume(N),y):r.interrupt?t(N):O(N)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):i?x(N):w(N))}return N===45||$a(N)?(e.consume(N),o+=String.fromCharCode(N),b):n(N)}function y(N){return N===62?(e.consume(N),r.interrupt?t:O):n(N)}function x(N){return hn(N)?(e.consume(N),x):D(N)}function w(N){return N===47?(e.consume(N),D):N===58||N===95||qa(N)?(e.consume(N),S):hn(N)?(e.consume(N),w):D(N)}function S(N){return N===45||N===46||N===58||N===95||$a(N)?(e.consume(N),S):C(N)}function C(N){return N===61?(e.consume(N),j):hn(N)?(e.consume(N),C):w(N)}function j(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,A):hn(N)?(e.consume(N),j):T(N)}function A(N){return N===l?(e.consume(N),l=null,R):N===null||Ht(N)?n(N):(e.consume(N),A)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Kn(N)?C(N):(e.consume(N),T)}function R(N){return N===47||N===62||hn(N)?w(N):n(N)}function D(N){return N===62?(e.consume(N),I):n(N)}function I(N){return N===null||Ht(N)?O(N):hn(N)?(e.consume(N),I):n(N)}function O(N){return N===45&&a===2?(e.consume(N),ke):N===60&&a===1?(e.consume(N),te):N===62&&a===4?(e.consume(N),V):N===63&&a===3?(e.consume(N),k):N===93&&a===5?(e.consume(N),W):Ht(N)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(cce,P,q)(N)):N===null||Ht(N)?(e.exit("htmlFlowData"),q(N)):(e.consume(N),O)}function q(N){return e.check(uce,Y,P)(N)}function Y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),ie}function ie(N){return N===null||Ht(N)?q(N):(e.enter("htmlFlowData"),O(N))}function ke(N){return N===45?(e.consume(N),k):O(N)}function te(N){return N===47?(e.consume(N),o="",H):O(N)}function H(N){if(N===62){const F=o.toLowerCase();return wE.includes(F)?(e.consume(N),V):O(N)}return qa(N)&&o.length<8?(e.consume(N),o+=String.fromCharCode(N),H):O(N)}function W(N){return N===93?(e.consume(N),k):O(N)}function k(N){return N===62?(e.consume(N),V):N===45&&a===2?(e.consume(N),k):O(N)}function V(N){return N===null||Ht(N)?(e.exit("htmlFlowData"),P(N)):(e.consume(N),V)}function P(N){return e.exit("htmlFlow"),t(N)}}function pce(e,t,n){const r=this;return a;function a(o){return Ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function mce(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Nm,t,n)}}const hce={name:"htmlText",tokenize:gce};function gce(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),C):k===63?(e.consume(k),w):qa(k)?(e.consume(k),T):n(k)}function u(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):qa(k)?(e.consume(k),x):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):Ht(k)?(o=f,te(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?ke(k):k===45?p(k):f(k)}function h(k){const V="CDATA[";return k===V.charCodeAt(i++)?(e.consume(k),i===V.length?v:h):n(k)}function v(k){return k===null?n(k):k===93?(e.consume(k),b):Ht(k)?(o=v,te(k)):(e.consume(k),v)}function b(k){return k===93?(e.consume(k),y):v(k)}function y(k){return k===62?ke(k):k===93?(e.consume(k),y):v(k)}function x(k){return k===null||k===62?ke(k):Ht(k)?(o=x,te(k)):(e.consume(k),x)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):Ht(k)?(o=w,te(k)):(e.consume(k),w)}function S(k){return k===62?ke(k):w(k)}function C(k){return qa(k)?(e.consume(k),j):n(k)}function j(k){return k===45||$a(k)?(e.consume(k),j):A(k)}function A(k){return Ht(k)?(o=A,te(k)):hn(k)?(e.consume(k),A):ke(k)}function T(k){return k===45||$a(k)?(e.consume(k),T):k===47||k===62||Kn(k)?R(k):n(k)}function R(k){return k===47?(e.consume(k),ke):k===58||k===95||qa(k)?(e.consume(k),D):Ht(k)?(o=R,te(k)):hn(k)?(e.consume(k),R):ke(k)}function D(k){return k===45||k===46||k===58||k===95||$a(k)?(e.consume(k),D):I(k)}function I(k){return k===61?(e.consume(k),O):Ht(k)?(o=I,te(k)):hn(k)?(e.consume(k),I):R(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,q):Ht(k)?(o=O,te(k)):hn(k)?(e.consume(k),O):(e.consume(k),Y)}function q(k){return k===a?(e.consume(k),a=void 0,ie):k===null?n(k):Ht(k)?(o=q,te(k)):(e.consume(k),q)}function Y(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Kn(k)?R(k):(e.consume(k),Y)}function ie(k){return k===47||k===62||Kn(k)?R(k):n(k)}function ke(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function te(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),H}function H(k){return hn(k)?kn(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):W(k)}function W(k){return e.enter("htmlTextData"),o(k)}}const qN={name:"labelEnd",resolveAll:xce,resolveTo:wce,tokenize:kce},yce={tokenize:Sce},vce={tokenize:Nce},bce={tokenize:jce};function xce(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Ti(e,0,e.length,n),e}function wce(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=Xi(s,e.slice(i+1,i+r+3)),s=Xi(s,[["enter",d,t]]),s=Xi(s,sv(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=Xi(s,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),s=Xi(s,e.slice(o+1)),s=Xi(s,[["exit",l,t]]),Ti(e,i,e.length,s),e}function kce(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(jo(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(yce,d,o?d:f)(p):p===91?e.attempt(vce,d,o?u:f)(p):o?d(p):f(p)}function u(p){return e.attempt(bce,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function Sce(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Kn(f)?Gf(e,i)(f):i(f)}function i(f){return f===41?d(f):QF(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Kn(f)?Gf(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?e$(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Kn(f)?Gf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Nce(e,t,n){const r=this;return a;function a(s){return JF.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(jo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function jce(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const Cce={name:"labelStartImage",resolveAll:qN.resolveAll,tokenize:Mce};function Mce(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Ace={name:"labelStartLink",resolveAll:qN.resolveAll,tokenize:Ece};function Ece(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Pb={name:"lineEnding",tokenize:Dce};function Dce(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),kn(e,t,"linePrefix")}}const tg={name:"thematicBreak",tokenize:Tce};function Tce(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,s(u)}function s(u){return u===a?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ht(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===a?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),hn(u)?kn(e,s,"whitespace")(u):s(u))}}const ri={continuation:{tokenize:_ce},exit:Fce,name:"list",tokenize:Ice},Pce={partial:!0,tokenize:$ce},Oce={partial:!0,tokenize:Lce};function Ice(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:i1(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(tg,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return i1(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Nm,r.interrupt?n:d,e.attempt(Pce,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return hn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function _ce(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Nm,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,kn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!hn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Oce,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,kn(e,e.attempt(ri,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Lce(e,t,n){const r=this;return kn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function Fce(e){e.exit(this.containerState.type)}function $ce(e,t,n){const r=this;return kn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!hn(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const kE={name:"setextUnderline",resolveTo:Rce,tokenize:Bce};function Rce(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Bce(e,t,n){const r=this;let a;return i;function i(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===a?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),hn(u)?kn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ht(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Uce={tokenize:zce};function zce(e){const t=this,n=e.attempt(Nm,r,e.attempt(this.parser.constructs.flowInitial,a,kn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Kle,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Vce={resolveAll:n$()},Wce=t$("string"),qce=t$("text");function t$(e){return{resolveAll:n$(e==="text"?Hce:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return u(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function n$(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Hce(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Kce={42:ri,43:ri,45:ri,48:ri,49:ri,50:ri,51:ri,52:ri,53:ri,54:ri,55:ri,56:ri,57:ri,62:GF},Gce={91:Qle},Yce={[-2]:Tb,[-1]:Tb,32:Tb},Xce={35:ace,42:tg,45:[kE,tg],60:lce,61:kE,95:tg,96:xE,126:xE},Zce={38:XF,92:YF},Qce={[-5]:Pb,[-4]:Pb,[-3]:Pb,33:Cce,38:XF,42:o1,60:[Ale,hce],91:Ace,92:[nce,YF],93:qN,95:o1,96:Ule},Jce={null:[o1,Vce]},eue={null:[42,95]},tue={null:[]},nue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:eue,contentInitial:Gce,disable:tue,document:Kce,flow:Xce,flowInitial:Yce,insideSpan:Jce,string:Zce,text:Qce},Symbol.toStringTag,{value:"Module"}));function rue(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:A(C),check:A(j),consume:x,enter:w,exit:S,interrupt:A(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&i.push(t),u;function f(I){return o=Xi(o,I),b(),o[o.length-1]!==null?[]:(T(t,0),u.events=sv(i,u.events,u),u.events)}function p(I,O){return iue(m(I),O)}function m(I){return aue(o,I)}function h(){const{_bufferIndex:I,_index:O,line:q,column:Y,offset:ie}=r;return{_bufferIndex:I,_index:O,line:q,column:Y,offset:ie}}function v(I){a[I.line]=I.column,D()}function b(){let I;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<O.length;)y(O.charCodeAt(r._bufferIndex));else y(O)}}function y(I){d=d(I)}function x(I){Ht(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,D()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function w(I,O){const q=O||{};return q.type=I,q.start=h(),u.events.push(["enter",q,u]),s.push(q),q}function S(I){const O=s.pop();return O.end=h(),u.events.push(["exit",O,u]),O}function C(I,O){T(I,O.from)}function j(I,O){O.restore()}function A(I,O){return q;function q(Y,ie,ke){let te,H,W,k;return Array.isArray(Y)?P(Y):"tokenize"in Y?P([Y]):V(Y);function V(Z){return se;function se(K){const L=K!==null&&Z[K],B=K!==null&&Z.null,ne=[...Array.isArray(L)?L:L?[L]:[],...Array.isArray(B)?B:B?[B]:[]];return P(ne)(K)}}function P(Z){return te=Z,H=0,Z.length===0?ke:N(Z[H])}function N(Z){return se;function se(K){return k=R(),W=Z,Z.partial||(u.currentConstruct=Z),Z.name&&u.parser.constructs.disable.null.includes(Z.name)?z():Z.tokenize.call(O?Object.assign(Object.create(u),O):u,l,F,z)(K)}}function F(Z){return I(W,k),ie}function z(Z){return k.restore(),++H<te.length?N(te[H]):ke}}}function T(I,O){I.resolveAll&&!i.includes(I)&&i.push(I),I.resolve&&Ti(u.events,O,u.events.length-O,I.resolve(u.events.slice(O),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function R(){const I=h(),O=u.previous,q=u.currentConstruct,Y=u.events.length,ie=Array.from(s);return{from:Y,restore:ke};function ke(){r=I,u.previous=O,u.currentConstruct=q,u.events.length=Y,s=ie,D()}}function D(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function aue(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function iue(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function oue(e){const t={constructs:HF([nue,...(e||{}).extensions||[]]),content:n(wle),defined:[],document:n(Sle),flow:n(Uce),lazy:{},string:n(Wce),text:n(qce)};return t;function n(r){return a;function a(i){return rue(t,r,i)}}}function sue(e){for(;!ZF(e););return e}const SE=/[\0\t\n\r]/g;function lue(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let u,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(SE.lastIndex=f,u=SE.exec(i),p=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(p),!u){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const cue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uue(e){return e.replace(cue,due)}function due(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return KF(n.slice(a?2:1),a?16:10)}return WN(n)||e}const r$={}.hasOwnProperty;function fue(e,t,n){return typeof t!="string"&&(n=t,t=void 0),pue(n)(sue(oue(n).document().write(lue()(e,t,!0))))}function pue(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Pe),autolinkProtocol:R,autolinkEmail:R,atxHeading:i(G),blockQuote:i(B),characterEscape:R,characterReference:R,codeFenced:i(ne),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(ne,o),codeText:i($,o),codeTextData:R,data:R,codeFlowValue:R,definition:i(le),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(ye),hardBreakEscape:i(me),hardBreakTrailing:i(me),htmlFlow:i(Te,o),htmlFlowData:R,htmlText:i(Te,o),htmlTextData:R,image:i(mt),label:o,link:i(Pe),listItem:i(Ue),listItemValue:p,listOrdered:i(ae,f),listUnordered:i(ae),paragraph:i(Re),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(G),strong:i(de),thematicBreak:i(Tn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:L,autolinkProtocol:K,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:z,characterReferenceMarkerNumeric:z,characterReferenceValue:Z,characterReference:se,codeFenced:l(b),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:D,codeIndented:l(y),codeText:l(ie),codeTextData:D,data:D,definition:l(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(q),htmlFlowData:D,htmlText:l(Y),htmlTextData:D,image:l(te),label:W,labelText:H,lineEnding:I,link:l(ke),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:F,resourceDestinationString:k,resourceTitleString:V,resource:P,setextHeading:l(T),setextHeadingLineSequence:A,setextHeadingText:j,strong:l(),thematicBreak:l()}};a$(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(je){let et={type:"root",children:[]};const Ft={stack:[et],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:d,data:n},on=[];let ln=-1;for(;++ln<je.length;)if(je[ln][1].type==="listOrdered"||je[ln][1].type==="listUnordered")if(je[ln][0]==="enter")on.push(ln);else{const pr=on.pop();ln=a(je,pr,ln)}for(ln=-1;++ln<je.length;){const pr=t[je[ln][0]];r$.call(pr,je[ln][1].type)&&pr[je[ln][1].type].call(Object.assign({sliceSerialize:je[ln][2].sliceSerialize},Ft),je[ln][1])}if(Ft.tokenStack.length>0){const pr=Ft.tokenStack[Ft.tokenStack.length-1];(pr[1]||NE).call(Ft,void 0,pr[0])}for(et.position={start:xl(je.length>0?je[0][1].start:{line:1,column:1,offset:0}),end:xl(je.length>0?je[je.length-2][1].end:{line:1,column:1,offset:0})},ln=-1;++ln<t.transforms.length;)et=t.transforms[ln](et)||et;return et}function a(je,et,Ft){let on=et-1,ln=-1,pr=!1,Xn,dn,Aa,pn;for(;++on<=Ft;){const In=je[on];switch(In[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{In[0]==="enter"?ln++:ln--,pn=void 0;break}case"lineEndingBlank":{In[0]==="enter"&&(Xn&&!pn&&!ln&&!Aa&&(Aa=on),pn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pn=void 0}if(!ln&&In[0]==="enter"&&In[1].type==="listItemPrefix"||ln===-1&&In[0]==="exit"&&(In[1].type==="listUnordered"||In[1].type==="listOrdered")){if(Xn){let mr=on;for(dn=void 0;mr--;){const Zn=je[mr];if(Zn[1].type==="lineEnding"||Zn[1].type==="lineEndingBlank"){if(Zn[0]==="exit")continue;dn&&(je[dn][1].type="lineEndingBlank",pr=!0),Zn[1].type="lineEnding",dn=mr}else if(!(Zn[1].type==="linePrefix"||Zn[1].type==="blockQuotePrefix"||Zn[1].type==="blockQuotePrefixWhitespace"||Zn[1].type==="blockQuoteMarker"||Zn[1].type==="listItemIndent"))break}Aa&&(!dn||Aa<dn)&&(Xn._spread=!0),Xn.end=Object.assign({},dn?je[dn][1].start:In[1].end),je.splice(dn||on,0,["exit",Xn,In[2]]),on++,Ft++}if(In[1].type==="listItemPrefix"){const mr={type:"listItem",_spread:!1,start:Object.assign({},In[1].start),end:void 0};Xn=mr,je.splice(on,0,["enter",mr,In[2]]),on++,Ft++,Aa=void 0,pn=!0}}}return je[et][1]._spread=pr,Ft}function i(je,et){return Ft;function Ft(on){s.call(this,je(on),on),et&&et.call(this,on)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(je,et,Ft){this.stack[this.stack.length-1].children.push(je),this.stack.push(je),this.tokenStack.push([et,Ft||void 0]),je.position={start:xl(et.start),end:void 0}}function l(je){return et;function et(Ft){je&&je.call(this,Ft),u.call(this,Ft)}}function u(je,et){const Ft=this.stack.pop(),on=this.tokenStack.pop();if(on)on[0].type!==je.type&&(et?et.call(this,je,on[0]):(on[1]||NE).call(this,je,on[0]));else throw new Error("Cannot close `"+je.type+"` ("+Kf({start:je.start,end:je.end})+"): its not open");Ft.position.end=xl(je.end)}function d(){return VN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(je){if(this.data.expectingFirstListItemValue){const et=this.stack[this.stack.length-2];et.start=Number.parseInt(this.sliceSerialize(je),10),this.data.expectingFirstListItemValue=void 0}}function m(){const je=this.resume(),et=this.stack[this.stack.length-1];et.lang=je}function h(){const je=this.resume(),et=this.stack[this.stack.length-1];et.meta=je}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const je=this.resume(),et=this.stack[this.stack.length-1];et.value=je.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const je=this.resume(),et=this.stack[this.stack.length-1];et.value=je.replace(/(\r?\n|\r)$/g,"")}function x(je){const et=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=et,Ft.identifier=jo(this.sliceSerialize(je)).toLowerCase()}function w(){const je=this.resume(),et=this.stack[this.stack.length-1];et.title=je}function S(){const je=this.resume(),et=this.stack[this.stack.length-1];et.url=je}function C(je){const et=this.stack[this.stack.length-1];if(!et.depth){const Ft=this.sliceSerialize(je).length;et.depth=Ft}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function A(je){const et=this.stack[this.stack.length-1];et.depth=this.sliceSerialize(je).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function R(je){const et=this.stack[this.stack.length-1].children;let Ft=et[et.length-1];(!Ft||Ft.type!=="text")&&(Ft=It(),Ft.position={start:xl(je.start),end:void 0},et.push(Ft)),this.stack.push(Ft)}function D(je){const et=this.stack.pop();et.value+=this.sliceSerialize(je),et.position.end=xl(je.end)}function I(je){const et=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ft=et.children[et.children.length-1];Ft.position.end=xl(je.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(et.type)&&(R.call(this,je),D.call(this,je))}function O(){this.data.atHardBreak=!0}function q(){const je=this.resume(),et=this.stack[this.stack.length-1];et.value=je}function Y(){const je=this.resume(),et=this.stack[this.stack.length-1];et.value=je}function ie(){const je=this.resume(),et=this.stack[this.stack.length-1];et.value=je}function ke(){const je=this.stack[this.stack.length-1];if(this.data.inReference){const et=this.data.referenceType||"shortcut";je.type+="Reference",je.referenceType=et,delete je.url,delete je.title}else delete je.identifier,delete je.label;this.data.referenceType=void 0}function te(){const je=this.stack[this.stack.length-1];if(this.data.inReference){const et=this.data.referenceType||"shortcut";je.type+="Reference",je.referenceType=et,delete je.url,delete je.title}else delete je.identifier,delete je.label;this.data.referenceType=void 0}function H(je){const et=this.sliceSerialize(je),Ft=this.stack[this.stack.length-2];Ft.label=uue(et),Ft.identifier=jo(et).toLowerCase()}function W(){const je=this.stack[this.stack.length-1],et=this.resume(),Ft=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ft.type==="link"){const on=je.children;Ft.children=on}else Ft.alt=et}function k(){const je=this.resume(),et=this.stack[this.stack.length-1];et.url=je}function V(){const je=this.resume(),et=this.stack[this.stack.length-1];et.title=je}function P(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function F(je){const et=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=et,Ft.identifier=jo(this.sliceSerialize(je)).toLowerCase(),this.data.referenceType="full"}function z(je){this.data.characterReferenceType=je.type}function Z(je){const et=this.sliceSerialize(je),Ft=this.data.characterReferenceType;let on;Ft?(on=KF(et,Ft==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):on=WN(et);const ln=this.stack[this.stack.length-1];ln.value+=on}function se(je){const et=this.stack.pop();et.position.end=xl(je.end)}function K(je){D.call(this,je);const et=this.stack[this.stack.length-1];et.url=this.sliceSerialize(je)}function L(je){D.call(this,je);const et=this.stack[this.stack.length-1];et.url="mailto:"+this.sliceSerialize(je)}function B(){return{type:"blockquote",children:[]}}function ne(){return{type:"code",lang:null,meta:null,value:""}}function $(){return{type:"inlineCode",value:""}}function le(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function G(){return{type:"heading",depth:0,children:[]}}function me(){return{type:"break"}}function Te(){return{type:"html",value:""}}function mt(){return{type:"image",title:null,url:"",alt:null}}function Pe(){return{type:"link",title:null,url:"",children:[]}}function ae(je){return{type:"list",ordered:je.type==="listOrdered",start:null,spread:je._spread,children:[]}}function Ue(je){return{type:"listItem",spread:je._spread,checked:null,children:[]}}function Re(){return{type:"paragraph",children:[]}}function de(){return{type:"strong",children:[]}}function It(){return{type:"text",value:""}}function Tn(){return{type:"thematicBreak"}}}function xl(e){return{line:e.line,column:e.column,offset:e.offset}}function a$(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?a$(e,r):mue(e,r)}}function mue(e,t){let n;for(n in t)if(r$.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function NE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Kf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Kf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Kf({start:t.start,end:t.end})+") is still open")}function hue(e){const t=this;t.parser=n;function n(r){return fue(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function gue(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function yue(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function vue(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function bue(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xue(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wue(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Kd(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function kue(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Sue(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function i$(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function Nue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return i$(e,t);const a={src:Kd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function jue(e,t){const n={src:Kd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Cue(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Mue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return i$(e,t);const a={href:Kd(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Aue(e,t){const n={href:Kd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Eue(e,t,n){const r=e.all(t),a=n?Due(n):o$(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function Due(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=o$(n[r])}return t}function o$(e){return e.spread??e.children.length>1}function Tue(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Pue(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Oue(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Iue(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _ue(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=RN(t.children[1]),l=RF(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function Lue(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)}function Fue(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const jE=9,CE=32;function $ue(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(ME(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(ME(t.slice(a),a>0,!1)),i.join("")}function ME(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===jE||i===CE;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===jE||i===CE;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Rue(e,t){const n={type:"text",value:$ue(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Bue(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Uue={blockquote:gue,break:yue,code:vue,delete:bue,emphasis:xue,footnoteReference:wue,heading:kue,html:Sue,imageReference:Nue,image:jue,inlineCode:Cue,linkReference:Mue,link:Aue,listItem:Eue,list:Tue,paragraph:Pue,root:Oue,strong:Iue,table:_ue,tableCell:Fue,tableRow:Lue,text:Rue,thematicBreak:Bue,toml:Mh,yaml:Mh,definition:Mh,footnoteDefinition:Mh};function Mh(){}const s$=-1,lv=0,Yf=1,D0=2,HN=3,KN=4,GN=5,YN=6,l$=7,c$=8,AE=typeof self=="object"?self:globalThis,zue=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case lv:case s$:return n(o,a);case Yf:{const s=n([],a);for(const l of o)s.push(r(l));return s}case D0:{const s=n({},a);for(const[l,u]of o)s[r(l)]=r(u);return s}case HN:return n(new Date(o),a);case KN:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case GN:{const s=n(new Map,a);for(const[l,u]of o)s.set(r(l),r(u));return s}case YN:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case l$:{const{name:s,message:l}=o;return n(new AE[s](l),a)}case c$:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new AE[i](o),a)};return r},EE=e=>zue(new Map,e)(0),Pu="",{toString:Vue}={},{keys:Wue}=Object,kf=e=>{const t=typeof e;if(t!=="object"||!e)return[lv,t];const n=Vue.call(e).slice(8,-1);switch(n){case"Array":return[Yf,Pu];case"Object":return[D0,Pu];case"Date":return[HN,Pu];case"RegExp":return[KN,Pu];case"Map":return[GN,Pu];case"Set":return[YN,Pu];case"DataView":return[Yf,n]}return n.includes("Array")?[Yf,n]:n.includes("Error")?[l$,n]:[D0,n]},Ah=([e,t])=>e===lv&&(t==="function"||t==="symbol"),que=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=kf(o);switch(s){case lv:{let d=o;switch(l){case"bigint":s=c$,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([s$],o)}return a([s,d],o)}case Yf:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case D0:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Wue(o))(e||!Ah(kf(o[p])))&&d.push([i(p),i(o[p])]);return f}case HN:return a([s,o.toISOString()],o);case KN:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case GN:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(Ah(kf(p))||Ah(kf(m))))&&d.push([i(p),i(m)]);return f}case YN:{const d=[],f=a([s,d],o);for(const p of o)(e||!Ah(kf(p)))&&d.push(i(p));return f}}const{message:u}=o;return a([s,{name:l,message:u}],o)};return i},DE=(e,{json:t,lossy:n}={})=>{const r=[];return que(!(t||n),!!t,new Map,r)(e),r},T0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?EE(DE(e,t)):structuredClone(e):(e,t)=>EE(DE(e,t));function Hue(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Kue(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Gue(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Hue,r=e.options.footnoteBackLabel||Kue,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),p=Kd(f.toLowerCase());let m=0;const h=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++m<=v;){h.length>0&&h.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,m);typeof x=="string"&&(x={type:"text",value:x}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...h)}else d.push(...h);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...T0(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const cv=function(e){if(e==null)return Que;if(typeof e=="function")return uv(e);if(typeof e=="object")return Array.isArray(e)?Yue(e):Xue(e);if(typeof e=="string")return Zue(e);throw new Error("Expected function, string, or object as test")};function Yue(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=cv(e[n]);return uv(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Xue(e){const t=e;return uv(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function Zue(e){return uv(t);function t(n){return n&&n.type===e}}function uv(e){return t;function t(n,r,a){return!!(Jue(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Que(){return!0}function Jue(e){return e!==null&&typeof e=="object"&&"type"in e}const u$=[],ede=!0,s1=!1,tde="skip";function d$(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=cv(a),o=r?-1:1;s(e,void 0,[])();function s(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=u$,h,v,b;if((!t||i(l,u,d[d.length-1]||void 0))&&(m=nde(n(l,d)),m[0]===s1))return m;if("children"in l&&l.children){const y=l;if(y.children&&m[0]!==tde)for(v=(r?y.children.length:-1)+o,b=d.concat(y);v>-1&&v<y.children.length;){const x=y.children[v];if(h=s(x,v,b)(),h[0]===s1)return h;v=typeof h[1]=="number"?h[1]:v+o}}return m}}}function nde(e){return Array.isArray(e)?e:typeof e=="number"?[ede,e]:e==null?u$:[e]}function XN(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),d$(e,i,s,a);function s(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const l1={}.hasOwnProperty,rde={};function ade(e,t){const n=t||rde,r=new Map,a=new Map,i=new Map,o={...Uue,...n.handlers},s={all:u,applyData:ode,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:ide,wrap:lde};return XN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(l1.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...v}=d,b=T0(v);return b.children=s.all(d),b}return T0(d)}return(s.options.unknownHandler||sde)(s,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=TE(h.value)),!Array.isArray(h)&&h.type==="element")){const v=h.children[0];v&&v.type==="text"&&(v.value=TE(v.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function ide(e,t){e.position&&(t.position=Kse(e))}function ode(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,T0(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function sde(e,t){const n=t.data||{},r="value"in t&&!(l1.call(n,"hProperties")||l1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function lde(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function TE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function PE(e,t){const n=ade(e,t),r=n.one(e,void 0),a=Gue(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function cde(e,t){return e&&"run"in e?async function(n,r){const a=PE(n,{file:r,...t});await e.run(a,r)}:function(n,r){return PE(n,{file:r,...e||t})}}function OE(e){if(e)throw e}var ng=Object.prototype.hasOwnProperty,f$=Object.prototype.toString,IE=Object.defineProperty,_E=Object.getOwnPropertyDescriptor,LE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):f$.call(e)==="[object Array]"},FE=function(e){if(!e||f$.call(e)!=="[object Object]")return!1;var t=ng.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&ng.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||ng.call(e,r)},$E=function(e,t){IE&&t.name==="__proto__"?IE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},RE=function(e,t){if(t==="__proto__")if(ng.call(e,t)){if(_E)return _E(e,t).value}else return;return e[t]},ude=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,u=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=RE(s,n),a=RE(t,n),s!==a&&(d&&a&&(FE(a)||(i=LE(a)))?(i?(i=!1,o=r&&LE(r)?r:[]):o=r&&FE(r)?r:{},$E(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&$E(s,{name:n,newValue:a}));return s};const Ob=Io(ude);function c1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dde(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...u){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,d?fde(d,s)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function fde(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(u){const d=u;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Zo={basename:pde,dirname:mde,extname:hde,join:gde,sep:"/"};function pde(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');jm(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function mde(e){if(jm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function hde(e){jm(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function gde(...e){let t=-1,n;for(;++t<e.length;)jm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":yde(n)}function yde(e){jm(e);const t=e.codePointAt(0)===47;let n=vde(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function vde(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function jm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bde={cwd:xde};function xde(){return"/"}function u1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function wde(e){if(typeof e=="string")e=new URL(e);else if(!u1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return kde(e)}function kde(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Ib=["history","path","basename","stem","extname","dirname"];class p${constructor(t){let n;t?u1(t)?n={path:t}:typeof t=="string"||Sde(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":bde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ib.length;){const i=Ib[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Ib.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Zo.basename(this.path):void 0}set basename(t){Lb(t,"basename"),_b(t,"basename"),this.path=Zo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Zo.dirname(this.path):void 0}set dirname(t){BE(this.basename,"dirname"),this.path=Zo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Zo.extname(this.path):void 0}set extname(t){if(_b(t,"extname"),BE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Zo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){u1(t)&&(t=wde(t)),Lb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Zo.basename(this.path,this.extname):void 0}set stem(t){Lb(t,"stem"),_b(t,"stem"),this.path=Zo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Ua(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function _b(e,t){if(e&&e.includes(Zo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Zo.sep+"`")}function Lb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function BE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Sde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Nde=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},jde={}.hasOwnProperty;class ZN extends Nde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=dde()}copy(){const t=new ZN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ob(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Rb("data",this.frozen),this.namespace[t]=n,this):jde.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Rb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Eh(t),r=this.parser||this.Parser;return Fb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Fb("process",this.parser||this.Parser),$b("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Eh(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return u(d);const m=f,h=r.stringify(m,p);Ade(h)?p.value=h:p.result=h,u(d,p)});function u(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Fb("processSync",this.parser||this.Parser),$b("processSync",this.compiler||this.Compiler),this.process(t,a),zE("processSync","process",n),r;function a(i,o){n=!0,OE(i),r=o}}run(t,n,r){UE(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Eh(n);a.run(t,l,u);function u(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),zE("runSync","run",r),a;function i(o,s){OE(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Eh(n),a=this.compiler||this.Compiler;return $b("stringify",a),UE(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Rb("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(a.settings=Ob(!0,a.settings,u.settings))}function s(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[m,...h]=d;const v=r[p][1];c1(v)&&c1(m)&&(m=Ob(!0,v,m)),r[p]=[u,m,...h]}}}}const Cde=new ZN().freeze();function Fb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function $b(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Rb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function UE(e){if(!c1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function zE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Eh(e){return Mde(e)?e:new p$(e)}function Mde(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ade(e){return typeof e=="string"||Ede(e)}function Ede(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Dde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",VE=[],WE={allowDangerousHtml:!0},Tde=/^(https?|ircs?|mailto|xmpp)$/i,Pde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ode(e){const t=Ide(e),n=_de(e);return Lde(t.runSync(t.parse(n),n),e)}function Ide(e){const t=e.rehypePlugins||VE,n=e.remarkPlugins||VE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...WE}:WE;return Cde().use(hue).use(n).use(cde,r).use(t)}function _de(e){const t=e.children||"",n=new p$;return typeof t=="string"&&(n.value=t),n}function Lde(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Fde;for(const d of Pde)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Dde+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),XN(e,u),Qse(e,{Fragment:c.Fragment,components:a,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Db)if(Object.hasOwn(Db,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],v=Db[m];(v===null||v.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function Fde(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||Tde.test(e.slice(0,t))?e:""}function qE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function $de(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Rde(e,t,n){const r=cv((n||{}).ignore||[]),a=Bde(t);let i=-1;for(;++i<a.length;)d$(e,"text",o);function o(l,u){let d=-1,f;for(;++d<u.length;){const p=u[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,u)}function s(l,u){const d=u[u.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let v=!1,b=[];f.lastIndex=0;let y=f.exec(l.value);for(;y;){const x=y.index,w={index:y.index,input:y.input,stack:[...u,l]};let S=p(...y,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=x+1:(m!==x&&b.push({type:"text",value:l.value.slice(m,x)}),Array.isArray(S)?b.push(...S):S&&b.push(S),m=x+y[0].length,v=!0),!f.global)break;y=f.exec(l.value)}return v?(m<l.value.length&&b.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...b)):b=[l],h+b.length}}function Bde(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Ude(a[0]),zde(a[1])])}return t}function Ude(e){return typeof e=="string"?new RegExp($de(e),"g"):e}function zde(e){return typeof e=="function"?e:function(){return e}}const Bb="phrasing",Ub=["autolink","link","image","label"];function Vde(){return{transforms:[Xde],enter:{literalAutolink:qde,literalAutolinkEmail:zb,literalAutolinkHttp:zb,literalAutolinkWww:zb},exit:{literalAutolink:Yde,literalAutolinkEmail:Gde,literalAutolinkHttp:Hde,literalAutolinkWww:Kde}}}function Wde(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Bb,notInConstruct:Ub},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Bb,notInConstruct:Ub},{character:":",before:"[ps]",after:"\\/",inConstruct:Bb,notInConstruct:Ub}]}}function qde(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function zb(e){this.config.enter.autolinkProtocol.call(this,e)}function Hde(e){this.config.exit.autolinkProtocol.call(this,e)}function Kde(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Gde(e){this.config.exit.autolinkEmail.call(this,e)}function Yde(e){this.exit(e)}function Xde(e){Rde(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Zde],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Qde]],{ignore:["link","linkReference"]})}function Zde(e,t,n,r,a){let i="";if(!m$(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Jde(n)))return!1;const o=efe(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Qde(e,t,n,r){return!m$(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Jde(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function efe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=qE(e,"(");let i=qE(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function m$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||lu(n)||ov(n))&&(!t||n!==47)}h$.peek=cfe;function tfe(){this.buffer()}function nfe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function rfe(){this.buffer()}function afe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function ife(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=jo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ofe(e){this.exit(e)}function sfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=jo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function lfe(e){this.exit(e)}function cfe(){return"["}function h$(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function ufe(){return{enter:{gfmFootnoteCallString:tfe,gfmFootnoteCall:nfe,gfmFootnoteDefinitionLabelString:rfe,gfmFootnoteDefinition:afe},exit:{gfmFootnoteCallString:ife,gfmFootnoteCall:ofe,gfmFootnoteDefinitionLabelString:sfe,gfmFootnoteDefinition:lfe}}}function dfe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:h$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?g$:ffe))),u(),l}}function ffe(e,t,n){return t===0?e:g$(e,t,n)}function g$(e,t,n){return(n?"":"    ")+e}const pfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];y$.peek=vfe;function mfe(){return{canContainEols:["delete"],enter:{strikethrough:gfe},exit:{strikethrough:yfe}}}function hfe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:pfe}],handlers:{delete:y$}}}function gfe(e){this.enter({type:"delete",children:[]},e)}function yfe(e){this.exit(e)}function y$(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function vfe(){return"~"}function bfe(e){return e.length}function xfe(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||bfe,i=[],o=[],s=[],l=[];let u=0,d=-1;for(;++d<e.length;){const v=[],b=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const x=wfe(e[d][y]);if(n.alignDelimiters!==!1){const w=a(x);b[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}v.push(x)}o[d]=v,s[d]=b}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)i[f]=HE(r[f]);else{const v=HE(r);for(;++f<u;)i[f]=v}f=-1;const p=[],m=[];for(;++f<u;){const v=i[f];let b="",y="";v===99?(b=":",y=":"):v===108?b=":":v===114&&(y=":");let x=n.alignDelimiters===!1?1:Math.max(1,l[f]-b.length-y.length);const w=b+"-".repeat(x)+y;n.alignDelimiters!==!1&&(x=b.length+x+y.length,x>l[f]&&(l[f]=x),m[f]=x),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const v=o[d],b=s[d];f=-1;const y=[];for(;++f<u;){const x=v[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(b[f]||0),j=i[f];j===114?w=" ".repeat(C):j===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||f)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(x),n.alignDelimiters!==!1&&y.push(S),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&y.push("|")}h.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return h.join(`
`)}function wfe(e){return e==null?"":String(e)}function HE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function kfe(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),Sfe);return a(),o}function Sfe(e,t,n){return">"+(n?"":" ")+e}function Nfe(e,t){return KE(e,t.inConstruct,!0)&&!KE(e,t.notInConstruct,!1)}function KE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function GE(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&Nfe(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function jfe(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function Cfe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Mfe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Afe(e,t,n,r){const a=Mfe(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(Cfe(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,Efe);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(jfe(i,a)+1,3)),u=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),u(),d}function Efe(e,t,n){return(n?"":"    ")+e}function QN(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Dfe(e,t,n,r){const a=QN(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),o(),u}function Tfe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Fp(e){return"&#x"+e.toString(16).toUpperCase()+";"}function P0(e,t,n){const r=Dd(e),a=Dd(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}v$.peek=Pfe;function v$(e,t,n,r){const a=Tfe(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),d=P0(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Fp(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=P0(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Fp(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Pfe(e,t,n){return n.options.emphasis||"*"}function Ofe(e,t){let n=!1;return XN(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,s1}),!!((!e.depth||e.depth<3)&&VN(e)&&(t.options.setext||n))}function Ife(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(Ofe(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=Fp(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),s(),u}b$.peek=_fe;function b$(e){return e.value||""}function _fe(){return"<"}x$.peek=Lfe;function x$(e,t,n,r){const a=QN(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),u+=l.move(")"),o(),u}function Lfe(){return"!"}w$.peek=Ffe;function w$(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const u=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!u||u!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Ffe(){return"!"}k$.peek=$fe;function k$(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return a+r+a}function $fe(){return"`"}function S$(e,t){const n=VN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}N$.peek=Rfe;function N$(e,t,n,r){const a=QN(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(S$(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=o.move(" "+a),u+=o.move(n.safe(e.title,{before:u,after:a,...o.current()})),u+=o.move(a),l()),u+=o.move(")"),s(),u}function Rfe(e,t,n){return S$(e,n)?"<":"["}j$.peek=Bfe;function j$(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!u||u!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Bfe(){return"["}function JN(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Ufe(e){const t=JN(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function zfe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function C$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Vfe(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?zfe(n):JN(n);const s=e.ordered?o==="."?")":".":Ufe(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),C$(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),u}function Wfe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function qfe(e,t,n,r){const a=Wfe(n);let i=n.bulletCurrent||JN(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),d);return l(),u;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Hfe(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const Kfe=cv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Gfe(e,t,n,r){return(e.children.some(function(a){return Kfe(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Yfe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}M$.peek=Xfe;function M$(e,t,n,r){const a=Yfe(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),d=P0(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Fp(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=P0(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Fp(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Xfe(e,t,n){return n.options.strong||"*"}function Zfe(e,t,n,r){return n.safe(e.value,r)}function Qfe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Jfe(e,t,n){const r=(C$(n)+(n.options.ruleSpaces?" ":"")).repeat(Qfe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const A$={blockquote:kfe,break:GE,code:Afe,definition:Dfe,emphasis:v$,hardBreak:GE,heading:Ife,html:b$,image:x$,imageReference:w$,inlineCode:k$,link:N$,linkReference:j$,list:Vfe,listItem:qfe,paragraph:Hfe,root:Gfe,strong:M$,text:Zfe,thematicBreak:Jfe};function epe(){return{enter:{table:tpe,tableData:YE,tableHeader:YE,tableRow:rpe},exit:{codeText:ape,table:npe,tableData:Vb,tableHeader:Vb,tableRow:Vb}}}function tpe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function npe(e){this.exit(e),this.data.inTable=void 0}function rpe(e){this.enter({type:"tableRow",children:[]},e)}function Vb(e){this.exit(e)}function YE(e){this.enter({type:"tableCell",children:[]},e)}function ape(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,ipe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function ipe(e,t){return t==="|"?t:e}function ope(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,v,b){return u(d(m,v,b),m.align)}function s(m,h,v,b){const y=f(m,v,b),x=u([y]);return x.slice(0,x.indexOf(`
`))}function l(m,h,v,b){const y=v.enter("tableCell"),x=v.enter("phrasing"),w=v.containerPhrasing(m,{...b,before:i,after:i});return x(),y(),w}function u(m,h){return xfe(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,v){const b=m.children;let y=-1;const x=[],w=h.enter("table");for(;++y<b.length;)x[y]=f(b[y],h,v);return w(),x}function f(m,h,v){const b=m.children;let y=-1;const x=[],w=h.enter("tableRow");for(;++y<b.length;)x[y]=l(b[y],m,h,v);return w(),x}function p(m,h,v){let b=A$.inlineCode(m,h,v);return v.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function spe(){return{exit:{taskListCheckValueChecked:XE,taskListCheckValueUnchecked:XE,paragraph:cpe}}}function lpe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:upe}}}function XE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function cpe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function upe(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=A$.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+o}}function dpe(){return[Vde(),ufe(),mfe(),epe(),spe()]}function fpe(e){return{extensions:[Wde(),dfe(e),hfe(),ope(e),lpe()]}}const ppe={tokenize:bpe,partial:!0},E$={tokenize:xpe,partial:!0},D$={tokenize:wpe,partial:!0},T$={tokenize:kpe,partial:!0},mpe={tokenize:Spe,partial:!0},P$={name:"wwwAutolink",tokenize:ype,previous:I$},O$={name:"protocolAutolink",tokenize:vpe,previous:_$},ll={name:"emailAutolink",tokenize:gpe,previous:L$},cs={};function hpe(){return{text:cs}}let xc=48;for(;xc<123;)cs[xc]=ll,xc++,xc===58?xc=65:xc===91&&(xc=97);cs[43]=ll;cs[45]=ll;cs[46]=ll;cs[95]=ll;cs[72]=[ll,O$];cs[104]=[ll,O$];cs[87]=[ll,P$];cs[119]=[ll,P$];function gpe(e,t,n){const r=this;let a,i;return o;function o(f){return!d1(f)||!L$.call(r,r.previous)||ej(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return d1(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(mpe,d,u)(f):f===45||f===95||$a(f)?(i=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&qa(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function ype(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!I$.call(r,r.previous)||ej(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ppe,e.attempt(E$,e.attempt(D$,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function vpe(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&_$.call(r,r.previous)&&!ej(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(qa(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?u:(i=!0,l)):n(f)}function u(f){return f===null||E0(f)||Kn(f)||lu(f)||ov(f)?n(f):e.attempt(E$,e.attempt(D$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function bpe(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function xpe(e,t,n){let r,a,i;return o;function o(u){return u===46||u===95?e.check(T$,l,s)(u):u===null||Kn(u)||lu(u)||u!==45&&ov(u)?l(u):(i=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(a=r,r=void 0),e.consume(u),o}function l(u){return a||r||!i?n(u):t(u)}}function wpe(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(T$,t,i)(o):o===null||Kn(o)||lu(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function kpe(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Kn(s)||lu(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Kn(s)||lu(s)?t(s):r(s)}function i(s){return qa(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):qa(s)?(e.consume(s),o):n(s)}}function Spe(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return $a(i)?n(i):t(i)}}function I$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Kn(e)}function _$(e){return!qa(e)}function L$(e){return!(e===47||d1(e))}function d1(e){return e===43||e===45||e===46||e===95||$a(e)}function ej(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Npe={tokenize:Ppe,partial:!0};function jpe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Epe,continuation:{tokenize:Dpe},exit:Tpe}},text:{91:{name:"gfmFootnoteCall",tokenize:Ape},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Cpe,resolveTo:Mpe}}}}function Cpe(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const u=jo(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Mpe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function Ape(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(i>999||f===93&&!o||f===null||f===91||Kn(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(jo(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Kn(f)||(o=!0),i++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,u):u(f)}}function Epe(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Kn(h))return n(h);if(h===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=jo(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Kn(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),kn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function Dpe(e,t,n){return e.check(Nm,t,e.attempt(Npe,t,n))}function Tpe(e){e.exit("gfmFootnoteDefinition")}function Ppe(e,t,n){const r=this;return kn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function Ope(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",u,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&Ti(f,f.length,0,sv(p,i.slice(l+1,s),o)),Ti(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",u,o]]),Ti(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,u=this.events;let d=0;return f;function f(m){return l===126&&u[u.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=Dd(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const v=i.exit("strikethroughSequenceTemporary"),b=Dd(m);return v._open=!b||b===2&&!!h,v._close=!h||h===2&&!!b,o(m)}}}class Ipe{constructor(){this.map=[]}add(t,n,r){_pe(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function _pe(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function Lpe(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Fpe(){return{flow:{null:{name:"table",tokenize:$pe,resolveAll:Rpe}}}}function $pe(e,t,n){const r=this;let a=0,i=0,o;return s;function s(D){let I=r.events.length-1;for(;I>-1;){const Y=r.events[I][1].type;if(Y==="lineEnding"||Y==="linePrefix")I--;else break}const O=I>-1?r.events[I][1].type:null,q=O==="tableHead"||O==="tableRow"?j:l;return q===j&&r.parser.lazy[r.now().line]?n(D):q(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),u(D)}function u(D){return D===124||(o=!0,i+=1),d(D)}function d(D){return D===null?n(D):Ht(D)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),m):n(D):hn(D)?kn(e,d,"whitespace")(D):(i+=1,o&&(o=!1,a+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(D)))}function f(D){return D===null||D===124||Kn(D)?(e.exit("data"),d(D)):(e.consume(D),D===92?p:f)}function p(D){return D===92||D===124?(e.consume(D),f):f(D)}function m(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),o=!1,hn(D)?kn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):h(D))}function h(D){return D===45||D===58?b(D):D===124?(o=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),v):C(D)}function v(D){return hn(D)?kn(e,b,"whitespace")(D):b(D)}function b(D){return D===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),y):D===45?(i+=1,y(D)):D===null||Ht(D)?S(D):C(D)}function y(D){return D===45?(e.enter("tableDelimiterFiller"),x(D)):C(D)}function x(D){return D===45?(e.consume(D),x):D===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(D))}function w(D){return hn(D)?kn(e,S,"whitespace")(D):S(D)}function S(D){return D===124?h(D):D===null||Ht(D)?!o||a!==i?C(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):C(D)}function C(D){return n(D)}function j(D){return e.enter("tableRow"),A(D)}function A(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),A):D===null||Ht(D)?(e.exit("tableRow"),t(D)):hn(D)?kn(e,A,"whitespace")(D):(e.enter("data"),T(D))}function T(D){return D===null||D===124||Kn(D)?(e.exit("data"),A(D)):(e.consume(D),D===92?R:T)}function R(D){return D===92||D===124?(e.consume(D),T):T(D)}}function Rpe(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,u,d,f;const p=new Ipe;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&(ZE(p,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",u,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Dh(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Dh(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Dh(p,t,i,a,n,f)):o[1]!==0&&(f=Dh(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&ZE(p,t,l,u,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Lpe(t.events,n))}return e}function Dh(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},_u(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=_u(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const u=_u(t.events,n[2]),d=_u(t.events,n[3]),f={type:s,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,v=n[3]-n[2]-1;e.add(h,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},_u(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function ZE(e,t,n,r,a){const i=[],o=_u(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function _u(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Bpe={name:"tasklistCheck",tokenize:zpe};function Upe(){return{text:{91:Bpe}}}function zpe(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Kn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Ht(l)?t(l):hn(l)?e.check({tokenize:Vpe},t,n)(l):n(l)}}function Vpe(e,t,n){return kn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Wpe(e){return HF([hpe(),jpe(),Ope(e),Fpe(),Upe()])}const qpe={};function Hpe(e){const t=this,n=e||qpe,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Wpe(n)),i.push(dpe()),o.push(fpe(n))}const Wb='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output/uptime, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n### Boon Timeline (Defense)\n\nThe Boon Timeline section uses the same generation foundation as Boon Output\nwith **Total** semantics:\n\n- Per-player per-boon totals use:\n  - `selfBuffs + squadBuffs`\n  - `groupBuffs` is intentionally excluded to avoid double counting\n    (group is a subset of squad in this model)\n- Scope toggle:\n  - `Self` = `selfBuffs`\n  - `Squad` = `squadBuffs` (default)\n  - `Group` = `groupBuffs`\n  - `All` = `selfBuffs + squadBuffs` (`totalBuffs`)\n\nFor each fight and boon:\n\n1. Compute player total generation milliseconds:\n   - stacking boons:\n     - `generationMs = generation * durationMs * recipientCount`\n   - non-stacking boons:\n     - `generationMs = (generation / 100) * durationMs * recipientCount`\n   - where:\n     - `recipientCount = 1` for self\n     - `recipientCount = squadCount - 1` for squad\n\n2. Build 5-second bucket shape from `buffUptimes[*].statesPerSource`:\n   - integrate source state value over time (time-weighted area) into each 5s bucket\n   - this yields relative bucket weights (not final totals)\n\n3. Scale bucket weights to the player fight total from step 1:\n   - `bucketValue = bucketWeight * (fightTotal / sum(bucketWeights))`\n   - fallback when timeline weights are unavailable: uniform distribution across buckets\n\nUnits shown in the UI are **boon-seconds** (`generationMs / 1000`), aggregated\nacross recipients. Because this is recipient-aggregated generation, 5s bucket\nvalues can exceed `5` and may be large for stacking boons or `All`-player view.\n\nTimeline player identity is account-level (`account`) to match Boon Output row\ngrouping across profession swaps.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`.\n\n### Boon Uptime (Defense)\n\nThe Boon Uptime section is derived from `players[*].buffUptimes[*].statesPerSource`\nfor boon-classified buffs and reports **stack state over time on the selected\nplayer**, not outgoing generation.\n\nSource/eligibility:\n- include only `players[*].buffUptimes[*]` entries where `buffMap[b{id}]` (or fallback)\n  has `classification === "Boon"` (or empty classification treated as boon-compatible)\n- use `buffMap` metadata for `name`, `icon`, and `stacking`\n\nPer-fight timeline buckets:\n- sample every 5 seconds (`t = 0, 5, 10, ...`) and read current state value from\n  each source timeline in `statesPerSource`\n- sum active source values for that sample into the player bucket\n\nStack semantics (enforced):\n- non-stacking boons: binary only\n  - `bucket = 1` when sampled value is `> 0`\n  - `bucket = 0` otherwise\n  - no fractional values are permitted\n- stacking boons: integer stack counts only\n  - sampled values are rounded to whole stacks\n  - stacks are clamped to a max cap\n\nUptime percentage semantics:\n- uptime% is **presence-based** for all boons:\n  - a 5s bucket counts as uptime when sampled bucket value is `> 0`\n  - otherwise that bucket counts as no uptime\n- this rule applies to both non-stacking and stacking boons (stack amount does\n  not scale uptime%)\n- denominator includes all 5s buckets across all fights for that player/boon\n  (including fights where that player has no states for the boon)\n\nStack caps:\n- `Might`: `25`\n- `Stability`: `25`\n- current implementation applies cap `25` for stacking boons\n\nUI behavior:\n- main chart:\n  - stacking boons: per-fight **average stacks**\n  - non-stacking boons: per-fight **uptime percentage** (active 5s buckets / total 5s buckets)\n- drilldown chart: selected fight 5-second stack buckets\n- for stacking boons, UI may render a reference line at stack cap (`25`)\n- player list and summary card use the same shared uptime% source, so selected\n  player row uptime% equals displayed overall uptime%\n\nAggregation notes:\n- uptime view is account-keyed per player and does not use an aggregated `__all__`\n  synthetic row for timeline values\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`, `src/renderer/stats/sections/BoonUptimeSection.tsx`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',F$=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),dv=g.createContext({}),tj=g.createContext(null),fv=typeof document<"u",Kpe=fv?g.useLayoutEffect:g.useEffect,$$=g.createContext({strict:!1}),nj=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Gpe="framerAppearId",R$="data-"+nj(Gpe);function Ype(e,t,n,r){const{visualElement:a}=g.useContext(dv),i=g.useContext($$),o=g.useContext(tj),s=g.useContext(F$).reducedMotion,l=g.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;g.useInsertionEffect(()=>{u&&u.update(n,o)});const d=g.useRef(!!(n[R$]&&!window.HandoffComplete));return Kpe(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Xu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Xpe(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xu(n)&&(n.current=r))},[t])}function $p(e){return typeof e=="string"||Array.isArray(e)}function pv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aj=["initial",...rj];function mv(e){return pv(e.animate)||aj.some(t=>$p(e[t]))}function B$(e){return!!(mv(e)||e.variants)}function Zpe(e,t){if(mv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$p(n)?n:void 0,animate:$p(r)?r:void 0}}return e.inherit!==!1?t:{}}function Qpe(e){const{initial:t,animate:n}=Zpe(e,g.useContext(dv));return g.useMemo(()=>({initial:t,animate:n}),[QE(t),QE(n)])}function QE(e){return Array.isArray(e)?e.join(" "):e}const JE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rp={};for(const e in JE)Rp[e]={isEnabled:t=>JE[e].some(n=>!!t[n])};function Jpe(e){for(const t in e)Rp[t]={...Rp[t],...e[t]}}const U$=g.createContext({}),z$=g.createContext({}),eme=Symbol.for("motionComponentSymbol");function tme({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&Jpe(e);function i(s,l){let u;const d={...g.useContext(F$),...s,layoutId:nme(s)},{isStatic:f}=d,p=Qpe(s),m=r(s,f);if(!f&&fv){p.visualElement=Ype(a,m,d,t);const h=g.useContext(z$),v=g.useContext($$).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,v,e,h))}return g.createElement(dv.Provider,{value:p},u&&p.visualElement?g.createElement(u,{visualElement:p.visualElement,...d}):null,n(a,s,Xpe(m,p.visualElement,l),m,f,p.visualElement))}const o=g.forwardRef(i);return o[eme]=a,o}function nme({layoutId:e}){const t=g.useContext(U$).id;return t&&e!==void 0?t+"-"+e:e}function rme(e){function t(r,a={}){return tme(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const ame=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ij(e){return typeof e!="string"||e.includes("-")?!1:!!(ame.indexOf(e)>-1||/[A-Z]/.test(e))}const O0={};function ime(e){Object.assign(O0,e)}const Cm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hu=new Set(Cm);function V$(e,{layout:t,layoutId:n}){return hu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!O0[e]||e==="opacity")}const fi=e=>!!(e&&e.getVelocity),ome={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sme=Cm.length;function lme(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<sme;o++){const s=Cm[o];if(e[s]!==void 0){const l=ome[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const W$=e=>t=>typeof t=="string"&&t.startsWith(e),q$=W$("--"),f1=W$("var(--"),cme=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ume=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zl=(e,t,n)=>Math.min(Math.max(n,e),t),gu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xf={...gu,transform:e=>Zl(0,1,e)},Th={...gu,default:1},Zf=e=>Math.round(e*1e5)/1e5,hv=/(-)?([\d]*\.?[\d])+/g,H$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,dme=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Mm(e){return typeof e=="string"}const Am=e=>({test:t=>Mm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kl=Am("deg"),as=Am("%"),Xt=Am("px"),fme=Am("vh"),pme=Am("vw"),eD={...as,parse:e=>as.parse(e)/100,transform:e=>as.transform(e*100)},tD={...gu,transform:Math.round},K$={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,size:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,rotate:kl,rotateX:kl,rotateY:kl,rotateZ:kl,scale:Th,scaleX:Th,scaleY:Th,scaleZ:Th,skew:kl,skewX:kl,skewY:kl,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:Xf,originX:eD,originY:eD,originZ:Xt,zIndex:tD,fillOpacity:Xf,strokeOpacity:Xf,numOctaves:tD};function oj(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(q$(f)){i[f]=p;continue}const m=K$[f],h=ume(p,m);if(hu.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=lme(e.transform,n,d,r):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const sj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function G$(e,t,n){for(const r in t)!fi(t[r])&&!V$(r,n)&&(e[r]=t[r])}function mme({transformTemplate:e},t,n){return g.useMemo(()=>{const r=sj();return oj(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function hme(e,t,n){const r=e.style||{},a={};return G$(a,r,e),Object.assign(a,mme(e,t,n)),e.transformValues?e.transformValues(a):a}function gme(e,t,n){const r={},a=hme(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const yme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function I0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yme.has(e)}let Y$=e=>!I0(e);function vme(e){e&&(Y$=t=>t.startsWith("on")?!I0(t):e(t))}try{vme(require("@emotion/is-prop-valid").default)}catch{}function bme(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(Y$(a)||n===!0&&I0(a)||!t&&!I0(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function nD(e,t,n){return typeof e=="string"?e:Xt.transform(t+n*e)}function xme(e,t,n){const r=nD(t,e.x,e.width),a=nD(n,e.y,e.height);return`${r} ${a}`}const wme={offset:"stroke-dashoffset",array:"stroke-dasharray"},kme={offset:"strokeDashoffset",array:"strokeDasharray"};function Sme(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?wme:kme;e[i.offset]=Xt.transform(-r);const o=Xt.transform(t),s=Xt.transform(n);e[i.array]=`${o} ${s}`}function lj(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},d,f,p){if(oj(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:v}=e;m.transform&&(v&&(h.transform=m.transform),delete m.transform),v&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=xme(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&Sme(m,o,s,l,!1)}const X$=()=>({...sj(),attrs:{}}),cj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Nme(e,t,n,r){const a=g.useMemo(()=>{const i=X$();return lj(i,t,{enableHardwareAcceleration:!1},cj(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};G$(i,e.style,e),a.style={...i,...a.style}}return a}function jme(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(ij(t)?Nme:gme)(n,a,i,t),s={...bme(n,typeof t=="string",e),...o,ref:r},{children:l}=n,u=g.useMemo(()=>fi(l)?l.get():l,[l]);return g.createElement(t,{...s,children:u})}}function Z$(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Q$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function J$(e,t,n,r){Z$(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Q$.has(a)?a:nj(a),t.attrs[a])}function uj(e,t){const{style:n}=e,r={};for(const a in n)(fi(n[a])||t.style&&fi(t.style[a])||V$(a,e))&&(r[a]=n[a]);return r}function eR(e,t){const n=uj(e,t);for(const r in e)if(fi(e[r])||fi(t[r])){const a=Cm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function dj(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function Cme(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const _0=e=>Array.isArray(e),Mme=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Ame=e=>_0(e)?e[e.length-1]||0:e;function rg(e){const t=fi(e)?e.get():e;return Mme(t)?t.toValue():t}function Eme({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:Dme(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const tR=e=>(t,n)=>{const r=g.useContext(dv),a=g.useContext(tj),i=()=>Eme(e,t,r,a);return n?i():Cme(i)};function Dme(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=rg(i[p]);let{initial:o,animate:s}=e;const l=mv(e),u=B$(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!pv(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=dj(e,p);if(!m)return;const{transitionEnd:h,transition:v,...b}=m;for(const y in b){let x=b[y];if(Array.isArray(x)){const w=d?x.length-1:0;x=x[w]}x!==null&&(a[y]=x)}for(const y in h)a[y]=h[y]}),a}const _r=e=>e;class rD{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Tme(e){let t=new rD,n=new rD,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,u=!1,d=!1)=>{const f=d&&a,p=f?t:n;return u&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const Ph=["prepare","read","update","preRender","render","postRender"],Pme=40;function Ome(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Ph.reduce((u,d)=>(u[d]=Tme(()=>n=!0),u),{}),o=u=>i[u].process(a),s=()=>{const u=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(u-a.timestamp,Pme),1),a.timestamp=u,a.isProcessing=!0,Ph.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:Ph.reduce((u,d)=>{const f=i[d];return u[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),u},{}),cancel:u=>Ph.forEach(d=>i[d].cancel(u)),state:a,steps:i}}const{schedule:sr,cancel:tl,state:Pa,steps:qb}=Ome(typeof requestAnimationFrame<"u"?requestAnimationFrame:_r,!0),Ime={useVisualState:tR({scrapeMotionValuesFromProps:eR,createRenderState:X$,onMount:(e,t,{renderState:n,latestValues:r})=>{sr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),sr.render(()=>{lj(n,r,{enableHardwareAcceleration:!1},cj(t.tagName),e.transformTemplate),J$(t,n)})}})},_me={useVisualState:tR({scrapeMotionValuesFromProps:uj,createRenderState:sj})};function Lme(e,{forwardMotionProps:t=!1},n,r){return{...ij(e)?Ime:_me,preloadedFeatures:n,useRender:jme(t),createVisualElement:r,Component:e}}function _s(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const nR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function gv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Fme=e=>t=>nR(t)&&e(t,gv(t));function Bs(e,t,n,r){return _s(e,t,Fme(n),r)}const $me=(e,t)=>n=>t(e(n)),ql=(...e)=>e.reduce($me);function rR(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const aD=rR("dragHorizontal"),iD=rR("dragVertical");function aR(e){let t=!1;if(e==="y")t=iD();else if(e==="x")t=aD();else{const n=aD(),r=iD();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function iR(){const e=aR(!0);return e?(e(),!1):!0}class sc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function oD(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||iR())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&sr.update(()=>s[r](i,o))};return Bs(e.current,n,a,{passive:!e.getProps()[r]})}class Rme extends sc{mount(){this.unmount=ql(oD(this.node,!0),oD(this.node,!1))}unmount(){}}class Bme extends sc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ql(_s(this.node.current,"focus",()=>this.onFocus()),_s(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const oR=(e,t)=>t?e===t?!0:oR(e,t.parentElement):!1;function Hb(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,gv(n))}class Ume extends sc{constructor(){super(...arguments),this.removeStartListeners=_r,this.removeEndListeners=_r,this.removeAccessibleListeners=_r,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=Bs(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:d}=this.node.getProps();sr.update(()=>{!d&&!oR(this.node.current,o.target)?u&&u(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=Bs(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ql(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Hb("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&sr.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=_s(this.node.current,"keyup",o),Hb("down",(s,l)=>{this.startPress(s,l)})},n=_s(this.node.current,"keydown",t),r=()=>{this.isPressing&&Hb("cancel",(i,o)=>this.cancelPress(i,o))},a=_s(this.node.current,"blur",r);this.removeAccessibleListeners=ql(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&sr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!iR()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&sr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Bs(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=_s(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ql(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const p1=new WeakMap,Kb=new WeakMap,zme=e=>{const t=p1.get(e.target);t&&t(e)},Vme=e=>{e.forEach(zme)};function Wme({root:e,...t}){const n=e||document;Kb.has(n)||Kb.set(n,{});const r=Kb.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Vme,{root:e,...t})),r[a]}function qme(e,t,n){const r=Wme(t);return p1.set(e,n),r.observe(e),()=>{p1.delete(e),r.unobserve(e)}}const Hme={some:0,all:1};class Kme extends sc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Hme[a]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return qme(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Gme(t,n))&&this.startObserver()}unmount(){}}function Gme({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Yme={inView:{Feature:Kme},tap:{Feature:Ume},focus:{Feature:Bme},hover:{Feature:Rme}};function sR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Xme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Zme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function yv(e,t,n){const r=e.getProps();return dj(r,t,n!==void 0?n:r.custom,Xme(e),Zme(e))}let fj=_r;const Kc=e=>e*1e3,Us=e=>e/1e3,Qme={current:!1},lR=e=>Array.isArray(e)&&typeof e[0]=="number";function cR(e){return!!(!e||typeof e=="string"&&uR[e]||lR(e)||Array.isArray(e)&&e.every(cR))}const Of=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,uR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Of([0,.65,.55,1]),circOut:Of([.55,0,1,.45]),backIn:Of([.31,.01,.66,-.59]),backOut:Of([.33,1.53,.69,.99])};function dR(e){if(e)return lR(e)?Of(e):Array.isArray(e)?e.map(dR):uR[e]}function Jme(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=dR(s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function ehe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const fR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,the=1e-7,nhe=12;function rhe(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=fR(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>the&&++s<nhe);return o}function Em(e,t,n,r){if(e===t&&n===r)return _r;const a=i=>rhe(i,0,1,e,n);return i=>i===0||i===1?i:fR(a(i),t,r)}const ahe=Em(.42,0,1,1),ihe=Em(0,0,.58,1),pR=Em(.42,0,.58,1),ohe=e=>Array.isArray(e)&&typeof e[0]!="number",mR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hR=e=>t=>1-e(1-t),pj=e=>1-Math.sin(Math.acos(e)),gR=hR(pj),she=mR(pj),yR=Em(.33,1.53,.69,.99),mj=hR(yR),lhe=mR(mj),che=e=>(e*=2)<1?.5*mj(e):.5*(2-Math.pow(2,-10*(e-1))),uhe={linear:_r,easeIn:ahe,easeInOut:pR,easeOut:ihe,circIn:pj,circInOut:she,circOut:gR,backIn:mj,backInOut:lhe,backOut:yR,anticipate:che},sD=e=>{if(Array.isArray(e)){fj(e.length===4);const[t,n,r,a]=e;return Em(t,n,r,a)}else if(typeof e=="string")return uhe[e];return e},hj=(e,t)=>n=>!!(Mm(n)&&dme.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),vR=(e,t,n)=>r=>{if(!Mm(r))return r;const[a,i,o,s]=r.match(hv);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},dhe=e=>Zl(0,255,e),Gb={...gu,transform:e=>Math.round(dhe(e))},Rc={test:hj("rgb","red"),parse:vR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Gb.transform(e)+", "+Gb.transform(t)+", "+Gb.transform(n)+", "+Zf(Xf.transform(r))+")"};function fhe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const m1={test:hj("#"),parse:fhe,transform:Rc.transform},Zu={test:hj("hsl","hue"),parse:vR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+as.transform(Zf(t))+", "+as.transform(Zf(n))+", "+Zf(Xf.transform(r))+")"},Va={test:e=>Rc.test(e)||m1.test(e)||Zu.test(e),parse:e=>Rc.test(e)?Rc.parse(e):Zu.test(e)?Zu.parse(e):m1.parse(e),transform:e=>Mm(e)?e:e.hasOwnProperty("red")?Rc.transform(e):Zu.transform(e)},yr=(e,t,n)=>-n*e+n*t+e;function Yb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function phe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Yb(l,s,e+1/3),i=Yb(l,s,e),o=Yb(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Xb=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},mhe=[m1,Rc,Zu],hhe=e=>mhe.find(t=>t.test(e));function lD(e){const t=hhe(e);let n=t.parse(e);return t===Zu&&(n=phe(n)),n}const bR=(e,t)=>{const n=lD(e),r=lD(t),a={...n};return i=>(a.red=Xb(n.red,r.red,i),a.green=Xb(n.green,r.green,i),a.blue=Xb(n.blue,r.blue,i),a.alpha=yr(n.alpha,r.alpha,i),Rc.transform(a))};function ghe(e){var t,n;return isNaN(e)&&Mm(e)&&(((t=e.match(hv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(H$))===null||n===void 0?void 0:n.length)||0)>0}const xR={regex:cme,countKey:"Vars",token:"${v}",parse:_r},wR={regex:H$,countKey:"Colors",token:"${c}",parse:Va.parse},kR={regex:hv,countKey:"Numbers",token:"${n}",parse:gu.parse};function Zb(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function L0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Zb(n,xR),Zb(n,wR),Zb(n,kR),n}function SR(e){return L0(e).values}function NR(e){const{values:t,numColors:n,numVars:r,tokenised:a}=L0(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(xR.token,o[l]):l<r+n?s=s.replace(wR.token,Va.transform(o[l])):s=s.replace(kR.token,Zf(o[l]));return s}}const yhe=e=>typeof e=="number"?0:e;function vhe(e){const t=SR(e);return NR(e)(t.map(yhe))}const Ql={test:ghe,parse:SR,createTransformer:NR,getAnimatableNone:vhe},jR=(e,t)=>n=>`${n>0?t:e}`;function CR(e,t){return typeof e=="number"?n=>yr(e,t,n):Va.test(e)?bR(e,t):e.startsWith("var(")?jR(e,t):AR(e,t)}const MR=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>CR(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},bhe=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=CR(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},AR=(e,t)=>{const n=Ql.createTransformer(t),r=L0(e),a=L0(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?ql(MR(r.values,a.values),n):jR(e,t)},Bp=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},cD=(e,t)=>n=>yr(e,t,n);function xhe(e){return typeof e=="number"?cD:typeof e=="string"?Va.test(e)?bR:AR:Array.isArray(e)?MR:typeof e=="object"?bhe:cD}function whe(e,t,n){const r=[],a=n||xhe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||_r:t;s=ql(l,s)}r.push(s)}return r}function ER(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(fj(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=whe(t,r,a),s=o.length,l=u=>{let d=0;if(s>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Bp(e[d],e[d+1],u);return o[d](f)};return n?u=>l(Zl(e[0],e[i-1],u)):l}function khe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Bp(0,t,r);e.push(yr(n,1,a))}}function She(e){const t=[0];return khe(t,e.length-1),t}function Nhe(e,t){return e.map(n=>n*t)}function jhe(e,t){return e.map(()=>t||pR).splice(0,e.length-1)}function F0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=ohe(r)?r.map(sD):sD(r),i={done:!1,value:t[0]},o=Nhe(n&&n.length===t.length?n:She(t),e),s=ER(o,t,{ease:Array.isArray(a)?a:jhe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function DR(e,t){return t?e*(1e3/t):0}const Che=5;function TR(e,t,n){const r=Math.max(t-Che,0);return DR(n-e(r),t-r)}const Qb=.001,Mhe=.01,Ahe=10,Ehe=.05,Dhe=1;function The({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=Zl(Ehe,Dhe,o),e=Zl(Mhe,Ahe,Us(e)),o<1?(a=u=>{const d=u*o,f=d*e,p=d-n,m=h1(u,o),h=Math.exp(-f);return Qb-p/m*h},i=u=>{const d=u*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-d),h=h1(Math.pow(u,2),o);return(-a(u)+Qb>0?-1:1)*((f-p)*m)/h}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Qb+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const s=5/e,l=Ohe(a,i,s);if(e=Kc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Phe=12;function Ohe(e,t,n){let r=n;for(let a=1;a<Phe;a++)r=r-e(r)/t(r);return r}function h1(e,t){return e*Math.sqrt(1-t*t)}const Ihe=["duration","bounce"],_he=["stiffness","damping","mass"];function uD(e,t){return t.some(n=>e[n]!==void 0)}function Lhe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!uD(e,_he)&&uD(e,Ihe)){const n=The(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function PR({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=Lhe({...r,velocity:-Us(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*u)),v=i-a,b=Us(Math.sqrt(s/u)),y=Math.abs(v)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let x;if(h<1){const w=h1(b,h);x=S=>{const C=Math.exp(-h*b*S);return i-C*((m+h*b*v)/w*Math.sin(w*S)+v*Math.cos(w*S))}}else if(h===1)x=w=>i-Math.exp(-b*w)*(v+(m+b*v)*w);else{const w=b*Math.sqrt(h*h-1);x=S=>{const C=Math.exp(-h*b*S),j=Math.min(w*S,300);return i-C*((m+h*b*v)*Math.sinh(j)+w*v*Math.cosh(j))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=x(w);if(p)o.done=w>=d;else{let C=m;w!==0&&(h<1?C=TR(x,w,S):C=0);const j=Math.abs(C)<=n,A=Math.abs(i-S)<=t;o.done=j&&A}return o.value=o.done?i:S,o}}}function dD({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=T=>s!==void 0&&T<s||l!==void 0&&T>l,h=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let v=n*t;const b=f+v,y=o===void 0?b:o(b);y!==b&&(v=y-f);const x=T=>-v*Math.exp(-T/r),w=T=>y+x(T),S=T=>{const R=x(T),D=w(T);p.done=Math.abs(R)<=u,p.value=p.done?y:D};let C,j;const A=T=>{m(p.value)&&(C=T,j=PR({keyframes:[p.value,h(p.value)],velocity:TR(w,T,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:T=>{let R=!1;return!j&&C===void 0&&(R=!0,S(T),A(T)),C!==void 0&&T>C?j.next(T-C):(!R&&S(T),p)}}}const Fhe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>sr.update(t,!0),stop:()=>tl(t),now:()=>Pa.isProcessing?Pa.timestamp:performance.now()}},fD=2e4;function pD(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<fD;)t+=n,r=e.next(t);return t>=fD?1/0:t}const $he={decay:dD,inertia:dD,tween:F0,keyframes:F0,spring:PR};function $0({autoplay:e=!0,delay:t=0,driver:n=Fhe,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,v,b;const y=()=>{b=new Promise(V=>{v=V})};y();let x;const w=$he[a]||F0;let S;w!==F0&&typeof r[0]!="number"&&(S=ER([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...p,keyframes:r});let j;s==="mirror"&&(j=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let A="idle",T=null,R=null,D=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=pD(C));const{calculatedDuration:I}=C;let O=1/0,q=1/0;I!==null&&(O=I+o,q=O*(i+1)-o);let Y=0;const ie=V=>{if(R===null)return;m>0&&(R=Math.min(R,V)),m<0&&(R=Math.min(V-q/m,R)),T!==null?Y=T:Y=Math.round(V-R)*m;const P=Y-t*(m>=0?1:-1),N=m>=0?P<0:P>q;Y=Math.max(P,0),A==="finished"&&T===null&&(Y=q);let F=Y,z=C;if(i){const L=Math.min(Y,q)/O;let B=Math.floor(L),ne=L%1;!ne&&L>=1&&(ne=1),ne===1&&B--,B=Math.min(B,i+1),B%2&&(s==="reverse"?(ne=1-ne,o&&(ne-=o/O)):s==="mirror"&&(z=j)),F=Zl(0,1,ne)*O}const Z=N?{done:!1,value:r[0]}:z.next(F);S&&(Z.value=S(Z.value));let{done:se}=Z;!N&&I!==null&&(se=m>=0?Y>=q:Y<=0);const K=T===null&&(A==="finished"||A==="running"&&se);return f&&f(Z.value),K&&H(),Z},ke=()=>{x&&x.stop(),x=void 0},te=()=>{A="idle",ke(),v(),y(),R=D=null},H=()=>{A="finished",d&&d(),ke(),v()},W=()=>{if(h)return;x||(x=n(ie));const V=x.now();l&&l(),T!==null?R=V-T:(!R||A==="finished")&&(R=V),A==="finished"&&y(),D=R,T=null,A="running",x.start()};e&&W();const k={then(V,P){return b.then(V,P)},get time(){return Us(Y)},set time(V){V=Kc(V),Y=V,T!==null||!x||m===0?T=V:R=x.now()-V/m},get duration(){const V=C.calculatedDuration===null?pD(C):C.calculatedDuration;return Us(V)},get speed(){return m},set speed(V){V===m||!x||(m=V,k.time=Us(Y))},get state(){return A},play:W,pause:()=>{A="paused",T=Y},stop:()=>{h=!0,A!=="idle"&&(A="idle",u&&u(),te())},cancel:()=>{D!==null&&ie(D),te()},complete:()=>{A="finished"},sample:V=>(R=0,ie(V))};return k}function Rhe(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bhe=Rhe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Uhe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Oh=10,zhe=2e4,Vhe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!cR(t.ease);function Whe(e,t,{onUpdate:n,onComplete:r,...a}){if(!(Bhe()&&Uhe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const u=()=>{s=new Promise(y=>{o=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(Vhe(t,a)){const y=$0({...a,repeat:0,delay:0});let x={done:!1,value:d[0]};const w=[];let S=0;for(;!x.done&&S<zhe;)x=y.sample(S),w.push(x.value),S+=Oh;m=void 0,d=w,f=S-Oh,p="linear"}const h=Jme(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),v=()=>{l=!1,h.cancel()},b=()=>{l=!0,sr.update(v),o(),u()};return h.onfinish=()=>{l||(e.set(ehe(d,a)),r&&r(),b())},{then(y,x){return s.then(y,x)},attachTimeline(y){return h.timeline=y,h.onfinish=null,_r},get time(){return Us(h.currentTime||0)},set time(y){h.currentTime=Kc(y)},get speed(){return h.playbackRate},set speed(y){h.playbackRate=y},get duration(){return Us(f)},play:()=>{i||(h.play(),tl(v))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:y}=h;if(y){const x=$0({...a,autoplay:!1});e.setWithVelocity(x.sample(y-Oh).value,x.sample(y).value,Oh)}b()},complete:()=>{l||h.finish()},cancel:b}}function qhe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:_r,pause:_r,stop:_r,then:i=>(i(),Promise.resolve()),cancel:_r,complete:_r});return t?$0({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Hhe={type:"spring",stiffness:500,damping:25,restSpeed:10},Khe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ghe={type:"keyframes",duration:.8},Yhe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xhe=(e,{keyframes:t})=>t.length>2?Ghe:hu.has(e)?e.startsWith("scale")?Khe(t[1]):Hhe:Yhe,g1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ql.test(t)||t==="0")&&!t.startsWith("url(")),Zhe=new Set(["brightness","contrast","saturate","opacity"]);function Qhe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hv)||[];if(!r)return e;const a=n.replace(r,"");let i=Zhe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Jhe=/([a-z-]*)\(.*?\)/g,y1={...Ql,getAnimatableNone:e=>{const t=e.match(Jhe);return t?t.map(Qhe).join(" "):e}},ege={...K$,color:Va,backgroundColor:Va,outlineColor:Va,fill:Va,stroke:Va,borderColor:Va,borderTopColor:Va,borderRightColor:Va,borderBottomColor:Va,borderLeftColor:Va,filter:y1,WebkitFilter:y1},gj=e=>ege[e];function OR(e,t){let n=gj(e);return n!==y1&&(n=Ql),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const IR=e=>/^0[^.\s]+$/.test(e);function tge(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||IR(e)}function nge(e,t,n,r){const a=g1(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),tge(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(s=i[u]);if(a&&l.length&&s)for(let u=0;u<l.length;u++){const d=l[u];i[d]=OR(t,s)}return i}function rge({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function yj(e,t){return e[t]||e.default||e}const age={skipAnimations:!1},vj=(e,t,n,r={})=>a=>{const i=yj(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-Kc(o);const l=nge(t,e,n,i),u=l[0],d=l[l.length-1],f=g1(e,u),p=g1(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(rge(i)||(m={...m,...Xhe(e,m)}),m.duration&&(m.duration=Kc(m.duration)),m.repeatDelay&&(m.repeatDelay=Kc(m.repeatDelay)),!f||!p||Qme.current||i.type===!1||age.skipAnimations)return qhe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Whe(t,e,m);if(h)return h}return $0(m)};function R0(e){return!!(fi(e)&&e.add)}const _R=e=>/^\-?\d*\.?\d+$/.test(e);function bj(e,t){e.indexOf(t)===-1&&e.push(t)}function xj(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class wj{constructor(){this.subscriptions=[]}add(t){return bj(this.subscriptions,t),()=>xj(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ige=e=>!isNaN(parseFloat(e));class oge{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Pa;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,sr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=ige(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wj);const r=this.events[t].add(n);return t==="change"?()=>{r(),sr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?DR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Td(e,t){return new oge(e,t)}const LR=e=>t=>t.test(e),sge={test:e=>e==="auto",parse:e=>e},FR=[gu,Xt,as,kl,pme,fme,sge],Sf=e=>FR.find(LR(e)),lge=[...FR,Va,Ql],cge=e=>lge.find(LR(e));function uge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Td(n))}function dge(e,t){const n=yv(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=Ame(i[o]);uge(e,o,s)}}function fge(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(_R(d)||IR(d))?d=parseFloat(d):!cge(d)&&Ql.test(u)&&(d=OR(l,u)),e.addValue(l,Td(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function pge(e,t){return t?(t[e]||t.default||t).from:void 0}function mge(e,t,n){const r={};for(const a in e){const i=pge(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function hge({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function gge(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function $R(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&hge(d,f))continue;const h={delay:n,elapsed:0,...yj(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[R$];if(y){const x=window.HandoffAppearAnimations(y,f,p,sr);x!==null&&(h.elapsed=x,h.isHandoff=!0)}}let v=!h.isHandoff&&!gge(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(vj(f,p,m,e.shouldReduceMotion&&hu.has(f)?{type:!1}:h));const b=p.animation;R0(l)&&(l.add(f),b.then(()=>l.remove(f))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&dge(e,o)}),u}function v1(e,t,n={}){const r=yv(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all($R(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return yge(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,u]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function yge(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(e.variantChildren).sort(vge).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(v1(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function vge(e,t){return e.sortNodePosition(t)}function bge(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>v1(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=v1(e,t,n);else{const a=typeof t=="function"?yv(e,t,n.custom):t;r=Promise.all($R(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const xge=[...rj].reverse(),wge=rj.length;function kge(e){return t=>Promise.all(t.map(({animation:n,options:r})=>bge(e,n,r)))}function Sge(e){let t=kge(e);const n=jge();let r=!0;const a=(l,u)=>{const d=yv(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},v=1/0;for(let y=0;y<wge;y++){const x=xge[y],w=n[x],S=d[x]!==void 0?d[x]:f[x],C=$p(S),j=x===u?w.isActive:null;j===!1&&(v=y);let A=S===f[x]&&S!==d[x]&&C;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...h},!w.isActive&&j===null||!S&&!w.prevProp||pv(S)||typeof S=="boolean")continue;let T=Nge(w.prevProp,S)||x===u&&w.isActive&&!A&&C||y>v&&C,R=!1;const D=Array.isArray(S)?S:[S];let I=D.reduce(a,{});j===!1&&(I={});const{prevResolvedValues:O={}}=w,q={...O,...I},Y=ie=>{T=!0,m.has(ie)&&(R=!0,m.delete(ie)),w.needsAnimating[ie]=!0};for(const ie in q){const ke=I[ie],te=O[ie];if(h.hasOwnProperty(ie))continue;let H=!1;_0(ke)&&_0(te)?H=!sR(ke,te):H=ke!==te,H?ke!==void 0?Y(ie):m.add(ie):ke!==void 0&&m.has(ie)?Y(ie):w.protectedKeys[ie]=!0}w.prevProp=S,w.prevResolvedValues=I,w.isActive&&(h={...h,...I}),r&&e.blockInitialAnimation&&(T=!1),T&&(!A||R)&&p.push(...D.map(ie=>({animation:ie,options:{type:x,...l}})))}if(m.size){const y={};m.forEach(x=>{const w=e.getBaseTarget(x);w!==void 0&&(y[x]=w)}),p.push({animation:y})}let b=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function s(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function Nge(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sR(t,e):!1}function wc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jge(){return{animate:wc(!0),whileInView:wc(),whileHover:wc(),whileTap:wc(),whileDrag:wc(),whileFocus:wc(),exit:wc()}}class Cge extends sc{constructor(t){super(t),t.animationState||(t.animationState=Sge(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),pv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Mge=0;class Age extends sc{constructor(){super(...arguments),this.id=Mge++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Ege={animation:{Feature:Cge},exit:{Feature:Age}},mD=(e,t)=>Math.abs(e-t);function Dge(e,t){const n=mD(e.x,t.x),r=mD(e.y,t.y);return Math.sqrt(n**2+r**2)}class RR{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ex(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Dge(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:v}=Pa;this.history.push({...h,timestamp:v});const{onStart:b,onMove:y}=this.handlers;p||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Jb(p,this.transformPagePoint),sr.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ex(f.type==="pointercancel"?this.lastMoveEventInfo:Jb(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),h&&h(f,b)},!nR(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=gv(t),s=Jb(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=Pa;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,ex(s,this.history)),this.removeListeners=ql(Bs(this.contextWindow,"pointermove",this.handlePointerMove),Bs(this.contextWindow,"pointerup",this.handlePointerUp),Bs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),tl(this.updatePoint)}}function Jb(e,t){return t?{point:t(e.point)}:e}function hD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ex({point:e},t){return{point:e,delta:hD(e,BR(t)),offset:hD(e,Tge(t)),velocity:Pge(t,.1)}}function Tge(e){return e[0]}function BR(e){return e[e.length-1]}function Pge(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=BR(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Kc(t)));)n--;if(!r)return{x:0,y:0};const i=Us(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ii(e){return e.max-e.min}function b1(e,t=0,n=.01){return Math.abs(e-t)<=n}function gD(e,t,n,r=.5){e.origin=r,e.originPoint=yr(t.min,t.max,e.origin),e.scale=Ii(n)/Ii(t),(b1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=yr(n.min,n.max,e.origin)-e.originPoint,(b1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Qf(e,t,n,r){gD(e.x,t.x,n.x,r?r.originX:void 0),gD(e.y,t.y,n.y,r?r.originY:void 0)}function yD(e,t,n){e.min=n.min+t.min,e.max=e.min+Ii(t)}function Oge(e,t,n){yD(e.x,t.x,n.x),yD(e.y,t.y,n.y)}function vD(e,t,n){e.min=t.min-n.min,e.max=e.min+Ii(t)}function Jf(e,t,n){vD(e.x,t.x,n.x),vD(e.y,t.y,n.y)}function Ige(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?yr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?yr(n,e,r.max):Math.min(e,n)),e}function bD(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _ge(e,{top:t,left:n,bottom:r,right:a}){return{x:bD(e.x,n,a),y:bD(e.y,t,r)}}function xD(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Lge(e,t){return{x:xD(e.x,t.x),y:xD(e.y,t.y)}}function Fge(e,t){let n=.5;const r=Ii(e),a=Ii(t);return a>r?n=Bp(t.min,t.max-r,e.min):r>a&&(n=Bp(e.min,e.max-a,t.min)),Zl(0,1,n)}function $ge(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const x1=.35;function Rge(e=x1){return e===!1?e=0:e===!0&&(e=x1),{x:wD(e,"left","right"),y:wD(e,"top","bottom")}}function wD(e,t,n){return{min:kD(e,t),max:kD(e,n)}}function kD(e,t){return typeof e=="number"?e:e[t]||0}const SD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qu=()=>({x:SD(),y:SD()}),ND=()=>({min:0,max:0}),Ur=()=>({x:ND(),y:ND()});function Ki(e){return[e("x"),e("y")]}function UR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Bge({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Uge(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tx(e){return e===void 0||e===1}function w1({scale:e,scaleX:t,scaleY:n}){return!tx(e)||!tx(t)||!tx(n)}function Ac(e){return w1(e)||zR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function zR(e){return jD(e.x)||jD(e.y)}function jD(e){return e&&e!=="0%"}function B0(e,t,n){const r=e-n,a=t*r;return n+a}function CD(e,t,n,r,a){return a!==void 0&&(e=B0(e,a,r)),B0(e,n,r)+t}function k1(e,t=0,n=1,r,a){e.min=CD(e.min,t,n,r,a),e.max=CD(e.max,t,n,r,a)}function VR(e,{x:t,y:n}){k1(e.x,t.translate,t.scale,t.originPoint),k1(e.y,n.translate,n.scale,n.originPoint)}function zge(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ju(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,VR(e,o)),r&&Ac(i.latestValues)&&Ju(e,i.latestValues))}t.x=MD(t.x),t.y=MD(t.y)}function MD(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ml(e,t){e.min=e.min+t,e.max=e.max+t}function AD(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=yr(e.min,e.max,i);k1(e,t[n],t[r],o,t.scale)}const Vge=["x","scaleX","originX"],Wge=["y","scaleY","originY"];function Ju(e,t){AD(e.x,t,Vge),AD(e.y,t,Wge)}function WR(e,t){return UR(Uge(e.getBoundingClientRect(),t))}function qge(e,t,n){const r=WR(e,n),{scroll:a}=t;return a&&(Ml(r.x,a.offset.x),Ml(r.y,a.offset.y)),r}const qR=({current:e})=>e?e.ownerDocument.defaultView:null,Hge=new WeakMap;class Kge{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ur(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gv(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aR(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ki(b=>{let y=this.getAxisMotionValue(b).get()||0;if(as.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[b];w&&(y=Ii(w)*(parseFloat(y)/100))}}this.originPoint[b]=y}),h&&sr.update(()=>h(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=Gge(b),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Ki(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new RR(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:qR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&sr.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Ih(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Ige(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Xu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=_ge(a.layoutBox,n):this.constraints=!1,this.elastic=Rge(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ki(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=$ge(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=qge(r,a.root,this.visualElement.getTransformPagePoint());let o=Lge(a.layout.layoutBox,i);if(n){const s=n(Bge(o));this.hasMutatedConstraints=!!s,s&&(o=UR(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Ki(d=>{if(!Ih(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(vj(t,r,0,n))}stopAnimation(){Ki(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ki(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ki(n=>{const{drag:r}=this.getProps();if(!Ih(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-yr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ki(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=Fge({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ki(o=>{if(!Ih(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(yr(l,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Hge.set(this.visualElement,this);const t=this.visualElement.current,n=Bs(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Xu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=_s(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ki(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=x1,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Ih(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Gge(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Yge extends sc{constructor(t){super(t),this.removeGroupControls=_r,this.removeListeners=_r,this.controls=new Kge(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_r}unmount(){this.removeGroupControls(),this.removeListeners()}}const ED=e=>(t,n)=>{e&&sr.update(()=>e(t,n))};class Xge extends sc{constructor(){super(...arguments),this.removePointerDownListener=_r}onPointerDown(t){this.session=new RR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:ED(t),onStart:ED(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&sr.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=Bs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Zge(){const e=g.useContext(tj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=g.useId();return g.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const ag={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Nf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Xt.test(e))e=parseFloat(e);else return e;const n=DD(e,t.target.x),r=DD(e,t.target.y);return`${n}% ${r}%`}},Qge={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Ql.parse(e);if(a.length>5)return r;const i=Ql.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const u=yr(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class Jge extends z0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;ime(e0e),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ag.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||sr.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function HR(e){const[t,n]=Zge(),r=g.useContext(U$);return z0.createElement(Jge,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(z$),isPresent:t,safeToRemove:n})}const e0e={borderRadius:{...Nf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nf,borderTopRightRadius:Nf,borderBottomLeftRadius:Nf,borderBottomRightRadius:Nf,boxShadow:Qge},KR=["TopLeft","TopRight","BottomLeft","BottomRight"],t0e=KR.length,TD=e=>typeof e=="string"?parseFloat(e):e,PD=e=>typeof e=="number"||Xt.test(e);function n0e(e,t,n,r,a,i){a?(e.opacity=yr(0,n.opacity!==void 0?n.opacity:1,r0e(r)),e.opacityExit=yr(t.opacity!==void 0?t.opacity:1,0,a0e(r))):i&&(e.opacity=yr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<t0e;o++){const s=`border${KR[o]}Radius`;let l=OD(t,s),u=OD(n,s);l===void 0&&u===void 0||(l||(l=0),u||(u=0),l===0||u===0||PD(l)===PD(u)?(e[s]=Math.max(yr(TD(l),TD(u),r),0),(as.test(u)||as.test(l))&&(e[s]+="%")):e[s]=u)}(t.rotate||n.rotate)&&(e.rotate=yr(t.rotate||0,n.rotate||0,r))}function OD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const r0e=GR(0,.5,gR),a0e=GR(.5,.95,_r);function GR(e,t,n){return r=>r<e?0:r>t?1:n(Bp(e,t,r))}function ID(e,t){e.min=t.min,e.max=t.max}function Wi(e,t){ID(e.x,t.x),ID(e.y,t.y)}function _D(e,t,n,r,a){return e-=t,e=B0(e,1/n,r),a!==void 0&&(e=B0(e,1/a,r)),e}function i0e(e,t=0,n=1,r=.5,a,i=e,o=e){if(as.test(t)&&(t=parseFloat(t),t=yr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=yr(i.min,i.max,r);e===i&&(s-=t),e.min=_D(e.min,t,n,s,a),e.max=_D(e.max,t,n,s,a)}function LD(e,t,[n,r,a],i,o){i0e(e,t[n],t[r],t[a],t.scale,i,o)}const o0e=["x","scaleX","originX"],s0e=["y","scaleY","originY"];function FD(e,t,n,r){LD(e.x,t,o0e,n?n.x:void 0,r?r.x:void 0),LD(e.y,t,s0e,n?n.y:void 0,r?r.y:void 0)}function $D(e){return e.translate===0&&e.scale===1}function YR(e){return $D(e.x)&&$D(e.y)}function l0e(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function XR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function RD(e){return Ii(e.x)/Ii(e.y)}class c0e{constructor(){this.members=[]}add(t){bj(this.members,t),t.scheduleRender()}remove(t){if(xj(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BD(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const u0e=(e,t)=>e.depth-t.depth;class d0e{constructor(){this.children=[],this.isDirty=!1}add(t){bj(this.children,t),this.isDirty=!0}remove(t){xj(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(u0e),this.isDirty=!1,this.children.forEach(t)}}function f0e(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(tl(r),e(i-t))};return sr.read(r,!0),()=>tl(r)}function p0e(e){window.MotionDebug&&window.MotionDebug.record(e)}function m0e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function h0e(e,t,n){const r=fi(e)?e:Td(e);return r.start(vj("",r,t,n)),r.animation}const UD=["","X","Y","Z"],g0e={visibility:"hidden"},zD=1e3;let y0e=0;const Ec={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ZR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=y0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ec.totalNodes=Ec.resolvedTargetDeltas=Ec.recalculatedProjection=0,this.nodes.forEach(x0e),this.nodes.forEach(j0e),this.nodes.forEach(C0e),this.nodes.forEach(w0e),p0e(Ec)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new d0e)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new wj),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=m0e(i),this.instance=i;const{layoutId:s,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=f0e(f,250),ag.hasAnimatedSinceResize&&(ag.hasAnimatedSinceResize=!1,this.nodes.forEach(WD))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&u&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||u.getDefaultTransition()||T0e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),y=!this.targetLayout||!XR(this.targetLayout,m)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const w={...yj(h,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||WD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M0e),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VD);return}this.isUpdating||this.nodes.forEach(S0e),this.isUpdating=!1,this.nodes.forEach(N0e),this.nodes.forEach(v0e),this.nodes.forEach(b0e),this.clearAllSnapshots();const i=performance.now();Pa.delta=Zl(0,1e3/60,i-Pa.timestamp),Pa.timestamp=i,Pa.isProcessing=!0,qb.update.process(Pa),qb.preRender.process(Pa),qb.render.process(Pa),Pa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(k0e),this.sharedNodes.forEach(A0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!YR(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;i&&(o||Ac(this.latestValues)||u)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),P0e(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Ur();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Ml(o.x,s.offset.x),Ml(o.y,s.offset.y)),o}removeElementScroll(i){const o=Ur();Wi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:u,options:d}=l;if(l!==this.root&&u&&d.layoutScroll){if(u.isRoot){Wi(o,i);const{scroll:f}=this.root;f&&(Ml(o.x,-f.offset.x),Ml(o.y,-f.offset.y))}Ml(o.x,u.offset.x),Ml(o.y,u.offset.y)}}return o}applyTransform(i,o=!1){const s=Ur();Wi(s,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ju(s,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ac(u.latestValues)&&Ju(s,u.latestValues)}return Ac(this.latestValues)&&Ju(s,this.latestValues),s}removeTransform(i){const o=Ur();Wi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Ac(l.latestValues))continue;w1(l.latestValues)&&l.updateSnapshot();const u=Ur(),d=l.measurePageBox();Wi(u,d),FD(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Ac(this.latestValues)&&FD(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Pa.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),Jf(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ur(),this.targetWithTransforms=Ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Oge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wi(this.target,this.layout.layoutBox),VR(this.target,this.targetDelta)):Wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),Jf(this.relativeTargetOrigin,this.target,f.target),Wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ec.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||w1(this.parent.latestValues)||zR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pa.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Wi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;zge(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=Qu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Qu(),this.projectionDeltaWithTransform=Qu());const h=this.projectionTransform;Qf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=BD(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Ec.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},u={...this.latestValues},d=Qu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Ur(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,v=this.getStack(),b=!v||v.members.length<=1,y=!!(h&&!b&&this.options.crossfade===!0&&!this.path.some(D0e));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const S=w/1e3;qD(d.x,i.x,S),qD(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E0e(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&l0e(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ur()),Wi(x,this.relativeTarget)),h&&(this.animationValues=u,n0e(u,l,this.latestValues,S,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sr.update(()=>{ag.hasAnimatedSinceResize=!0,this.currentAnimation=h0e(0,zD,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:u}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&QR(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||Ur();const d=Ii(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=Ii(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}Wi(o,s),Ju(o,u),Qf(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new c0e),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let u=0;u<UD.length;u++){const d="rotate"+UD[u];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const u in l)i.setStaticValue(u,l[u]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return g0e;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=rg(i==null?void 0:i.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=rg(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Ac(this.latestValues)&&(h.transform=u?u({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=BD(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in O0){if(f[h]===void 0)continue;const{correct:v,applyTo:b}=O0[h],y=l.transform==="none"?f[h]:v(f[h],d);if(b){const x=b.length;for(let w=0;w<x;w++)l[b[w]]=y}else l[h]=y}return this.options.layoutId&&(l.pointerEvents=d===this?rg(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(VD),this.root.sharedNodes.clear()}}}function v0e(e){e.updateLayout()}function b0e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Ki(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ii(p);p.min=r[f].min,p.max=p.min+m}):QR(i,n.layoutBox,r)&&Ki(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ii(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=Qu();Qf(s,r,n.layoutBox);const l=Qu();o?Qf(l,e.applyTransform(a,!0),n.measuredBox):Qf(l,r,n.layoutBox);const u=!YR(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=Ur();Jf(h,n.layoutBox,p.layoutBox);const v=Ur();Jf(v,r,m.layoutBox),XR(h,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function x0e(e){Ec.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function w0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function k0e(e){e.clearSnapshot()}function VD(e){e.clearMeasurements()}function S0e(e){e.isLayoutDirty=!1}function N0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function WD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function j0e(e){e.resolveTargetDelta()}function C0e(e){e.calcProjection()}function M0e(e){e.resetRotation()}function A0e(e){e.removeLeadSnapshot()}function qD(e,t,n){e.translate=yr(t.translate,0,n),e.scale=yr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function HD(e,t,n,r){e.min=yr(t.min,n.min,r),e.max=yr(t.max,n.max,r)}function E0e(e,t,n,r){HD(e.x,t.x,n.x,r),HD(e.y,t.y,n.y,r)}function D0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const T0e={duration:.45,ease:[.4,0,.1,1]},KD=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),GD=KD("applewebkit/")&&!KD("chrome/")?Math.round:_r;function YD(e){e.min=GD(e.min),e.max=GD(e.max)}function P0e(e){YD(e.x),YD(e.y)}function QR(e,t,n){return e==="position"||e==="preserve-aspect"&&!b1(RD(t),RD(n),.2)}const O0e=ZR({attachResizeListener:(e,t)=>_s(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nx={current:void 0},JR=ZR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nx.current){const e=new O0e({});e.mount(window),e.setOptions({layoutScroll:!0}),nx.current=e}return nx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),I0e={pan:{Feature:Xge},drag:{Feature:Yge,ProjectionNode:JR,MeasureLayout:HR}},_0e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function L0e(e){const t=_0e.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function S1(e,t,n=1){const[r,a]=L0e(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return _R(o)?parseFloat(o):o}else return f1(a)?S1(a,t,n+1):a}function F0e(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!f1(i))return;const o=S1(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!f1(i))continue;const o=S1(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const $0e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),e6=e=>$0e.has(e),R0e=e=>Object.keys(e).some(e6),XD=e=>e===gu||e===Xt,ZD=(e,t)=>parseFloat(e.split(", ")[t]),QD=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return ZD(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?ZD(i[1],e):0}},B0e=new Set(["x","y","z"]),U0e=Cm.filter(e=>!B0e.has(e));function z0e(e){const t=[];return U0e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Pd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:QD(4,13),y:QD(5,14)};Pd.translateX=Pd.x;Pd.translateY=Pd.y;const V0e=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{s[u]=Pd[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(s[u]),e[u]=Pd[u](l,i)}),e},W0e=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(e6);let i=[],o=!1;const s=[];if(a.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Sf(d);const p=t[l];let m;if(_0(p)){const h=p.length,v=p[0]===null?1:0;d=p[v],f=Sf(d);for(let b=v;b<h&&p[b]!==null;b++)m?fj(Sf(p[b])===m):m=Sf(p[b])}else m=Sf(p);if(f!==m)if(XD(f)&&XD(m)){const h=u.get();typeof h=="string"&&u.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Xt&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(p):(o||(i=z0e(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=V0e(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),fv&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function q0e(e,t,n,r){return R0e(t)?W0e(e,t,n,r):{target:t,transitionEnd:r}}const H0e=(e,t,n,r)=>{const a=F0e(e,t,r);return t=a.target,r=a.transitionEnd,q0e(e,t,n,r)},N1={current:null},t6={current:!1};function K0e(){if(t6.current=!0,!!fv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>N1.current=e.matches;e.addListener(t),t()}else N1.current=!1}function G0e(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(fi(i))e.addValue(a,i),R0(r)&&r.add(a);else if(fi(o))e.addValue(a,Td(i,{owner:e})),R0(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,Td(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const JD=new WeakMap,n6=Object.keys(Rp),Y0e=n6.length,eT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],X0e=aj.length;class Z0e{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sr.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=mv(n),this.isVariantNode=B$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&fi(p)&&(p.set(s[f],!1),R0(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,JD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),t6.current||K0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:N1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JD.delete(this.current),this.projection&&this.projection.unmount(),tl(this.notifyUpdate),tl(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=hu.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&sr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<Y0e;l++){const u=n6[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Rp[u];p&&(o=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Xu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ur()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eT.length;r++){const a=eT[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=G0e(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<X0e;r++){const a=aj[r],i=this.props[a];($p(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Td(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=dj(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!fi(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wj),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class r6 extends Z0e{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=mge(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){fge(this,r,o);const s=H0e(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function Q0e(e){return window.getComputedStyle(e)}class J0e extends r6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(hu.has(n)){const r=gj(n);return r&&r.default||0}else{const r=Q0e(t),a=(q$(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return WR(t,n)}build(t,n,r,a){oj(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return uj(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;fi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){Z$(t,n,r,a)}}class eye extends r6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hu.has(n)){const r=gj(n);return r&&r.default||0}return n=Q$.has(n)?n:nj(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ur()}scrapeMotionValuesFromProps(t,n){return eR(t,n)}build(t,n,r,a){lj(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){J$(t,n,r,a)}mount(t){this.isSVGTag=cj(t.tagName),super.mount(t)}}const tye=(e,t)=>ij(e)?new eye(t,{enableHardwareAcceleration:!1}):new J0e(t,{enableHardwareAcceleration:!0}),nye={layout:{ProjectionNode:JR,MeasureLayout:HR}},rye={...Ege,...Yme,...I0e,...nye},Yo=rme((e,t)=>Lme(e,t,rye,tye));function aye({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:u,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:v,children:b}){return e?c.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:y=>y.target===y.currentTarget&&t(),children:c.jsxs("div",{className:"app-modal-card proof-of-work-modal relative isolate w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 z-0 opacity-60","aria-hidden":"true",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),c.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("input",{type:"text",value:n,onChange:y=>i(y.target.value),onFocus:o,onBlur:y=>s(y.relatedTarget),onKeyDown:y=>{y.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&c.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((y,x)=>c.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),u(y)},children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:y.section}),c.jsx("div",{className:"truncate",children:d(y.text,n)})]},`${y.hitId}-${x}-${y.text}`))})]}),c.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:c.jsx(va,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"h-[65vh]",children:c.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[c.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[c.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),c.jsxs("div",{className:"space-y-1",children:[p.length===0&&c.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((y,x)=>{const w=y.id===m;return c.jsxs("button",{type:"button","data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${y.level===1?"proof-of-work-toc-item--l1":y.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":y.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(y),children:[c.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),c.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:y.text})]},`${y.id}-${y.level}-${x}`)})]})]}),c.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:v,id:"metrics-spec-content",children:c.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:b})})]})})]})]})}):null}const kc="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",j1="arcbridge_web_theme_override",tT="arcbridge_web_kinetic_font_override",nT="__default__",a6=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},rT=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},iye=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},oye=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},sye=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},C1=e=>e?e===_N?!0:Pf.some(t=>t.id===e):!1,lye=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&C1(t))return t;const n=a6(j1);if(!n)return null;try{const r=JSON.parse(n),a=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return a&&C1(a)?a:null}catch{return null}},aT=(e,t)=>e?e===M0?"matte":e===A0||e===Hf?"kinetic":e===_N?"crt":t==="modern"||t==="classic"?t:"classic":t,iT=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},cye=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},oT=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),uye=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,u=t-r;return r+=s,c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:u,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},dye=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),c.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function fye(){var e;const t=lye(),[n,r]=g.useState(null),[a,i]=g.useState(null),[o,s]=g.useState(null),[l,u]=g.useState(null),[d,f]=g.useState(""),[p,m]=g.useState(null),[h,v]=g.useState(null),[b,y]=g.useState(!1),[x,w]=g.useState(!1),[S,C]=g.useState(()=>aT(t,"classic")),[j,A]=g.useState("classic"),[T,R]=g.useState(eg.id),[D,I]=g.useState(t),O=g.useMemo(()=>{const Q=new URLSearchParams(window.location.search),ve=Q.get("themeId")||Q.get("theme");return ve&&C1(ve)?ve:null},[]),[q,Y]=g.useState("default"),[ie,ke]=g.useState(!1),[te,H]=g.useState(!1),[W,k]=g.useState(!1),[V,P]=g.useState(""),[N,F]=g.useState(""),[z,Z]=g.useState([]),[se,K]=g.useState(!1),[L,B]=g.useState("overview"),[ne,$]=g.useState("kdr"),[le,ye]=g.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),G=g.useRef(null),me=g.useRef(null),Te=g.useRef(null),mt=g.useRef(null),Pe=g.useRef(null),ae=g.useRef(null),Ue=g.useRef(new Map),Re=g.useRef(null),de=g.useRef(null),It=g.useMemo(()=>{let Q=window.location.pathname||"/";const ve=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return Q.endsWith("/index.html")&&(Q=Q.slice(0,-11)),Q.includes("/reports/")&&(Q=Q.replace(/\/reports\/[^/]+\/?$/,"")),ve&&(Q=Q.replace(/^\/web\/web(?=\/|$)/,"/web")),Q.endsWith("/")||(Q=`${Q}/`),Q},[]),Tn=g.useMemo(()=>new URL(It,window.location.origin).toString(),[It]),je=g.useMemo(()=>O?oye(Tn,O):Tn,[O,Tn]),et=g.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Ft=g.useMemo(()=>{const Q=[It,"./","/"],ve=[];return Q.forEach(Qe=>{let yt=Qe||"/";yt!=="./"&&!yt.endsWith("/")&&(yt=`${yt}/`),ve.includes(yt)||ve.push(yt)}),ve},[It,et]),[on,ln]=g.useState(Ft[0]||"/"),pr=Q=>{var ve;return typeof Q=="string"||typeof Q=="number"?String(Q):Array.isArray(Q)?Q.map(pr).join(""):Q&&typeof Q=="object"&&"props"in Q?pr((ve=Q.props)==null?void 0:ve.children):""},Xn=Q=>{const ve=oT(Q||"section")||"section",Qe=Ue.current,yt=(Qe.get(ve)??0)+1;return Qe.set(ve,yt),yt===1?ve:`${ve}-${yt}`},dn=g.useMemo(()=>{const Q=Wb.split(`
`),ve=new Map,Qe=[],yt=Gt=>{const Dt=oT(Gt||"section")||"section",jt=(ve.get(Dt)??0)+1;return ve.set(Dt,jt),jt===1?Dt:`${Dt}-${jt}`};for(const Gt of Q){const Dt=/^(#{1,3})\s+(.*)\s*$/.exec(Gt);if(!Dt)continue;const jt=Dt[1].length,fn=Dt[2].trim();fn&&Qe.push({level:jt,text:fn,id:yt(fn)})}return Qe},[Wb]),Aa=(Q,ve)=>{const Qe=Q==="./"?"./":Q.endsWith("/")?Q:`${Q}/`,yt=String(ve||"").replace(/^\/+/,"");return`${Qe}${yt}`};g.useEffect(()=>{const Q=a6(tT);(Q==="original"||Q==="default")&&Y(Q)},[]),g.useEffect(()=>{const Q=D||T,ve=Pf.find(Qe=>Qe.id===Q)||eg;m(ve)},[D,T]),g.useEffect(()=>{if(!D){C(j);return}C(aT(D,j))},[D,j]),g.useEffect(()=>{ln(Ft[0]||"/");let Q=!0;return(async()=>{for(const ve of Ft)try{if((await fetch(Aa(ve,"ui-theme.json"),{cache:"no-store"})).ok){Q&&ln(ve);return}}catch{}})(),()=>{Q=!1}},[Ft]);const pn=(Q,ve)=>{const Qe=ve.trim();if(!Qe)return Q;const yt=Q.toLowerCase(),Gt=Qe.toLowerCase(),Dt=yt.indexOf(Gt);if(Dt===-1)return Q;const jt=Q.slice(0,Dt),fn=Q.slice(Dt,Dt+Qe.length),Sn=Q.slice(Dt+Qe.length);return c.jsxs(c.Fragment,{children:[jt,c.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:fn}),Sn]})},In=(Q,ve)=>{const Qe=me.current;if(!Qe)return;let yt=Qe.querySelector(`[data-search-hit="${Q}"]`);if(!yt&&ve){const Gt=ve.trim().replace(/\s+/g," "),Dt=Array.from(Qe.querySelectorAll("h1, h2, h3, p, li, code"));yt=Dt.find(jt=>(jt.textContent||"").trim().replace(/\s+/g," ")===Gt)||null,yt||(yt=Dt.find(jt=>(jt.textContent||"").toLowerCase().includes(Gt.toLowerCase()))||null)}yt&&requestAnimationFrame(()=>{const Gt=Qe.getBoundingClientRect(),Dt=yt.getBoundingClientRect(),jt=Math.max(0,Qe.scrollTop+(Dt.top-Gt.top)-12);Qe.scrollTop=jt,yt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ae.current&&window.clearTimeout(ae.current),ae.current=window.setTimeout(()=>{yt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},mr=Q=>{const ve=me.current,Qe=Q.trim().toLowerCase();if(!ve||Qe.length<2){Z([]);return}const yt=Array.from(ve.querySelectorAll("h1, h2, h3, p, li, code"));yt.forEach(jt=>jt.removeAttribute("data-search-hit"));const Gt=[];let Dt=0;yt.forEach((jt,fn)=>{const Sn=(jt.textContent||"").trim();if(Sn&&Sn.toLowerCase().includes(Qe)){let Rn="";for(let er=fn;er>=0;er-=1){const ot=yt[er];if(ot&&["H1","H2","H3"].includes(ot.tagName)){Rn=(ot.textContent||"").trim();break}}jt.setAttribute("data-search-hit",String(Dt)),Gt.push({index:fn,text:Sn,section:Rn||"Unlabeled Section",hitId:Dt}),Dt+=1}}),Z(Gt.slice(0,12))};g.useEffect(()=>{var Q;if(!W)return;P(((Q=dn[0])==null?void 0:Q.id)||"");const ve=Qe=>{var yt;const Gt=Qe.target;Gt&&((yt=Te.current)!=null&&yt.contains(Gt)||(K(!1),Z([])))};return window.addEventListener("mousedown",ve),()=>{window.removeEventListener("mousedown",ve)}},[W,dn]),g.useEffect(()=>{if(!W){P("");return}const Q=me.current;if(!Q)return;let ve=0;const Qe=()=>{var Gt;const Dt=Array.from(Q.querySelectorAll("[data-heading-id]"));if(Dt.length===0)return;const jt=Q.getBoundingClientRect().top+18,fn=Dt.map((U,X)=>({index:X,id:U.dataset.headingId||U.id||"",top:U.getBoundingClientRect().top})).filter(U=>!!U.id);if(fn.length===0)return;let Sn=0,Rn=!1;for(const U of fn){if(U.top<=jt){Sn=U.index,Rn=!0;continue}Rn||(Sn=U.index);break}Q.scrollTop+Q.clientHeight>=Q.scrollHeight-2&&(Sn=Math.max(0,fn.length-1));const er=dn[Sn],ot=((Gt=fn[Sn])==null?void 0:Gt.id)||"",E=(er==null?void 0:er.id)||ot;E&&P(E)};Qe();const yt=()=>{ve&&cancelAnimationFrame(ve),ve=requestAnimationFrame(Qe)};return Q.addEventListener("scroll",yt,{passive:!0}),window.addEventListener("resize",yt),()=>{ve&&cancelAnimationFrame(ve),Q.removeEventListener("scroll",yt),window.removeEventListener("resize",yt)}},[W,dn]);const Zn=g.useMemo(()=>[{id:"overview",label:"Overview",icon:p8,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:zc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Ol},{id:"top-players",label:"Top Players",icon:zc},{id:"top-skills-outgoing",label:"Top Skills",icon:wk},{id:"squad-composition",label:"Classes",icon:Er},{id:"timeline",label:"Squad vs Enemy Size",icon:Er},{id:"map-distribution",label:"Map Distribution",icon:Ck}]},{id:"roster",label:"Roster Intel",icon:yp,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:yp},{id:"squad-comp-fight",label:"Squad Comp",icon:Er},{id:"fight-comp",label:"Fight Comp",icon:Ol}]},{id:"offense",label:"Offensive Stats",icon:Ol,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:TF},{id:"player-breakdown",label:"Player Breakdown",icon:jk},{id:"damage-breakdown",label:"Damage Breakdown",icon:kk},{id:"spike-damage",label:"Spike Damage",icon:vp},{id:"conditions-outgoing",label:"Conditions",icon:ay}]},{id:"defense",label:"Defensive Stats",icon:vd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:vd},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:vp},{id:"defense-mitigation",label:"Damage Mitigation",icon:Dk},{id:"boon-output",label:"Boon Output",icon:Vc},{id:"boon-timeline",label:"Boon Timeline",icon:Ek},{id:"boon-uptime",label:"Boon Uptime",icon:Vf},{id:"support-detailed",label:"Support Detailed",icon:Mk},{id:"healing-stats",label:"Healing Stats",icon:A3}]},{id:"other",label:"Other Metrics",icon:iy,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Sk},{id:"special-buffs",label:"Special Buffs",icon:Dg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Tk},{id:"skill-usage",label:"Skill Usage",icon:Nk},{id:"apm-stats",label:"APM Breakdown",icon:Ak}]}],[]),Fi=g.useMemo(()=>{const Q=new Map;return Zn.forEach(ve=>{Q.set(ve.id.toLowerCase(),ve.id),(ve.sectionIds||[]).forEach(Qe=>Q.set(String(Qe).toLowerCase(),ve.id)),(ve.items||[]).forEach(Qe=>Q.set(String(Qe.id).toLowerCase(),ve.id))}),Q.set("report-top","overview"),Q.set("overview","overview"),Q.set("kdr","overview"),Q},[Zn]),ia=g.useMemo(()=>Zn.find(Q=>Q.id===L)||Zn[0],[Zn,L]),Lr=S==="kinetic",yu=g.useMemo(()=>{const Q=((ia==null?void 0:ia.sectionIds)||((ia==null?void 0:ia.items)||[]).map(ve=>ve.id)).map(ve=>ve==="kdr"?"overview":ve);return new Set(Q)},[ia]),lc=Q=>{if(Q==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const ve=Q==="kdr"?"overview":Q,Qe=ve==="overview"&&Q!=="kdr"?"report-top":ve,yt=document.getElementById(Qe);if(!yt||yt.getAttribute("data-section-visible")==="false"||!yt.offsetParent)return!1;const Gt=yt.getBoundingClientRect();if(Gt.height<=0)return!1;let Dt=0;if(Qe==="stats-view-top"){const fn=document.getElementById("report-top");fn&&(Dt=fn.getBoundingClientRect().height+12)}const jt=Gt.top+window.scrollY-12-Dt;return window.scrollTo({top:Math.max(0,jt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Qe}`),!0},cl=(Q,ve=0)=>{lc(Q)||ve>=12||window.setTimeout(()=>{requestAnimationFrame(()=>cl(Q,ve+1))},40)};g.useEffect(()=>{if(!n)return;const Q=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(ve=>{ve.scrollHeight})});return()=>cancelAnimationFrame(Q)},[n]),g.useEffect(()=>{const Q=Re.current;if(!Q)return;let ve=0;const Qe=()=>{if(lc(Q)){Re.current=null;return}if(ve+=1,ve>=20){Re.current=null;return}window.setTimeout(()=>requestAnimationFrame(Qe),40)};requestAnimationFrame(Qe)},[L]),g.useEffect(()=>{const Q=()=>{var ve,Qe;const yt=(window.location.hash||"").replace(/^#/,"").trim();if(!yt)return;let Gt=yt;try{Gt=decodeURIComponent(yt)}catch{Gt=yt}const Dt=Gt.toLowerCase(),jt=Fi.get(Dt);if(jt){if(B(jt),ye(()=>{const fn={};return Zn.forEach(Sn=>{fn[Sn.id]=Sn.id===jt}),fn}),Dt==="report-top")$("kdr");else{const fn=Zn.find(Sn=>Sn.id.toLowerCase()===Dt);$(((Qe=(ve=fn==null?void 0:fn.items)==null?void 0:ve[0])==null?void 0:Qe.id)||Dt)}Re.current=Dt==="report-top"?"kdr":Dt}};return Q(),window.addEventListener("hashchange",Q),()=>{window.removeEventListener("hashchange",Q)}},[Fi,Zn]);const oa=S==="matte",us=p??eg,Gr=Lr&&us.id===Hf,uo=Lr?Gr?"142, 155, 214":"90, 80, 68":us.rgb,Sr=oa?"#d8e1eb":Lr?Gr?"#f0d8a9":"#24211d":"var(--accent)",ul={"--accent":`rgb(${uo})`,"--accent-rgb":uo,"--accent-soft":`rgba(${uo}, ${Lr?Gr?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${uo}, ${Lr?Gr?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${uo}, ${Lr?Gr?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${uo}, ${Lr?Gr?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${uo}, ${Lr?Gr?"0.08":"0.04":"0.08"})`},Yr=S==="modern"||S==="matte"||S==="kinetic",cc=us.pattern?oa||Lr?void 0:Yr?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${us.pattern}`:us.pattern:void 0,Ja=Lr?{backgroundImage:"none",backgroundColor:Gr?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:Gr?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:oa?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Yr?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};g.useEffect(()=>{var Q;let ve=!0;const Qe=new URLSearchParams(window.location.search).get("report")||((Q=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:Q[1])||null,yt=Qe?`${It}reports/${Qe}/report.json`:`${It}report.json`;Qe&&u(yt);const Gt=jt=>{var fn,Sn,Rn;const er=new Set((((fn=jt==null?void 0:jt.meta)==null?void 0:fn.commanders)||[]).map(E=>String(E)));if(er.size===0)return jt;const ot=jt.stats;return(Sn=ot==null?void 0:ot.leaderboards)!=null&&Sn.closestToTag&&(ot.leaderboards.closestToTag=ot.leaderboards.closestToTag.map(E=>er.has(String(E==null?void 0:E.account))?{...E,value:0}:E)),(Rn=ot==null?void 0:ot.closestToTag)!=null&&Rn.player&&er.has(String(ot.closestToTag.player))&&(ot.closestToTag={...ot.closestToTag,value:0}),jt},Dt=jt=>{var fn,Sn,Rn,er,ot;const E=jt==null?void 0:jt.stats;if(!E||typeof E!="object")return jt;const U=Array.isArray((fn=E==null?void 0:E.leaderboards)==null?void 0:fn.downContrib)?E.leaderboards.downContrib:[];if(!U.length)return jt;const X=U.map(re=>({...re,value:Number((re==null?void 0:re.value)??0)})).filter(re=>Number.isFinite(re.value)).sort((re,fe)=>fe.value-re.value||String((re==null?void 0:re.account)||"").localeCompare(String((fe==null?void 0:fe.account)||"")))[0];return X&&(E.maxDownContrib={...E.maxDownContrib||{},value:Number(X.value||0),player:String(X.account||((Sn=E.maxDownContrib)==null?void 0:Sn.player)||"-"),count:Number(X.count||((Rn=E.maxDownContrib)==null?void 0:Rn.count)||0),profession:String(X.profession||((er=E.maxDownContrib)==null?void 0:er.profession)||"Unknown"),professionList:Array.isArray(X.professionList)?X.professionList:((ot=E.maxDownContrib)==null?void 0:ot.professionList)||[]}),jt};return fetch(yt,{cache:"no-store"}).then(jt=>jt.ok?jt.json():Promise.reject()).then(jt=>{var fn,Sn,Rn,er,ot;if(!ve)return;const E=Dt(Gt(jt));if(r(E),!D){const U=(fn=E==null?void 0:E.stats)==null?void 0:fn.uiTheme;U==="modern"||U==="classic"||U==="crt"||U==="matte"||U==="kinetic"?A(U):((Sn=E==null?void 0:E.stats)==null?void 0:Sn.webThemeId)===M0?A("matte"):(((Rn=E==null?void 0:E.stats)==null?void 0:Rn.webThemeId)===A0||((er=E==null?void 0:E.stats)==null?void 0:er.webThemeId)===Hf)&&A("kinetic"),typeof((ot=E==null?void 0:E.stats)==null?void 0:ot.webThemeId)=="string"&&E.stats.webThemeId&&R(E.stats.webThemeId)}}).catch(()=>{if(Qe){if(!ve)return;s("Report not found yet. It may still be deploying.")}fetch(`${It}reports/index.json`,{cache:"no-store"}).then(jt=>jt.ok?jt.json():Promise.reject()).then(jt=>{ve&&i(Array.isArray(jt)?jt:[])}).catch(()=>{ve&&s("No report data found.")})}),()=>{ve=!1}},[It,D]),g.useEffect(()=>{if(n){const Q=n.meta.dateLabel||iT(n.meta.dateStart,n.meta.dateEnd);document.title=Q?`ArcBridge  ${n.meta.title}  ${Q}`:`ArcBridge  ${n.meta.title}`;return}document.title="ArcBridge Reports"},[n]),g.useEffect(()=>{var Q;if(D)return;const ve=(Q=n==null?void 0:n.stats)==null?void 0:Q.webThemeId;typeof ve=="string"&&ve&&R(ve)},[n,D]),g.useEffect(()=>{const Q=document.body;Q.classList.add("web-report"),Q.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),oa?Q.classList.add("theme-matte"):S==="modern"?Q.classList.add("theme-modern"):S==="crt"?Q.classList.add("theme-crt"):S==="kinetic"?(Q.classList.add("theme-kinetic"),Gr&&Q.classList.add("theme-kinetic-dark"),q==="original"&&Q.classList.add("theme-kinetic-font-original")):Q.classList.add("theme-classic")},[S,oa,Gr,q]),g.useEffect(()=>{var Q;if(D||et&&(Q=n==null?void 0:n.stats)!=null&&Q.webThemeId)return;let ve=!0;return fetch(Aa(on,"theme.json"),{cache:"no-store"}).then(Qe=>Qe.ok?Qe.json():Promise.reject()).then(Qe=>{ve&&typeof(Qe==null?void 0:Qe.id)=="string"&&Qe.id&&R(Qe.id)}).catch(()=>{}),()=>{ve=!1}},[on,et,n,D]),g.useEffect(()=>{var Q,ve;if(D)return;const Qe=(Q=n==null?void 0:n.stats)==null?void 0:Q.webThemeId,yt=(ve=n==null?void 0:n.stats)==null?void 0:ve.uiTheme;if((yt==="modern"||yt==="classic"||yt==="crt"||yt==="matte"||yt==="kinetic")&&!(Qe===M0&&yt!=="matte"||(Qe===A0||Qe===Hf)&&yt!=="kinetic"||Qe==="CRT"&&yt!=="crt"))return;let Gt=!0;return fetch(Aa(on,"ui-theme.json"),{cache:"no-store"}).then(Dt=>Dt.ok?Dt.json():Promise.reject()).then(Dt=>{if(!Gt)return;const jt=Dt==null?void 0:Dt.theme;(jt==="modern"||jt==="classic"||jt==="crt"||jt==="matte"||jt==="kinetic")&&A(jt)}).catch(()=>{}),()=>{Gt=!1}},[on,n,D]),g.useEffect(()=>{let Q=!0;return fetch(Aa(on,"logo.json"),{cache:"no-store"}).then(ve=>ve.ok?ve.json():Promise.reject()).then(ve=>{if(!Q)return;const Qe="svg/ArcBridge.svg",yt=ve!=null&&ve.path?String(ve.path):Qe,Gt=ve!=null&&ve.updatedAt?String(ve.updatedAt):"",Dt=Aa(on,yt),jt=Gt?`${Dt}?v=${encodeURIComponent(Gt)}`:Dt;v(jt),y(!(ve!=null&&ve.path)||yt===Qe)}).catch(()=>{Q&&(v(null),y(!1))}),()=>{Q=!1}},[on]);const hi=g.useMemo(()=>a?[...a].sort((Q,ve)=>{const Qe=new Date(Q.dateEnd||Q.dateStart).getTime();return new Date(ve.dateEnd||ve.dateStart).getTime()-Qe}):[],[a]),Nr=g.useMemo(()=>{if(!hi.length)return[];const Q=d.trim().toLowerCase();return Q?hi.filter(ve=>{var Qe;const yt=((Qe=ve.commanders)==null?void 0:Qe.join(" "))||"";return`${ve.title} ${yt} ${ve.dateLabel}`.toLowerCase().includes(Q)}):hi},[hi,d]),ds=Q=>{if(!Q){iye(j1);return}rT(j1,JSON.stringify({themeId:Q}))},fs=Q=>{const ve=Q===nT?null:Q;ve&&!Pf.some(Qe=>Qe.id===ve)||(I(ve),ds(ve),ke(!1))},uc=Q=>{Y(Q),rT(tT,Q),H(!1)};g.useEffect(()=>{const Q=Qe=>{if(!mt.current)return;const yt=Qe.target;mt.current.contains(yt)||Pe.current&&Pe.current.contains(yt)||(ke(!1),H(!1))},ve=Qe=>{Qe.key==="Escape"&&(ke(!1),H(!1))};return window.addEventListener("mousedown",Q),window.addEventListener("keydown",ve),()=>{window.removeEventListener("mousedown",Q),window.removeEventListener("keydown",ve)}},[]),g.useEffect(()=>()=>{de.current!==null&&(cancelAnimationFrame(de.current),de.current=null)},[]);const dc=g.useMemo(()=>{if(!D)return"Default";const Q=Pf.find(ve=>ve.id===D);return(Q==null?void 0:Q.label)||"Default"},[D]),Gd=c.jsxs("div",{className:"relative flex items-center gap-2",ref:mt,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),c.jsxs("button",{type:"button",onClick:()=>ke(Q=>!Q),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:dc}),c.jsx("span",{className:`transition-transform ${ie?"rotate-180":""}`,children:""})]}),ie&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>fs(nT),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Pf.map(Q=>c.jsx("button",{type:"button",onClick:()=>fs(Q.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${D===Q.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:Q.label},Q.id))]})]}),ei=Lr?c.jsxs("div",{className:"relative flex items-center gap-2",ref:Pe,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),c.jsxs("button",{type:"button",onClick:()=>H(Q=>!Q),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:q==="original"?"Original App":"Kinetic Default"}),c.jsx("span",{className:`transition-transform ${te?"rotate-180":""}`,children:""})]}),te&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>uc("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${q==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),c.jsx("button",{type:"button",onClick:()=>uc("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${q==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,Fo=c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[c.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),c.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[c.jsx("div",{className:"min-w-[160px]",children:Gd}),ei&&c.jsx("div",{className:"min-w-[160px]",children:ei}),c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),c.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),c.jsx("a",{href:"#proof-of-work",onClick:Q=>{Q.preventDefault(),k(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),c.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),c.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",c.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),c.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),c.jsxs("p",{className:"mt-2",children:["See the"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),dl=c.jsxs(aye,{isOpen:W,onClose:()=>k(!1),searchValue:N,searchFocused:se,searchResults:z,onSearchChange:Q=>{F(Q),requestAnimationFrame(()=>mr(Q))},onSearchFocus:()=>{K(!0),requestAnimationFrame(()=>mr(N))},onSearchBlur:Q=>{var ve;Q&&(ve=Te.current)!=null&&ve.contains(Q)||K(!1)},onSearchEnter:()=>{z.length>0&&In(z[0].hitId,z[0].text)},onSearchResultMouseDown:Q=>{K(!0),In(Q.hitId,Q.text)},renderHighlightedMatch:pn,searchRef:Te,tocItems:dn,activeTocId:V,onTocClick:Q=>{const ve=me.current;if(!ve)return;let Qe=ve.querySelector(`[data-heading-id="${Q.id}"]`);if(!Qe){const yt=Q.text.trim().replace(/\s+/g," ");Qe=Array.from(ve.querySelectorAll("h1, h2, h3")).find(Gt=>(Gt.textContent||"").trim().replace(/\s+/g," ")===yt)||null}Qe&&(P(Q.id),requestAnimationFrame(()=>{const yt=ve.getBoundingClientRect(),Gt=Qe.getBoundingClientRect(),Dt=ve.scrollTop+(Gt.top-yt.top)-12;ve.scrollTop=Math.max(0,Dt)}))},contentRef:me,children:[(Ue.current=new Map,null),c.jsx(Ode,{remarkPlugins:[Hpe],components:{h1:({children:Q})=>{const ve=pr(Q),Qe=Xn(ve);return c.jsx("h1",{id:Qe,"data-heading-id":Qe,className:"text-2xl font-bold text-white scroll-mt-6",children:Q})},h2:({children:Q})=>{const ve=pr(Q),Qe=Xn(ve);return c.jsx("h2",{id:Qe,"data-heading-id":Qe,className:"text-xl font-semibold text-white scroll-mt-6",children:Q})},h3:({children:Q})=>{const ve=pr(Q),Qe=Xn(ve);return c.jsx("h3",{id:Qe,"data-heading-id":Qe,className:"text-lg font-semibold text-white scroll-mt-6",children:Q})},p:({children:Q})=>c.jsx("p",{className:"leading-6 text-gray-200",children:Q}),ul:({children:Q})=>c.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:Q}),ol:({children:Q})=>c.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:Q}),li:({children:Q})=>c.jsx("li",{className:"leading-6",children:Q}),blockquote:({children:Q})=>c.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:Q}),a:({href:Q,children:ve})=>c.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:Q,target:"_blank",rel:"noreferrer",children:ve}),table:({children:Q})=>c.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:c.jsx("table",{className:"w-full border-collapse text-left text-sm",children:Q})}),th:({children:Q})=>c.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:Q}),td:({children:Q})=>c.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:Q}),pre:({children:Q})=>c.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:Q}),code:Q=>{const{inline:ve,children:Qe}=Q;return ve===!0?c.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Qe}):c.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Qe})}},children:Wb})]});if(n){const Q=Aa(on,"svg/ArcBridge.svg"),ve=()=>{de.current!==null&&(cancelAnimationFrame(de.current),de.current=null);const ot=window.scrollY||window.pageYOffset||0;if(ot<=1){window.scrollTo({top:0,behavior:"auto"});return}const E=320,U=performance.now(),X=re=>{const fe=re-U,Fe=Math.min(1,fe/E),Oe=1-Math.pow(1-Fe,3),xt=Math.max(0,Math.round(ot*(1-Oe)));window.scrollTo({top:xt,behavior:"auto"}),Fe<1?de.current=requestAnimationFrame(X):(de.current=null,window.scrollTo({top:0,behavior:"auto"}))};de.current=requestAnimationFrame(X)},Qe=ot=>{ye(()=>{const E={};return Zn.forEach(U=>{E[U.id]=U.id===ot}),E})},yt=ot=>{var E,U;Re.current=null,B(ot);const X=Zn.find(re=>re.id===ot);$(((U=(E=X==null?void 0:X.items)==null?void 0:E[0])==null?void 0:U.id)||"kdr"),ve()},Gt=ot=>{if(!le[ot]){Qe(ot),yt(ot);return}if(ot!==L){yt(ot);return}ye(E=>({...E,[ot]:!1}))},Dt=(ot,E)=>{le[ot]||Qe(ot),$(E);const U=ot===L;U||(Re.current=E,B(ot),requestAnimationFrame(()=>cl(E))),U&&requestAnimationFrame(()=>cl(E))},jt=ot=>{const E=ot.currentTarget;if(!(E.scrollHeight>E.clientHeight)){window.scrollBy({top:ot.deltaY,behavior:"auto"}),ot.preventDefault();return}const U=E.scrollTop<=0,X=E.scrollTop+E.clientHeight>=E.scrollHeight-1;(U&&ot.deltaY<0||X&&ot.deltaY>0)&&(window.scrollBy({top:ot.deltaY,behavior:"auto"}),ot.preventDefault())},fn=ot=>{const E=G.current;if(!E)return;const U=ot.target;if(!U||!E.contains(U))return;let X=U;for(;X&&X!==E;){const re=window.getComputedStyle(X).overflowY;if((re==="auto"||re==="scroll")&&X.scrollHeight>X.clientHeight+1){const fe=X.scrollTop<=0,Fe=X.scrollTop+X.clientHeight>=X.scrollHeight-1;(ot.deltaY<0&&fe||ot.deltaY>0&&Fe)&&(window.scrollBy({top:ot.deltaY,behavior:"auto"}),ot.preventDefault());return}X=X.parentElement}},Sn=ot=>{const E=Math.max(0,6-ot);return{accordionDuration:.5+E*.07,itemDuration:.34+E*.035,stagger:.05+E*.01,delayChildren:.06+E*.015}},Rn=ot=>{const E=Sn(ot);return{open:{transition:{staggerChildren:E.stagger,delayChildren:E.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,E.stagger*.7),staggerDirection:-1}}}},er={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:oa?"var(--bg-base)":Lr?Gr?"#2b3048":"#d8d1c5":Yr?"#0f141c":"#0f172a",backgroundImage:oa?"none":cc,...ul},children:[!oa&&!Lr&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>w(!1)}),c.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[c.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),c.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),c.jsx("div",{className:"px-5 pb-4",children:c.jsxs("a",{href:je,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),c.jsx("nav",{className:"px-3 pb-6 space-y-2 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:jt,children:Zn.map(ot=>{const E=ot.icon,U=ot.id===L,X=!!le[ot.id],re=Sn(ot.items.length),fe=Rn(ot.items.length);return c.jsxs(Yo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-1",children:[c.jsxs("button",{onClick:()=>Gt(ot.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${U?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(E,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:ot.label}),c.jsx(Yo.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:X?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Yx,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Yo.div,{initial:!1,animate:X?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:re.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Yo.div,{variants:fe,initial:!1,animate:X?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:ot.items.map(Fe=>{const Oe=Fe.icon;return c.jsxs(Yo.button,{variants:er,transition:{duration:re.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Dt(ot.id,Fe.id),w(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${ne===Fe.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Oe,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Fe.label]},Fe.id)})})},`${ot.id}-submenu-mobile`)]},ot.id)})})]})}),c.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("div",{className:"px-6 pt-6 pb-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:Sr,maskImage:`url(${Q})`,WebkitMaskImage:`url(${Q})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),c.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),c.jsx("nav",{className:"px-4 space-y-2 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:jt,children:Zn.map(ot=>{const E=ot.icon,U=ot.id===L,X=!!le[ot.id],re=Sn(ot.items.length),fe=Rn(ot.items.length);return c.jsxs(Yo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-1",children:[c.jsxs("button",{onClick:()=>Gt(ot.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${U?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(E,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:ot.label}),c.jsx(Yo.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:X?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Yx,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Yo.div,{initial:!1,animate:X?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:re.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Yo.div,{variants:fe,initial:!1,animate:X?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:ot.items.map(Fe=>{const Oe=Fe.icon;return c.jsxs(Yo.button,{variants:er,transition:{duration:re.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Dt(ot.id,Fe.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${ne===Fe.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Oe,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Fe.label]},Fe.id)})})},`${ot.id}-submenu-desktop`)]},ot.id)})}),c.jsx("div",{className:"border-t border-white/10",children:c.jsxs("a",{href:je,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),c.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[c.jsx("div",{className:`${kc} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:Ja,children:c.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(b?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Sr,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:n.meta.title}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:n.meta.dateLabel||iT(n.meta.dateStart,n.meta.dateEnd)})]})]}),c.jsxs("button",{onClick:()=>w(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[c.jsx(Y2,{className:"w-4 h-4"}),"Contents"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[c.jsx(a8,{className:"w-4 h-4 text-[color:var(--accent)]"}),n.meta.dateLabel||"Log Range"]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(Er,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:n.meta.commanders.length?n.meta.commanders.join(", "):"No Commanders"})]}),c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(E3,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",n.meta.appVersion?`v${n.meta.appVersion}`:"build"]})]})]})}),c.jsxs("div",{className:"sm:hidden mb-4",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((ia==null?void 0:ia.items)||[]).map(ot=>{const E=ot.icon;return c.jsxs("button",{onClick:()=>Dt((ia==null?void 0:ia.id)||"overview",ot.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${ne===ot.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[c.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:c.jsx(E,{className:"w-3 h-3 text-[color:var(--accent)]"})}),ot.label]},`chip-${ot.id}`)})})]}),c.jsx("div",{ref:G,onWheelCapture:fn,className:"flex-1 min-w-0",children:c.jsx("div",{id:"stats-view-top",children:c.jsx(Yoe,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:n.stats,statsViewSettings:(e=n.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:S,sectionVisibility:ot=>yu.has(ot),dashboardTitle:`Statistics Dashboard - ${(ia==null?void 0:ia.label)||"Overview"}`})})}),c.jsx("div",{className:"mt-10",children:Fo})]}),c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:c.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[c.jsxs("a",{href:je,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(C3,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),c.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(Y2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),c.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(r8,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),dl]})}return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:oa?"var(--bg-base)":Lr?Gr?"#2b3048":"#d8d1c5":Yr?"#0f141c":"#0f172a",backgroundImage:oa?"none":cc,...ul},children:[!oa&&!Lr&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[c.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[c.jsxs("div",{id:"report-top",className:`${kc} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:Ja,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(b?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Sr,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Nr.length," Reports"]})})]}),c.jsxs("div",{className:`${kc} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:Ja,children:[c.jsx("input",{type:"search",value:d,onChange:Q=>f(Q.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),c.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",c.jsx("span",{className:"text-[color:var(--accent)]",children:Nr.length})," of"," ",c.jsx("span",{className:"text-[color:var(--accent)]",children:hi.length})]})]}),o&&c.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:Ja,children:[c.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),c.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:o}),l&&c.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",c.jsx("span",{className:"text-amber-50",children:l})]})]}),!o&&!a&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:Ja,children:"Loading reports..."}),Nr.length>0&&c.jsx("div",{className:"flex flex-col gap-3",children:Nr.map(Q=>{var ve,Qe,yt,Gt;return c.jsx("a",{href:sye(Tn,Q.id,O),className:`${kc} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:Ja,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0 block text-left",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:Q.dateLabel}),c.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:cye(Q.dateStart)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[c.jsx(Er,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:Q.commanders.length?Q.commanders.join(", "):"No Commanders"})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[c.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(ve=Q.summary)!=null&&ve.mapSlices&&Q.summary.mapSlices.length>0?c.jsxs(c.Fragment,{children:[c.jsx(uye,{slices:Q.summary.mapSlices}),c.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):c.jsxs(c.Fragment,{children:[c.jsx(dye,{value:(Qe=Q.summary)==null?void 0:Qe.borderlandsPct}),c.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),c.jsxs("div",{className:"text-sm text-white font-semibold",children:[((yt=Q.summary)==null?void 0:yt.avgSquadSize)??"--"," / ",((Gt=Q.summary)==null?void 0:Gt.avgEnemySize)??"--"]})]}),c.jsx(c8,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},Q.id)})}),!o&&a&&hi.length===0&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:Ja,children:"No reports uploaded yet."}),!o&&a&&hi.length>0&&Nr.length===0&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:Ja,children:"No reports match your search."})]}),c.jsx("div",{className:"mt-8",children:Fo})]}),dl]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");rx.createRoot(document.getElementById("root")).render(c.jsx(z0.StrictMode,{children:c.jsx(fye,{})}));
